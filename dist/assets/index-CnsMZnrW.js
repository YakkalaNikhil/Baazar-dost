const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Dw9ecbxD.js","assets/vendor-Cc8z-iSB.js","assets/ui-DFWFA8yL.js","assets/firebase-Dr8rg0-Q.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,i)=>((t,r,i)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i)(t,"symbol"!=typeof r?r+"":r,i);import{r,a as i,b as s,R as n,g as a,c as o,d as l}from"./vendor-Cc8z-iSB.js";import{Q as c,A as d,R as u,H as h,M as p,P as m,T as f,G as g,S as x,a as y,B as v,X as b,C as w,b as _,c as N,d as k,e as j,f as S,g as P,h as A,i as C,U as I,j as T,k as F,l as E,m as O,V as M,n as R,o as D,p as B,q as z,r as q,s as U,t as H,u as W,v as $,w as V,x as Z,N as G,y as Q,F as K,z as Y,L as J,Z as X,D as ee,E as te,I as re,J as ie,K as se,O as ne,W as ae,Y as oe,_ as le,$ as ce,a0 as de,a1 as ue,a2 as he,a3 as pe,a4 as me,a5 as fe,a6 as ge,a7 as xe,a8 as ye,a9 as ve,aa as be,ab as we,ac as _e,ad as Ne,ae as ke,af as je,ag as Se,ah as Pe,ai as Le,aj as Ae,ak as Ce,al as Ie,am as Te,an as Fe,ao as Ee}from"./ui-DFWFA8yL.js";import{r as Oe,_ as Me,C as Re,a as De,E as Be,o as ze,F as qe,L as Ue,g as He,i as We,b as $e,v as Ve,c as Ze,d as Ge,e as Qe,f as Ke,S as Ye,h as Je,j as Xe,k as et,l as tt,m as rt,G as it,n as st,p as nt,s as at,q as ot,t as lt,u as ct,w as dt,x as ut,y as ht,z as pt,A as mt,B as ft,D as gt,H as xt,I as yt,J as vt,K as bt,M as wt,N as _t,O as Nt,P as kt,Q as jt,R as St}from"./firebase-Dr8rg0-Q.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Pt={exports:{}},Lt={},At=r,Ct=Symbol.for("react.element"),It=Symbol.for("react.fragment"),Tt=Object.prototype.hasOwnProperty,Ft=At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Et={key:!0,ref:!0,__self:!0,__source:!0};function Ot(e,t,r){var i,s={},n=null,a=null;for(i in void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(a=t.ref),t)Tt.call(t,i)&&!Et.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:Ct,type:e,key:n,ref:a,props:s,_owner:Ft.current}}Lt.Fragment=It,Lt.jsx=Ot,Lt.jsxs=Ot,Pt.exports=Lt;var Mt,Rt,Dt=Pt.exports,Bt={},zt=i;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qt.apply(this,arguments)}Bt.createRoot=zt.createRoot,Bt.hydrateRoot=zt.hydrateRoot,(Rt=Mt||(Mt={})).Pop="POP",Rt.Push="PUSH",Rt.Replace="REPLACE";const Ut="popstate";function Ht(e){return void 0===e&&(e={}),function(e,t,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:n=!1}=i,a=s.history,o=Mt.Pop,l=null,c=d();null==c&&(c=0,a.replaceState(qt({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function u(){o=Mt.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e,t){o=Mt.Push;let r=Zt(f.location,e,t);c=d()+1;let i=Vt(r,c),u=f.createHref(r);try{a.pushState(i,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}n&&l&&l({action:o,location:f.location,delta:1})}function p(e,t){o=Mt.Replace;let r=Zt(f.location,e,t);c=d();let i=Vt(r,c),s=f.createHref(r);a.replaceState(i,"",s),n&&l&&l({action:o,location:f.location,delta:0})}function m(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"==typeof e?e:Gt(e);return r=r.replace(/ $/,"%20"),Wt(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let f={get action(){return o},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ut,u),l=e,()=>{s.removeEventListener(Ut,u),l=null}},createHref:e=>t(s,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>a.go(e)};return f}(function(e,t){let{pathname:r,search:i,hash:s}=e.location;return Zt("",{pathname:r,search:i,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:Gt(t)},0,e)}function Wt(e,t){if(!1===e||null==e)throw new Error(t)}function $t(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(wl){}}}function Vt(e,t){return{usr:e.state,key:e.key,idx:t}}function Zt(e,t,r,i){return void 0===r&&(r=null),qt({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Qt(t):t,{state:r,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function Gt(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function Qt(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var Kt,Yt;function Jt(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let i="string"==typeof t?Qt(t):t,s=hr(i.pathname||"/",r);if(null==s)return null;let n=Xt(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let a=null;for(let o=0;null==a&&o<n.length;++o){let e=ur(s);a=cr(n[o],e)}return a}(e,t,r)}function Xt(e,t,r,i){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i="");let s=(e,s,n)=>{let a={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(Wt(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=gr([i,a.relativePath]),l=r.concat(a);e.children&&e.children.length>0&&(Wt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Xt(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:lr(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let i of er(e.path))s(e,t,i);else s(e,t)}),t}function er(e){let t=e.split("/");if(0===t.length)return[];let[r,...i]=t,s=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===i.length)return s?[n,""]:[n];let a=er(i.join("/")),o=[];return o.push(...a.map(e=>""===e?n:[n,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(Yt=Kt||(Kt={})).data="data",Yt.deferred="deferred",Yt.redirect="redirect",Yt.error="error";const tr=/^:[\w-]+$/,rr=3,ir=2,sr=1,nr=10,ar=-2,or=e=>"*"===e;function lr(e,t){let r=e.split("/"),i=r.length;return r.some(or)&&(i+=ar),t&&(i+=ir),r.filter(e=>!or(e)).reduce((e,t)=>e+(tr.test(t)?rr:""===t?sr:nr),i)}function cr(e,t,r){let{routesMeta:i}=e,s={},n="/",a=[];for(let o=0;o<i.length;++o){let e=i[o],r=o===i.length-1,l="/"===n?t:t.slice(n.length)||"/",c=dr({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),d=e.route;if(!c)return null;Object.assign(s,c.params),a.push({params:s,pathname:gr([n,c.pathname]),pathnameBase:xr(gr([n,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(n=gr([n,c.pathnameBase]))}return a}function dr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);$t("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(i.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let n=new RegExp(s,t?void 0:"i");return[n,i]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let n=s[0],a=n.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((e,t,r)=>{let{paramName:i,isOptional:s}=t;if("*"===i){let e=o[r]||"";a=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[i]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:a,pattern:e}}function ur(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return $t(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function hr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&"/"!==i?null:e.slice(r)||"/"}function pr(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function mr(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function fr(e,t,r,i){let s;void 0===i&&(i=!1),"string"==typeof e?s=Qt(e):(s=qt({},e),Wt(!s.pathname||!s.pathname.includes("?"),pr("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),pr("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),pr("#","search","hash",s)));let n,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)n=r;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}n=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:i="",hash:s=""}="string"==typeof e?Qt(e):e,n=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:n,search:yr(i),hash:vr(s)}}(s,n),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const gr=e=>e.join("/").replace(/\/\/+/g,"/"),xr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yr=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",vr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const br=["post","put","patch","delete"];new Set(br);const wr=["get",...br];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_r.apply(this,arguments)}new Set(wr);const Nr=r.createContext(null),kr=r.createContext(null),jr=r.createContext(null),Sr=r.createContext(null),Pr=r.createContext({outlet:null,matches:[],isDataRoute:!1}),Lr=r.createContext(null);function Ar(){return null!=r.useContext(Sr)}function Cr(){return Ar()||Wt(!1),r.useContext(Sr).location}function Ir(e){r.useContext(jr).static||r.useLayoutEffect(e)}function Tr(){let{isDataRoute:e}=r.useContext(Pr);return e?function(){let{router:e}=function(){let e=r.useContext(Nr);return e||Wt(!1),e}(Br.UseNavigateStable),t=qr(zr.UseNavigateStable),i=r.useRef(!1);return Ir(()=>{i.current=!0}),r.useCallback(function(r,s){void 0===s&&(s={}),i.current&&("number"==typeof r?e.navigate(r):e.navigate(r,_r({fromRouteId:t},s)))},[e,t])}():function(){Ar()||Wt(!1);let e=r.useContext(Nr),{basename:t,future:i,navigator:s}=r.useContext(jr),{matches:n}=r.useContext(Pr),{pathname:a}=Cr(),o=JSON.stringify(mr(n,i.v7_relativeSplatPath)),l=r.useRef(!1);return Ir(()=>{l.current=!0}),r.useCallback(function(r,i){if(void 0===i&&(i={}),!l.current)return;if("number"==typeof r)return void s.go(r);let n=fr(r,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:gr([t,n.pathname])),(i.replace?s.replace:s.push)(n,i.state,i)},[t,s,o,a,e])}()}function Fr(e,t){let{relative:i}=void 0===t?{}:t,{future:s}=r.useContext(jr),{matches:n}=r.useContext(Pr),{pathname:a}=Cr(),o=JSON.stringify(mr(n,s.v7_relativeSplatPath));return r.useMemo(()=>fr(e,JSON.parse(o),a,"path"===i),[e,o,a,i])}function Er(e,t){return function(e,t,i,s){Ar()||Wt(!1);let{navigator:n}=r.useContext(jr),{matches:a}=r.useContext(Pr),o=a[a.length-1],l=o?o.params:{};!o||o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d,u=Cr();if(t){var h;let e="string"==typeof t?Qt(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||Wt(!1),d=e}else d=u;let p=d.pathname||"/",m=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=Jt(e,{pathname:m}),g=function(e,t,i,s){var n;void 0===t&&(t=[]);void 0===i&&(i=null);void 0===s&&(s=null);if(null==e){var a;if(!i)return null;if(i.errors)e=i.matches;else{if(!(null!=(a=s)&&a.v7_partialHydration&&0===t.length&&!i.initialized&&i.matches.length>0))return null;e=i.matches}}let o=e,l=null==(n=i)?void 0:n.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||Wt(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(i&&s&&s.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=i,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,s,n)=>{let a,u=!1,h=null,p=null;var m;i&&(a=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||Mr,c&&(d<0&&0===n?(Ur[m="route-fallback"]||(Ur[m]=!0),u=!0,p=null):d===n&&(u=!0,p=s.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,n+1)),g=()=>{let t;return t=a?h:u?p:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(Dr,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=i},children:t})};return i&&(s.route.ErrorBoundary||s.route.errorElement||0===n)?r.createElement(Rr,{location:i.location,revalidation:i.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:gr([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:gr([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,i,s);if(t&&g)return r.createElement(Sr.Provider,{value:{location:_r({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mt.Pop}},g);return g}(e,t)}function Or(){let e=function(){var e;let t=r.useContext(Lr),i=function(){let e=r.useContext(kr);return e||Wt(!1),e}(),s=qr();if(void 0!==t)return t;return null==(e=i.errors)?void 0:e[s]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),i?r.createElement("pre",{style:s},i):null,null)}const Mr=r.createElement(Or,null);class Rr extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Pr.Provider,{value:this.props.routeContext},r.createElement(Lr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dr(e){let{routeContext:t,match:i,children:s}=e,n=r.useContext(Nr);return n&&n.static&&n.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=i.route.id),r.createElement(Pr.Provider,{value:t},s)}var Br=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Br||{}),zr=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zr||{});function qr(e){let t=function(){let e=r.useContext(Pr);return e||Wt(!1),e}(),i=t.matches[t.matches.length-1];return i.route.id||Wt(!1),i.route.id}const Ur={};function Hr(e){let{to:t,replace:i,state:s,relative:n}=e;Ar()||Wt(!1);let{future:a,static:o}=r.useContext(jr),{matches:l}=r.useContext(Pr),{pathname:c}=Cr(),d=Tr(),u=fr(t,mr(l,a.v7_relativeSplatPath),c,"path"===n),h=JSON.stringify(u);return r.useEffect(()=>d(JSON.parse(h),{replace:i,state:s,relative:n}),[d,h,n,i,s]),null}function Wr(e){Wt(!1)}function $r(e){let{basename:t="/",children:i=null,location:s,navigationType:n=Mt.Pop,navigator:a,static:o=!1,future:l}=e;Ar()&&Wt(!1);let c=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:c,navigator:a,static:o,future:_r({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);"string"==typeof s&&(s=Qt(s));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:f="default"}=s,g=r.useMemo(()=>{let e=hr(u,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:m,key:f},navigationType:n}},[c,u,h,p,m,f,n]);return null==g?null:r.createElement(jr.Provider,{value:d},r.createElement(Sr.Provider,{children:i,value:g}))}function Vr(e){let{children:t,location:r}=e;return Er(Zr(t),r)}function Zr(e,t){void 0===t&&(t=[]);let i=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let n=[...t,s];if(e.type===r.Fragment)return void i.push.apply(i,Zr(e.props.children,n));e.type!==Wr&&Wt(!1),e.props.index&&e.props.children&&Wt(!1);let a={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Zr(e.props.children,n)),i.push(a)}),i}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Gr.apply(this,arguments)}new Promise(()=>{});const Qr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(wl){}const Kr=s.startTransition;function Yr(e){let{basename:t,children:i,future:s,window:n}=e,a=r.useRef();null==a.current&&(a.current=Ht({window:n,v5Compat:!0}));let o=a.current,[l,c]=r.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=r.useCallback(e=>{d&&Kr?Kr(()=>c(e)):c(e)},[c,d]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.useEffect(()=>{return null==(e=s)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[s]),r.createElement($r,{basename:t,children:i,location:l.location,navigationType:l.action,navigator:o,future:s})}const Jr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Xr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=r.forwardRef(function(e,t){let i,{onClick:s,relative:n,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,p=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,Qr),{basename:m}=r.useContext(jr),f=!1;if("string"==typeof d&&Xr.test(d)&&(i=d,Jr))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=hr(t.pathname,m);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:f=!0}catch(wl){}let g=function(e,t){let{relative:i}=void 0===t?{}:t;Ar()||Wt(!1);let{basename:s,navigator:n}=r.useContext(jr),{hash:a,pathname:o,search:l}=Fr(e,{relative:i}),c=o;return"/"!==s&&(c="/"===o?s:gr([s,o])),n.createHref({pathname:c,search:l,hash:a})}(d,{relative:n}),x=function(e,t){let{target:i,replace:s,state:n,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=Tr(),d=Cr(),u=Fr(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,i)){t.preventDefault();let r=void 0!==s?s:Gt(d)===Gt(u);c(e,{replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,s,n,i,e,a,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:h});return r.createElement("a",Gr({},p,{href:i||g,onClick:f||a?s:function(e){s&&s(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var ti,ri,ii,si;(ri=ti||(ti={})).UseScrollRestoration="useScrollRestoration",ri.UseSubmit="useSubmit",ri.UseSubmitFetcher="useSubmitFetcher",ri.UseFetcher="useFetcher",ri.useViewTransitionState="useViewTransitionState",(si=ii||(ii={})).UseFetcher="useFetcher",si.UseFetchers="useFetchers",si.UseScrollRestoration="useScrollRestoration";const ni={};function ai(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&ni[t[0]]||("string"==typeof t[0]&&(ni[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}const oi=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function li(e,t,r){e.loadNamespaces(t,oi(e,r))}function ci(e,t,r,i){"string"==typeof r&&(r=[r]),r.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,oi(e,i))}const di=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ui={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},hi=e=>ui[e];let pi,mi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(di,hi)};const fi={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mi={...mi,...e}}(e.options.react),function(e){pi=e}(e)}},gi=r.createContext();class xi{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function yi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:i}=t,{i18n:s,defaultNS:n}=r.useContext(gi)||{},a=i||s||pi;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new xi),!a){ai("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react&&void 0!==a.options.react.wait&&ai("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...mi,...a.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let d=n||a.options&&a.options.defaultNS;d="string"==typeof d?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(d);const u=(a.isInitialized||a.initializedStoreOnce)&&d.every(e=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.languages[0],s=!!t.options&&t.options.fallbackLng,n=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;const a=(e,r)=>{const i=t.services.backendConnector.state[`${e}|${r}`];return-1===i||2===i};return!(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(i,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(i,e)||s&&!a(n,e)))}(e,t,r):(ai("i18n.languages were undefined or empty",t.languages),!0)}(e,a,o));function h(){return a.getFixedT(t.lng||null,"fallback"===o.nsMode?d:d[0],c)}const[p,m]=r.useState(h);let f=d.join();t.lng&&(f=`${t.lng}${f}`);const g=((e,t)=>{const i=r.useRef();return r.useEffect(()=>{i.current=e},[e,t]),i.current})(f),x=r.useRef(!0);r.useEffect(()=>{const{bindI18n:e,bindI18nStore:r}=o;function i(){x.current&&m(h)}return x.current=!0,u||l||(t.lng?ci(a,t.lng,d,()=>{x.current&&m(h)}):li(a,d,()=>{x.current&&m(h)})),u&&g&&g!==f&&x.current&&m(h),e&&a&&a.on(e,i),r&&a&&a.store.on(r,i),()=>{x.current=!1,e&&a&&e.split(" ").forEach(e=>a.off(e,i)),r&&a&&r.split(" ").forEach(e=>a.store.off(e,i))}},[a,f]);const y=r.useRef(!0);r.useEffect(()=>{x.current&&!y.current&&m(h),y.current=!1},[a,c]);const v=[p,a,u];if(v.t=p,v.i18n=a,v.ready=u,u)return v;if(!u&&!l)return v;throw new Promise(e=>{t.lng?ci(a,t.lng,d,()=>e()):li(a,d,()=>e())})}const vi=r.createContext({}),bi=()=>{const e=r.useContext(vi);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},wi=({children:e})=>{const[t,i]=r.useState("light"),[s,n]=r.useState(!1);r.useEffect(()=>{try{const e=localStorage.getItem("baazar-dost-theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),r=(null==t?void 0:t.matches)?"dark":"light";let o="light";if(!e||"light"!==e&&"dark"!==e?t&&(o=r,n(!0)):(o=e,n(!1)),i(o),a(o),t){const e=e=>{if(s||!localStorage.getItem("baazar-dost-theme")){const t=e.matches?"dark":"light";i(t),a(t)}};return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}}catch(e){console.error("Error initializing theme:",e),i("light"),a("light")}},[]);const a=e=>{try{"light"!==e&&"dark"!==e&&(console.warn("Invalid theme value:",e,"Falling back to light theme"),e="light");const i=document.documentElement;"dark"===e?i.classList.add("dark"):i.classList.remove("dark");try{const t=document.querySelector('meta[name="theme-color"]'),r="dark"===e?"#111827":"#ffffff";if(t)t.setAttribute("content",r);else{const e=document.createElement("meta");e.name="theme-color",e.content=r,document.head.appendChild(e)}}catch(t){console.warn("Could not update meta theme-color:",t)}try{i.style.setProperty("--theme-mode",e),i.style.setProperty("--bg-primary","dark"===e?"#111827":"#ffffff"),i.style.setProperty("--text-primary","dark"===e?"#ffffff":"#111827")}catch(r){console.warn("Could not update CSS custom properties:",r)}}catch(i){console.error("Error applying theme:",i)}},o={theme:t,toggleTheme:()=>{try{const r="light"===t?"dark":"light";i(r),a(r),n(!1);try{localStorage.setItem("baazar-dost-theme",r)}catch(e){console.warn("Could not save theme to localStorage:",e)}}catch(r){console.error("Error toggling theme:",r)}},setTheme:e=>{try{if("light"!==e&&"dark"!==e)return console.warn('Invalid theme mode. Use "light" or "dark"'),!1;i(e),a(e),n(!1);try{localStorage.setItem("baazar-dost-theme",e)}catch(t){console.warn("Could not save theme to localStorage:",t)}return!0}catch(r){return console.error("Error setting theme mode:",r),!1}},resetToSystemTheme:()=>{try{localStorage.removeItem("baazar-dost-theme"),n(!0);const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),t=(null==e?void 0:e.matches)?"dark":"light";i(t),a(t)}catch(e){console.error("Error resetting to system theme:",e)}},isDark:"dark"===t,isLight:"light"===t,isSystemTheme:s,supportsSystemTheme:!(!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)"))};return Dt.jsx(vi.Provider,{value:o,children:e})},_i="@firebase/installations",Ni="0.6.9",ki=1e4,ji=`w:${Ni}`,Si="FIS_v2",Pi=36e5,Li=new Be("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ai(e){return e instanceof qe&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Ii(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Ti(e,t){const r=(await t.json()).error;return Li.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Fi({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Ei(e,{refreshToken:t}){const r=Fi(e);return r.append("Authorization",function(e){return`${Si} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),r}async function Oi(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mi(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ri=/^[cdef][\w-]{21}$/;function Di(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(r=e,btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_"));var r;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return Ri.test(t)?t:""}catch(e){return""}}function Bi(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Map;function qi(e,t){const r=Bi(e);Ui(r,t),function(e,t){const r=function(){!Hi&&"BroadcastChannel"in self&&(Hi=new BroadcastChannel("[Firebase] FID Change"),Hi.onmessage=e=>{Ui(e.data.key,e.data.fid)});return Hi}();r&&r.postMessage({key:e,fid:t});0===zi.size&&Hi&&(Hi.close(),Hi=null)}(r,t)}function Ui(e,t){const r=zi.get(e);if(r)for(const i of r)i(t)}let Hi=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wi="firebase-installations-store";let $i=null;function Vi(){return $i||($i=ze("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Wi)}})),$i}async function Zi(e,t){const r=Bi(e),i=(await Vi()).transaction(Wi,"readwrite"),s=i.objectStore(Wi),n=await s.get(r);return await s.put(t,r),await i.done,n&&n.fid===t.fid||qi(e,t.fid),t}async function Gi(e){const t=Bi(e),r=(await Vi()).transaction(Wi,"readwrite");await r.objectStore(Wi).delete(t),await r.done}async function Qi(e,t){const r=Bi(e),i=(await Vi()).transaction(Wi,"readwrite"),s=i.objectStore(Wi),n=await s.get(r),a=t(n);return void 0===a?await s.delete(r):await s.put(a,r),await i.done,!a||n&&n.fid===a.fid||qi(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(e){let t;const r=await Qi(e.appConfig,r=>{const i=function(e){const t=e||{fid:Di(),registrationStatus:0};return Xi(t)}(r),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Li.create("app-offline"))}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const r=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const i=Ci(e),s=Fi(e),n=t.getImmediate({optional:!0});if(n){const e=await n.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={fid:r,authVersion:Si,appId:e.appId,sdkVersion:ji},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await Oi(()=>fetch(i,o));if(l.ok){const e=await l.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ii(e.authToken)}}throw await Ti("Create Installation",l)}(e,t);return Zi(e.appConfig,r)}catch(wl){throw Ai(wl)&&409===wl.customData.serverCode?await Gi(e.appConfig):await Zi(e.appConfig,{fid:t.fid,registrationStatus:0}),wl}}(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Yi(e)}:{installationEntry:t}}(e,i);return t=s.registrationPromise,s.installationEntry});return""===r.fid?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}async function Yi(e){let t=await Ji(e.appConfig);for(;1===t.registrationStatus;)await Mi(100),t=await Ji(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:r}=await Ki(e);return r||t}return t}function Ji(e){return Qi(e,e=>{if(!e)throw Li.create("installation-not-found");return Xi(e)})}function Xi(e){return 1===(t=e).registrationStatus&&t.registrationTime+ki<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function es({appConfig:e,heartbeatServiceProvider:t},r){const i=function(e,{fid:t}){return`${Ci(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,r),s=Ei(e,r),n=t.getImmediate({optional:!0});if(n){const e=await n.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:ji,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await Oi(()=>fetch(i,o));if(l.ok){return Ii(await l.json())}throw await Ti("Generate Auth Token",l)}async function ts(e,t=!1){let r;const i=await Qi(e.appConfig,i=>{if(!is(i))throw Li.create("not-registered");const s=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Pi}(e)}(s))return i;if(1===s.requestStatus)return r=async function(e,t){let r=await rs(e.appConfig);for(;1===r.authToken.requestStatus;)await Mi(100),r=await rs(e.appConfig);const i=r.authToken;return 0===i.requestStatus?ts(e,t):i}(e,t),i;{if(!navigator.onLine)throw Li.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(i);return r=async function(e,t){try{const r=await es(e,t),i=Object.assign(Object.assign({},t),{authToken:r});return await Zi(e.appConfig,i),r}catch(wl){if(!Ai(wl)||401!==wl.customData.serverCode&&404!==wl.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Zi(e.appConfig,r)}else await Gi(e.appConfig);throw wl}}(e,t),t}});return r?await r:i.authToken}function rs(e){return Qi(e,e=>{if(!is(e))throw Li.create("not-registered");const t=e.authToken;return 1===(r=t).requestStatus&&r.requestTime+ki<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var r;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function is(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ss(e,t=!1){const r=e;await async function(e){const{registrationPromise:t}=await Ki(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);return(await ts(r,t)).token}function ns(e){return Li.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="installations",os=e=>{const t=e.getProvider("app").getImmediate(),r=De(t,as).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:r,registrationPromise:i}=await Ki(t);return i?i.catch(console.error):ts(t).catch(console.error),r.fid}(r),getToken:e=>ss(r,e)}};Me(new Re(as,e=>{const t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw ns("App Configuration");if(!e.name)throw ns("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw ns(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:De(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Me(new Re("installations-internal",os,"PRIVATE")),Oe(_i,Ni),Oe(_i,Ni,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ls="analytics",cs="https://www.googletagmanager.com/gtag/js",ds=new Ue("@firebase/analytics"),us=new Be("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hs(e){if(!e.startsWith(cs)){const t=us.create("invalid-gtag-resource",{gtagURL:e});return ds.warn(t.message),""}return e}function ps(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ms(e,t){const r=function(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}("firebase-js-sdk-policy",{createScriptURL:hs}),i=document.createElement("script"),s=`${cs}?l=${e}&id=${t}`;i.src=r?null==r?void 0:r.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function fs(e,t,r,i){return async function(s,...n){try{if("event"===s){const[i,s]=n;await async function(e,t,r,i,s){try{let n=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const i=await ps(r);for(const r of e){const e=i.find(e=>e.measurementId===r),s=e&&t[e.appId];if(!s){n=[];break}n.push(s)}}0===n.length&&(n=Object.values(t)),await Promise.all(n),e("event",i,s||{})}catch(wl){ds.error(wl)}}(e,t,r,i,s)}else if("config"===s){const[s,a]=n;await async function(e,t,r,i,s,n){const a=i[s];try{if(a)await t[a];else{const e=(await ps(r)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(wl){ds.error(wl)}e("config",s,n)}(e,t,r,i,s,a)}else if("consent"===s){const[t,r]=n;e("consent",t,r)}else if("get"===s){const[t,r,i]=n;e("get",t,r,i)}else if("set"===s){const[t]=n;e("set",t)}else e(s,...n)}catch(wl){ds.error(wl)}}}const gs=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xs(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ys(e,t=gs,r){const{appId:i,apiKey:s,measurementId:n}=e.options;if(!i)throw us.create("no-app-id");if(!s){if(n)return{measurementId:n,appId:i};throw us.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new bs;return setTimeout(async()=>{o.abort()},6e4),vs({appId:i,apiKey:s,measurementId:n},a,o,t)}async function vs(e,{throttleEndTimeMillis:t,backoffCount:r},i,s=gs){var n;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((r,i)=>{const s=Math.max(t-Date.now(),0),n=setTimeout(r,s);e.addEventListener(()=>{clearTimeout(n),i(us.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(i,t)}catch(wl){if(o)return ds.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==wl?void 0:wl.message}]`),{appId:a,measurementId:o};throw wl}try{const t=await async function(e){var t;const{appId:r,apiKey:i}=e,s={method:"GET",headers:xs(i)},n="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),a=await fetch(n,s);if(200!==a.status&&304!==a.status){let e="";try{const r=await a.json();(null===(t=r.error)||void 0===t?void 0:t.message)&&(e=r.error.message)}catch(o){}throw us.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(a),t}catch(wl){const l=wl;if(!function(e){if(!(e instanceof qe&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(s.deleteThrottleMetadata(a),o)return ds.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:o};throw wl}const c=503===Number(null===(n=null==l?void 0:l.customData)||void 0===n?void 0:n.httpStatus)?Ze(r,s.intervalMillis,30):Ze(r,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return s.setThrottleMetadata(a,d),ds.debug(`Calling attemptFetch again in ${c} millis`),vs(e,d,i,s)}}class bs{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ws(e,t,r,i,s,n,a){var o;const l=ys(e);l.then(t=>{r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ds.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>ds.error(e)),t.push(l);const c=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!$e())return ds.warn(us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ve()}catch(wl){return ds.warn(us.create("indexeddb-unavailable",{errorInfo:null==wl?void 0:wl.toString()}).message),!1}return!0}().then(e=>e?i.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(cs)&&r.src.includes(e))return r;return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(n)||ms(n,d.measurementId),s("js",new Date);const h=null!==(o=null==a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),s("config",d.measurementId,h),d.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.app=e}_delete(){return delete Ns[this.app.options.appId],Promise.resolve()}}let Ns={},ks=[];const js={};let Ss,Ps,Ls="dataLayer",As=!1;function Cs(e,t,r){!function(){const e=[];if(We()&&e.push("This is a browser extension environment."),Ke()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),r=us.create("invalid-analytics-context",{errorInfo:t});ds.warn(r.message)}}();const i=e.options.appId;if(!i)throw us.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw us.create("no-api-key");ds.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ns[i])throw us.create("already-exists",{id:i});if(!As){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ls);const{wrappedGtag:e,gtagCore:t}=function(e,t,r,i,s){let n=function(...e){window[i].push(arguments)};return window[s]&&"function"==typeof window[s]&&(n=window[s]),window[s]=fs(n,e,t,r),{gtagCore:n,wrappedGtag:window[s]}}(Ns,ks,js,Ls,"gtag");Ps=e,Ss=t,As=!0}Ns[i]=ws(e,ks,js,t,Ss,Ls,r);return new _s(e)}function Is(e,t,r,i){e=He(e),async function(e,t,r,i,s){if(s&&s.global)e("event",r,i);else{const s=await t;e("event",r,Object.assign(Object.assign({},i),{send_to:s}))}}(Ps,Ns[e.app.options.appId],t,r,i).catch(e=>ds.error(e))}const Ts="@firebase/analytics",Fs="0.10.8";Me(new Re(ls,(e,{options:t})=>Cs(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Me(new Re("analytics-internal",function(e){try{const t=e.getProvider(ls).getImmediate();return{logEvent:(e,r,i)=>Is(t,e,r,i)}}catch(wl){throw us.create("interop-component-reg-failed",{reason:wl})}},"PRIVATE")),Oe(Ts,Fs),Oe(Ts,Fs,"esm2017");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Es="firebasestorage.googleapis.com";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Os extends qe{constructor(e,t,r=0){super(zs(e),`Firebase Storage: ${t} (${zs(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zs(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ms,Rs,Ds,Bs;function zs(e){return"storage/"+e}function qs(e){return new Os(Ms.INVALID_ARGUMENT,e)}function Us(){return new Os(Ms.APP_DELETED,"The Firebase app was deleted.")}(Rs=Ms||(Ms={})).UNKNOWN="unknown",Rs.OBJECT_NOT_FOUND="object-not-found",Rs.BUCKET_NOT_FOUND="bucket-not-found",Rs.PROJECT_NOT_FOUND="project-not-found",Rs.QUOTA_EXCEEDED="quota-exceeded",Rs.UNAUTHENTICATED="unauthenticated",Rs.UNAUTHORIZED="unauthorized",Rs.UNAUTHORIZED_APP="unauthorized-app",Rs.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Rs.INVALID_CHECKSUM="invalid-checksum",Rs.CANCELED="canceled",Rs.INVALID_EVENT_NAME="invalid-event-name",Rs.INVALID_URL="invalid-url",Rs.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Rs.NO_DEFAULT_BUCKET="no-default-bucket",Rs.CANNOT_SLICE_BLOB="cannot-slice-blob",Rs.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Rs.NO_DOWNLOAD_URL="no-download-url",Rs.INVALID_ARGUMENT="invalid-argument",Rs.INVALID_ARGUMENT_COUNT="invalid-argument-count",Rs.APP_DELETED="app-deleted",Rs.INVALID_ROOT_OPERATION="invalid-root-operation",Rs.INVALID_FORMAT="invalid-format",Rs.INTERNAL_ERROR="internal-error",Rs.UNSUPPORTED_ENVIRONMENT="unsupported-environment";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hs.makeFromUrl(e,t)}catch(wl){return new Hs(e,"")}if(""===r.path)return r;throw i=e,new Os(Ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+i+"(/(.*))?$","i");function n(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:n},{regex:new RegExp(`^https?://${t===Es?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:n}];for(let l=0;l<o.length;l++){const t=o[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let s=i[t.indices.path];s||(s=""),r=new Hs(e,s),t.postModify(r);break}}if(null==r)throw function(e){return new Os(Ms.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return r}}class Ws{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(e,t,r,i){if(i<t)throw qs(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>r)throw qs(`Invalid value for '${e}'. Expected ${r} or less.`)}(Bs=Ds||(Ds={}))[Bs.NO_ERROR=0]="NO_ERROR",Bs[Bs.NETWORK_ERROR=1]="NETWORK_ERROR",Bs[Bs.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vs{constructor(e,t,r,i,s,n,a,o,l,c,d,u=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=n,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Zs(!1,null,!0));const r=this.connectionFactory_();this.pendingConnection_=r;const i=e=>{const t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(i),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(i),this.pendingConnection_=null;const t=r.getErrorCode()===Ds.NO_ERROR,s=r.getStatus();if(!t||
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){const r=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return r||i||s}(s,this.additionalRetryCodes_)&&this.retry){const t=r.getErrorCode()===Ds.ABORT;return void e(!1,new Zs(!1,null,t))}const n=-1!==this.successCodes_.indexOf(s);e(!0,new Zs(n,r))})},t=(e,t)=>{const r=this.resolve_,i=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());void 0!==e?r(e):r()}catch(wl){i(wl)}else if(null!==s){const e=new Os(Ms.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");e.serverResponse=s.getErrorText(),this.errorCallback_?i(this.errorCallback_(s,e)):i(e)}else if(t.canceled){i(this.appDelete_?Us():new Os(Ms.CANCELED,"User canceled the upload/download."))}else{i(new Os(Ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Zs(!1,null,!0)):this.backoffId_=function(e,t,r){let i=1,s=null,n=null,a=!1,o=0;function l(){return 2===o}let c=!1;function d(...e){c||(c=!0,t.apply(null,e))}function u(t){s=setTimeout(()=>{s=null,e(p,l())},t)}function h(){n&&clearTimeout(n)}function p(e,...t){if(c)return void h();if(e)return h(),void d.call(null,e,...t);if(l()||a)return h(),void d.call(null,e,...t);let r;i<64&&(i*=2),1===o?(o=2,r=0):r=1e3*(i+Math.random()),u(r)}let m=!1;function f(e){m||(m=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),u(0)):e||(o=1)))}return u(0),n=setTimeout(()=>{a=!0,f(!0)},r),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zs{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Gs(e,t,r,i,s,n,a=!0){const o=function(e){const t=encodeURIComponent;let r="?";for(const i in e)e.hasOwnProperty(i)&&(r=r+(t(i)+"=")+t(e[i])+"&");return r=r.slice(0,-1),r}(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,r),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,n),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new Vs(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qs{constructor(e,t){this._service=e,this._location=t instanceof Hs?t:Hs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qs(e,t)}get root(){const e=new Hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Hs(this._location.bucket,e);return new Qs(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Os(Ms.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Ks(e,t){const r=null==t?void 0:t.storageBucket;return null==r?null:Hs.makeFromBucketSpec(r,e)}class Ys{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Es,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Hs.makeFromBucketSpec(i,this._host):Ks(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Hs.makeFromBucketSpec(this._url,e):this._bucket=Ks(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$s("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$s("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Ws(Us());{const n=Gs(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(n),n.getPromise().then(()=>this._requests.delete(n),()=>this._requests.delete(n)),n}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Js="@firebase/storage",Xs="0.13.2",en="storage";function tn(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ys(r,i,s,t,Ye)}Me(new Re(en,tn,"PUBLIC").setMultipleInstances(!0)),Oe(Js,Xs,""),Oe(Js,Xs,"esm2017");const rn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCf26KYPMRzoYp_iSHRE3ZLeXphD_RHtKk",VITE_FIREBASE_APP_ID:"1:1064183964926:web:d612eb76031251ddd871af",VITE_FIREBASE_AUTH_DOMAIN:"baazar-dost.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-H82SF43N80",VITE_FIREBASE_MESSAGING_SENDER_ID:"1064183964926",VITE_FIREBASE_PROJECT_ID:"baazar-dost",VITE_FIREBASE_STORAGE_BUCKET:"baazar-dost.firebasestorage.app",VITE_NODE_ENV:"development"},sn={apiKey:"AIzaSyCf26KYPMRzoYp_iSHRE3ZLeXphD_RHtKk",authDomain:"baazar-dost.firebaseapp.com",projectId:"baazar-dost",storageBucket:"baazar-dost.firebasestorage.app",messagingSenderId:"1064183964926",appId:"1:1064183964926:web:d612eb76031251ddd871af",measurementId:"G-H82SF43N80"},nn=et(sn),an=tt(nn),on=rt(nn);!function(e=Ge(),t){e=He(e);const r=De(e,en).getImmediate({identifier:t}),i=Je("storage");i&&function(e,t,r,i={}){!function(e,t,r,i={}){e.host=`${t}:${r}`,e._protocol="http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken="string"==typeof s?s:Xe(s,e.app.options.projectId))}(e,t,r,i)}(r,...i)}(nn);const ln=new it;ln.addScope("email"),ln.addScope("profile"),ln.setCustomParameters({prompt:"select_account"}),console.log("🔥 Firebase initialized with config:",{projectId:sn.projectId,authDomain:sn.authDomain,apiKey:sn.apiKey?"***"+sn.apiKey.slice(-4):"missing",environment:"development",host:"undefined"!=typeof window?window.location.host:"server"});const cn=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_APP_ID"].filter(e=>!rn[e]);cn.length>0?console.error("❌ Missing required Firebase environment variables:",cn):console.log("✅ All required Firebase environment variables are set");let dn=null;if("undefined"!=typeof window)try{dn=function(e=Ge()){e=He(e);const t=De(e,ls);return t.isInitialized()?t.getImmediate():function(e,t={}){const r=De(e,ls);if(r.isInitialized()){const e=r.getImmediate();if(Qe(t,r.getOptions()))return e;throw us.create("already-initialized")}return r.initialize({options:t})}(e)}(nn)}catch(uu){console.warn("Analytics initialization failed:",uu)}console.log("🔥 Using production Firebase project: baazar-dost");const un=r.createContext({}),hn=()=>{const e=r.useContext(un);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pn=({children:e})=>{const[t,i]=r.useState(null),[s,n]=r.useState(!0),[a,o]=r.useState(null),l={url:window.location.origin+"/login",handleCodeInApp:!0};r.useEffect(()=>{const e=st(an,async e=>{try{console.log("🔄 Auth state changed:",e?"User signed in":"User signed out"),e?(console.log("👤 User details:",{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}),i(e),console.log("📋 Loading user profile..."),await d(e.uid),console.log("✅ User profile loaded successfully")):(console.log("👋 User signed out"),i(null),o(null))}catch(uu){console.error("❌ Auth state change error:",uu),c.error("Authentication error occurred")}finally{n(!1),console.log("🏁 Auth loading completed")}});return nt(an,window.location.href)?h():(m(),n(!1)),e},[]);const d=async e=>{try{const t=await ut(ct(on,"users",e));if(t.exists()){const e=t.data();o(e),console.log("✅ User profile loaded:",e)}else console.log("⚠️ No user profile found for:",e),o(null)}catch(uu){console.error("Error loading user profile:",uu),c.error("Failed to load user profile"),o(null)}},u=async e=>{try{if((await ut(ct(on,"users",e.uid))).exists()){const t={email:e.email,name:e.displayName,photoURL:e.photoURL,provider:"google",updatedAt:ot()};await lt(ct(on,"users",e.uid),t,{merge:!0}),console.log("✅ Updated existing user profile with Google data"),await d(e.uid)}else console.log("⚠️ New Google user - will need account setup"),o(null)}catch(uu){console.error("Error handling Google user profile:",uu),c.error("Failed to load user profile"),o(null)}},h=async()=>{try{n(!0);let t=localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Please provide your email for confirmation")),t){const r=await at(an,t,window.location.href);localStorage.removeItem("emailForSignIn");const i=localStorage.getItem("pendingRegistration");if(i&&r.user)try{const e=JSON.parse(i);if(!e.name||!e.role||!e.businessName)throw new Error("Missing required registration data");const t={uid:r.user.uid,email:r.user.email,name:e.name,phone:e.phone,businessName:e.businessName,businessType:e.businessType,vendorType:e.vendorType,address:e.address,role:e.role,isActive:!0,profileComplete:!0,createdAt:ot(),updatedAt:ot(),preferences:{language:"en",theme:"light",notifications:!0}};await lt(ct(on,"users",r.user.uid),t),localStorage.removeItem("pendingRegistration"),c.success(`Welcome to Baazar Dost! Registered as ${e.role}`)}catch(e){console.error("Error creating user profile:",e),c.error("Registration completed but failed to save profile")}else c.success("Successfully signed in!");window.history.replaceState({},document.title,window.location.pathname)}}catch(uu){console.error("Error signing in with email link:",uu);let t="Failed to sign in";switch(uu.code){case"auth/invalid-action-code":t="Invalid or expired login link";break;case"auth/invalid-email":t="Invalid email address";break;default:t=uu.message||"Failed to sign in"}c.error(t)}finally{n(!1)}},p=async(e="popup",t=!0)=>{try{let t;if(n(!0),"popup"!==e)return console.log("🔄 Starting Google Sign-In with Redirect..."),await mt(an,ln),{success:!0,message:"Redirecting..."};{console.log("🚀 Starting Google Sign-In with Popup...");const e=pt(an,ln),r=new Promise((e,t)=>setTimeout(()=>t(new Error("popup-timeout")),3e4));t=await Promise.race([e,r])}const r=t.user;return console.log("✅ Google Sign-In Successful!"),console.log("👤 Display Name:",r.displayName),console.log("📧 Email:",r.email),console.log("🖼️ Photo URL:",r.photoURL),console.log("🆔 UID:",r.uid),console.log("🔍 Full User Object:",r),await u(r),c.success(`Welcome ${r.displayName}! Successfully signed in with Google.`),{success:!0,user:r}}catch(uu){if(console.error("❌ Google Sign-In Error:",uu),"popup"===e&&t&&("auth/popup-closed-by-user"===uu.code||"auth/popup-blocked"===uu.code||"auth/cancelled-popup-request"===uu.code||"popup-timeout"===uu.message))return console.log("🔄 Popup failed, trying redirect method..."),c.info("Popup blocked or closed. Trying redirect method..."),await p("redirect",!1);let i="Failed to sign in with Google";switch(uu.code){case"auth/popup-closed-by-user":i="Sign-in popup was closed. Trying redirect method...";break;case"auth/popup-blocked":i="Popup was blocked by browser. Trying redirect method...";break;case"auth/cancelled-popup-request":i="Sign-in was cancelled. Trying redirect method...";break;case"popup-timeout":i="Popup timed out. Trying redirect method...";break;case"auth/network-request-failed":i="Network error. Please check your internet connection.";break;case"auth/too-many-requests":i="Too many failed attempts. Please try again later.";break;default:i=uu.message}return c.error(i),{success:!1,error:i}}finally{n(!1)}},m=async()=>{try{const e=await dt(an);if(e){const t=e.user;return console.log("🔄 Google Redirect Sign-In Successful!"),console.log("👤 Display Name:",t.displayName),await u(t),c.success(`Welcome ${t.displayName}! Signed in via redirect.`),{success:!0,user:t}}}catch(uu){return console.error("❌ Google redirect sign-in error:",uu),c.error(`Redirect sign-in failed: ${uu.message}`),{success:!1,error:uu.message}}},f={user:t,userProfile:a,loading:s,sendLoginLink:async e=>{try{return n(!0),await ft(an,e,l),localStorage.setItem("emailForSignIn",e),c.success("Login link sent to your email!"),{success:!0}}catch(uu){console.error("Error sending login link:",uu);let t="Failed to send login link";switch(uu.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-disabled":t="This account has been disabled";break;case"auth/too-many-requests":t="Too many requests. Please try again later";break;default:t=uu.message||"Failed to send login link"}return c.error(t),{success:!1,error:t}}finally{n(!1)}},signInWithGoogle:p,createUserProfile:async e=>{var t;try{if(!an.currentUser)throw new Error("No authenticated user");const r=an.currentUser.uid,i={...e,uid:r,email:e.email||an.currentUser.email,photoURL:an.currentUser.photoURL,provider:(null==(t=an.currentUser.providerData[0])?void 0:t.providerId)||"email",createdAt:ot(),updatedAt:ot(),preferences:{language:"en",theme:"light",notifications:!0},accountSetupCompleted:!0};return await lt(ct(on,"users",r),i),o(i),console.log("✅ User profile created successfully"),{success:!0}}catch(uu){throw console.error("Error creating user profile:",uu),uu}},checkGoogleRedirectResult:m,signOut:async()=>{try{n(!0),await ht(an),i(null),o(null),localStorage.removeItem("emailForSignIn"),c.success("Successfully signed out!")}catch(uu){console.error("Error signing out:",uu),c.error("Failed to sign out")}finally{n(!1)}},updateUserProfile:async e=>{try{if(!t)throw new Error("No user logged in");const r={...a,...e,updatedAt:ot()};return await lt(ct(on,"users",t.uid),r,{merge:!0}),o(r),c.success("Profile updated successfully!"),{success:!0}}catch(uu){return console.error("Error updating profile:",uu),c.error("Failed to update profile"),{success:!1,error:uu.message}}},isAuthenticated:!!t};return Dt.jsx(un.Provider,{value:f,children:e})},mn=r.createContext({}),fn=()=>{const e=r.useContext(mn);if(!e)throw new Error("useCart must be used within a CartProvider");return e},gn=({children:e})=>{const{user:t}=hn(),[i,s]=r.useState([]),[n,a]=r.useState(!1);r.useEffect(()=>{o()},[t]);const o=async()=>{try{if(a(!0),!t){try{const e=localStorage.getItem("cart");s(e?JSON.parse(e):[])}catch(uu){console.error("Error loading cart from localStorage:",uu),s([])}return void a(!1)}const e=ct(on,"carts",t.uid);return gt(e,e=>{if(e.exists()){const t=e.data();s(t.items||[])}else s([]);a(!1)},e=>{console.error("Error loading cart:",e),a(!1)})}catch(uu){console.error("Error setting up cart listener:",uu),a(!1)}},l=async e=>{if(!t)try{return localStorage.setItem("cart",JSON.stringify(e)),console.log("Cart saved to localStorage:",e.length,"items"),{success:!0}}catch(uu){throw console.error("Error saving cart to localStorage:",uu),new Error("Failed to save cart locally")}try{const r=ct(on,"carts",t.uid);return await lt(r,{items:e,updatedAt:new Date,userId:t.uid},{merge:!0}),console.log("Cart saved to Firebase:",e.length,"items"),{success:!0}}catch(uu){console.error("Error saving cart to Firebase:",uu);try{return localStorage.setItem("cart",JSON.stringify(e)),console.log("Cart saved to localStorage as fallback"),{success:!0}}catch(r){throw console.error("Error saving cart to localStorage fallback:",r),new Error("Failed to save cart")}}},d=async e=>{try{const t=i.filter(t=>t.cartKey!==e);return s(t),await l(t),c.success("Item removed from cart!"),{success:!0}}catch(uu){return console.error("Error removing from cart:",uu),c.error("Failed to remove item from cart"),{success:!1,error:uu.message}}},u=()=>i.reduce((e,t)=>{const r=p(t);return console.log(`Cart item: ${t.name}`),console.log(`  - Order type: ${t.orderType}`),console.log(`  - Price: ₹${t.price}, Quantity: ${t.quantity}`),console.log(`  - Bulk multiplier: ${t.bulkMultiplier}`),console.log(`  - Actual quantity: ${t.actualQuantity}`),console.log(`  - Price per unit: ₹${t.pricePerUnit||"N/A"}`),console.log(`  - Item total: ₹${r.toFixed(2)}`),e+r},0),h=()=>i.reduce((e,t)=>e+t.quantity,0),p=e=>e.bulkMultiplier>1&&e.pricePerUnit?e.pricePerUnit*e.actualQuantity:e.price*e.quantity,m=e=>.18*e,f={cartItems:i,loading:n,addToCart:async(e,t=1,r="unit",n=null)=>{try{const o=e.productId||e.id;if(!o)throw new Error("Product ID is required");const c=n?`${o}-${r}-${n}`:`${o}-${r}`,d=i.findIndex(e=>e.cartKey===c);let u;if(d>=0)u=[...i],u[d].quantity+=t;else{let s=e.price,a=e.unit,l=e.name,d=1,h=t,p=s;if(n&&e.quantityPrices&&e.quantityPrices[n]){const r=e.quantityPrices[n],i=parseInt(n.split(" ")[0])||1;d=i,h=t*d,p=r/i,s=r,a=n,l=`${e.name} (${n})`,console.log(`Bulk order: ${t} × ${n} = ${h} pieces`),console.log(`Price: ₹${r} per ${n} (₹${p.toFixed(2)} per piece)`),console.log(`Total for this item: ₹${(p*h).toFixed(2)}`)}else if(e.selectedPrice&&e.selectedQuantity){const r=parseInt(e.selectedQuantity.split(" ")[0])||1;d=r,h=t*d,p=e.selectedPrice/r,s=e.selectedPrice,a=e.selectedQuantity,l=`${e.name} (${e.selectedQuantity})`,console.log(`Selected bulk: ${t} × ${e.selectedQuantity} = ${h} pieces`),console.log(`Price: ₹${e.selectedPrice} per ${e.selectedQuantity} (₹${p.toFixed(2)} per piece)`),console.log(`Total for this item: ₹${(p*h).toFixed(2)}`)}else"bulk"===r?(s=e.bulkPrice||e.unitPrice||e.price,a=e.bulkUnit||e.unit,d=e.minBulkQuantity||1,h=t*d,p=s/d,l=`${e.name} (Bulk: ${d} ${e.unit})`,console.log(`Bulk pricing: ${t} × ${d} = ${h} pieces`),console.log(`Price: ₹${s} per bulk unit (₹${p.toFixed(2)} per piece)`),console.log(`Total for this item: ₹${(p*h).toFixed(2)}`)):(s=e.unitPrice||e.price,a=e.unit,p=s,h=t,console.log(`Unit pricing: ${t} × ₹${s} = ₹${(s*t).toFixed(2)}`));const m={productId:o,cartKey:c,name:l,price:s,pricePerUnit:p,quantity:t,actualQuantity:h,bulkMultiplier:d,orderType:r,unit:a,originalUnit:e.unit,image:e.image||"/api/placeholder/150/150",supplierId:e.supplierId||"unknown",supplierName:e.supplierName||e.supplier||"Unknown Supplier",category:e.category||"general",description:e.description||"",originalPrice:e.originalPrice,selectedQuantity:n||e.selectedQuantity,selectedPrice:e.selectedPrice,addedAt:new Date};u=[...i,m]}s(u);try{await l(u)}catch(a){throw s(i),a}return{success:!0}}catch(uu){return console.error("Error adding to cart:",uu),c.error(uu.message||"Failed to add item to cart"),{success:!1,error:uu.message}}},removeFromCart:d,updateQuantity:async(e,t)=>{try{if(t<=0)return await d(e);const r=i.map(r=>{if(r.cartKey===e){const e=t*(r.bulkMultiplier||1);return console.log(`Updating quantity for ${r.name}:`),console.log(`  - New quantity: ${t}`),console.log(`  - Bulk multiplier: ${r.bulkMultiplier||1}`),console.log(`  - New actual quantity: ${e}`),console.log(`  - New total: ₹${p({...r,quantity:t,actualQuantity:e}).toFixed(2)}`),{...r,quantity:t,actualQuantity:e}}return r});return s(r),await l(r),{success:!0}}catch(uu){return console.error("Error updating quantity:",uu),c.error("Failed to update quantity"),{success:!1,error:uu.message}}},clearCart:async()=>{try{return s([]),await l([]),c.success("Cart cleared!"),{success:!0}}catch(uu){return console.error("Error clearing cart:",uu),c.error("Failed to clear cart"),{success:!1,error:uu.message}}},getCartTotal:u,getCartItemCount:h,getItemTotal:p,getTaxAmount:m,getCartSummary:()=>{const e=u(),t=m(e);return{subtotal:e,tax:t,total:e+t,itemCount:h()}},isEmpty:0===i.length};return Dt.jsx(mn.Provider,{value:f,children:e})},xn=({size:e="medium",className:t=""})=>Dt.jsx("div",{className:`flex items-center justify-center ${t}`,children:Dt.jsx("div",{className:`${{small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[e]} border-3 border-gray-200 border-t-primary-600 rounded-full animate-spin`})});class yn extends n.Component{constructor(e){super(e),t(this,"logErrorToService",(e,t)=>{try{const r={message:e.message,stack:e.stack,componentStack:t.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:localStorage.getItem("user-id")||"anonymous",errorId:this.state.errorId};console.log("Error logged:",r)}catch(r){console.error("Failed to log error:",r)}}),t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})}),t(this,"handleReload",()=>{window.location.reload()}),t(this,"handleGoHome",()=>{window.location.href="/"}),t(this,"handleReportError",()=>{var e;const t=(null==(e=this.state.error)?void 0:e.message)||"Unknown error",r=this.state.errorId,i=(new Date).toISOString(),s=encodeURIComponent(`Error Report - ${r}`),n=encodeURIComponent(`\nError Details:\n- Message: ${t}\n- Error ID: ${r}\n- Time: ${i}\n- Page: ${window.location.href}\n\nPlease describe what you were doing when this error occurred:\n[Your description here]\n    `);window.open(`mailto:support@baazardost.com?subject=${s}&body=${n}`)}),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,errorId:Date.now().toString(36)+Math.random().toString(36).substr(2)}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),this.logErrorToService(e,t)}render(){if(this.state.hasError){const{error:e,errorInfo:t,errorId:r}=this.state,i=!1;return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:Dt.jsxs("div",{className:"max-w-2xl w-full",children:[Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-8",children:[Dt.jsx("div",{className:"flex justify-center mb-6",children:Dt.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:Dt.jsx(d,{className:"w-8 h-8 text-red-600 dark:text-red-400"})})}),Dt.jsxs("div",{className:"text-center mb-8",children:[Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Oops! Something went wrong"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"We're sorry for the inconvenience. The application encountered an unexpected error."}),r&&Dt.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Error ID: ",Dt.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:r})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Dt.jsxs("button",{onClick:this.handleRetry,className:"flex items-center justify-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[Dt.jsx(u,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Try Again"})]}),Dt.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center space-x-2 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:[Dt.jsx(h,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Go Home"})]})]}),Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[Dt.jsx("button",{onClick:this.handleReload,className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm font-medium",children:"Reload Page"}),Dt.jsx("span",{className:"hidden sm:inline text-gray-400",children:"•"}),Dt.jsxs("button",{onClick:this.handleReportError,className:"flex items-center justify-center space-x-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm font-medium",children:[Dt.jsx(p,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Report Error"})]})]}),i]}),Dt.jsx("div",{className:"mt-6 text-center",children:Dt.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["If this problem persists, please contact our support team at"," ",Dt.jsx("a",{href:"mailto:support@baazardost.com",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"support@baazardost.com"})]})})]})})}return this.props.children}}const vn=({isOpen:e,onClose:t})=>{const{t:i}=yi(),{user:s}=hn(),[n,a]=r.useState([]),[o,l]=r.useState("all");r.useEffect(()=>{const e=[{id:"1",type:"order",title:"Order Confirmed",message:"Your order #ORD-001 has been confirmed and is being prepared.",timestamp:new Date(Date.now()-18e5),read:!1,icon:m,color:"text-blue-600",bgColor:"bg-blue-100"},{id:"2",type:"delivery",title:"Out for Delivery",message:"Your order #ORD-002 is out for delivery and will arrive in 2 hours.",timestamp:new Date(Date.now()-72e5),read:!1,icon:f,color:"text-green-600",bgColor:"bg-green-100"},{id:"3",type:"promotion",title:"Special Offer!",message:"Get 20% off on all spices this weekend. Limited time offer!",timestamp:new Date(Date.now()-144e5),read:!0,icon:g,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"4",type:"review",title:"Review Request",message:"How was your experience with Mumbai Central Market? Leave a review.",timestamp:new Date(Date.now()-864e5),read:!0,icon:x,color:"text-yellow-600",bgColor:"bg-yellow-100"},{id:"5",type:"alert",title:"Price Alert",message:"Basmati Rice price has dropped by 15%. Great time to stock up!",timestamp:new Date(Date.now()-1728e5),read:!0,icon:y,color:"text-orange-600",bgColor:"bg-orange-100"}];a(e)},[]);const c=n.filter(e=>"unread"===o?!e.read:"read"!==o||e.read),d=e=>{const t=new Date-e,r=Math.floor(t/6e4),i=Math.floor(t/36e5),s=Math.floor(t/864e5);return r<60?`${r}m ago`:i<24?`${i}h ago`:`${s}d ago`},u=n.filter(e=>!e.read).length;return e?Dt.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[Dt.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),Dt.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white dark:bg-gray-800 shadow-xl",children:Dt.jsxs("div",{className:"flex flex-col h-full",children:[Dt.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(v,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),Dt.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),u>0&&Dt.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:u})]}),Dt.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(b,{className:"w-5 h-5"})})]}),Dt.jsx("div",{className:"flex space-x-1 p-4 border-b border-gray-200 dark:border-gray-700",children:["all","unread","read"].map(e=>Dt.jsx("button",{onClick:()=>l(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(o===e?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),u>0&&Dt.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:Dt.jsx("button",{onClick:()=>{a(e=>e.map(e=>({...e,read:!0})))},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Mark all as read"})}),Dt.jsx("div",{className:"flex-1 overflow-y-auto",children:0===c.length?Dt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[Dt.jsx(v,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You're all caught up!"})]}):Dt.jsx("div",{className:"space-y-1",children:c.map(e=>{const t=e.icon;return Dt.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors "+(e.read?"":"bg-blue-50 dark:bg-blue-900/10"),children:Dt.jsxs("div",{className:"flex items-start space-x-3",children:[Dt.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full ${e.bgColor} flex items-center justify-center`,children:Dt.jsx(t,{className:`w-4 h-4 ${e.color}`})}),Dt.jsxs("div",{className:"flex-1 min-w-0",children:[Dt.jsxs("div",{className:"flex items-start justify-between",children:[Dt.jsx("h4",{className:"text-sm font-medium "+(e.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),Dt.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!e.read&&Dt.jsx("button",{onClick:()=>{return t=e.id,void a(e=>e.map(e=>e.id===t?{...e,read:!0}:e));var t},className:"p-1 text-blue-600 hover:text-blue-700",title:"Mark as read",children:Dt.jsx(w,{className:"w-3 h-3"})}),Dt.jsx("button",{onClick:()=>{return t=e.id,void a(e=>e.filter(e=>e.id!==t));var t},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:Dt.jsx(_,{className:"w-3 h-3"})})]})]}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.message}),Dt.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[Dt.jsx(N,{className:"w-3 h-3 text-gray-400"}),Dt.jsx("span",{className:"text-xs text-gray-500",children:d(e.timestamp)})]})]})]})},e.id)})})})]})})]}):null},bn={"panipuri-kit-complete":["/images/panipuri kit.jpg","/images/panipuri chips.jpg"],"panipuri-puris-fresh":["/images/panipuri chips.jpg"],"pani-puri-kit":["/images/panipuri kit.jpg","/images/panipuri chips.jpg"],"chocolate-syrup-waffle":["/images/chocolate syrup.jpg"],"wheat-flour-10kg":["/images/wheat flour 1.jpg","/images/wheat flour2.webp","/images/wheat flour 3.avif"],"maida-flour":["/images/maida.webp"],"corn-flour":["/images/CORN-FLOUR.jpg"],"onions-red":["/images/onion.webp"],"tomatoes-fresh":["/images/tomata.jpg"],"potatoes-fresh":["/images/potato.jpg"],"green-chillies-fresh":["/images/green chilles.jpeg"],"curry-leaves-fresh":["/images/CurryLeaves.webp"],"coriander-leaves-fresh":["/images/coriander leaves.jpg"],"green-peas-fresh":["/images/green peas.avif"],"red-chili-powder":["/images/red chilli.jpg","/images/RedChilliPowder.webp"],"garam-masala-powder":["/images/garam masala.webp"],"milk-packets":["/images/milk.jpg"],"tea-powder":["/images/tea cups.webp"],"paper-plates":["/images/disposable plates 1.jpg","/images/disposable-paper-plates.webp"],"plastic-cups-disposable":["/images/tea cups.webp"],"chilli-sauce":["/images/chilli sauces.webp"],"chinese-sauce-kit":["/images/chinesse sauce kit.webp"],"tata-salt":["/images/tata salt.jpg"],"regular-salt":["/images/salt1.avif"],"sweet-corn-fresh":["/images/sweet corn.jpg"]},wn=(e,t=0)=>{const r=bn[e];return r?Array.isArray(r)?r[t]||r[0]:r:null},_n=e=>{const t=bn[e];return t?Array.isArray(t)?t.length:1:0},Nn=[{id:"grains",name:"Grains & Cereals",icon:"🌾",vendors:["street_shop","restaurant"]},{id:"vegetables",name:"Fresh Vegetables",icon:"🥕",vendors:["street_vendor","juice_shop","restaurant"]},{id:"fruits",name:"Fresh Fruits",icon:"🍎",vendors:["juice_shop","street_vendor"]},{id:"spices",name:"Spices & Masalas",icon:"🌶️",vendors:["street_vendor","restaurant","street_shop"]},{id:"oils",name:"Cooking Oils",icon:"🛢️",vendors:["street_vendor","restaurant","street_shop"]},{id:"dairy",name:"Dairy Products",icon:"🥛",vendors:["juice_shop","waffle_counter","restaurant"]},{id:"snacks",name:"Street Snacks",icon:"🍿",vendors:["panipuri_vendor","street_vendor"]},{id:"beverages",name:"Beverages",icon:"🥤",vendors:["juice_shop","street_vendor"]},{id:"waffle_supplies",name:"Waffle Supplies",icon:"🧇",vendors:["waffle_counter"]},{id:"panipuri_supplies",name:"Panipuri Supplies",icon:"🥟",vendors:["panipuri_vendor"]},{id:"packaging",name:"Packaging Materials",icon:"📦",vendors:["all"]},{id:"cleaning",name:"Cleaning Supplies",icon:"🧽",vendors:["all"]}],kn=[{id:"panipuri_vendor",name:"Panipuri Vendor",icon:"🥟"},{id:"street_vendor",name:"Street Food Vendor",icon:"🍛"},{id:"waffle_counter",name:"Waffle Counter",icon:"🧇"},{id:"juice_shop",name:"Juice Shop",icon:"🥤"},{id:"street_shop",name:"Street Shop",icon:"🏪"},{id:"restaurant",name:"Small Restaurant",icon:"🍽️"}],jn=[{id:"panipuri-kit-complete",name:"Complete Panipuri Kit",category:"panipuri_supplies",description:"Everything needed for panipuri: puris, masala, chutneys, and sev",unitPrice:150,bulkPrice:135,unit:"kit (100 pieces)",bulkUnit:"10 kits",minBulkQuantity:10,inStock:!0,stockQuantity:200,availableQuantities:["50 pieces","100 pieces","200 pieces","500 pieces","1000 pieces"],quantityPrices:{"50 pieces":80,"100 pieces":150,"200 pieces":290,"500 pieces":700,"1000 pieces":1350},supplierId:"panipuri-master",supplierName:"Panipuri Master",image:wn("panipuri-kit-complete"),tags:["panipuri","golgappa","puchka","पानी पूरी","పానీపూరీ","பானிபூரி","ಪಾನಿಪೂರಿ"],gst:5,rating:4.9,reviews:312,vendorTypes:["panipuri_vendor"]},{id:"panipuri-puris-fresh",name:"Fresh Panipuri Puris",category:"panipuri_supplies",description:"Crispy, fresh panipuri puris made daily",unitPrice:3,bulkPrice:2.5,unit:"piece",bulkUnit:"500 pieces",minBulkQuantity:500,inStock:!0,stockQuantity:5e3,availableQuantities:["100 pieces","200 pieces","500 pieces","1000 pieces","2000 pieces"],quantityPrices:{"100 pieces":300,"200 pieces":580,"500 pieces":1400,"1000 pieces":2700,"2000 pieces":5200},supplierId:"panipuri-master",supplierName:"Panipuri Master",image:wn("panipuri-puris-fresh"),tags:["puris","panipuri","crispy","पूरी","పూరీ","பூரி","ಪೂರಿ"],gst:5,rating:4.8,reviews:245,vendorTypes:["panipuri_vendor"]},{id:"panipuri-masala-powder",name:"Panipuri Masala Powder",category:"panipuri_supplies",description:"Special spice mix for authentic panipuri taste",unitPrice:180,bulkPrice:160,unit:"kg",bulkUnit:"5kg pack",minBulkQuantity:5,inStock:!0,stockQuantity:100,availableQuantities:["250g","500g","1kg","2kg","5kg"],quantityPrices:{"250g":50,"500g":95,"1kg":180,"2kg":340,"5kg":800},supplierId:"spice-king",supplierName:"Spice King",image:wn("garam-masala-powder"),tags:["masala","spice","panipuri","मसाला","మసాలా","மசாலா","ಮಸಾಲೆ"],gst:5,rating:4.7,reviews:189,vendorTypes:["panipuri_vendor","street_vendor"]},{id:"waffle-mix-ready",name:"Ready Waffle Mix",category:"waffle_supplies",description:"Pre-made waffle batter mix, just add water",unitPrice:250,bulkPrice:230,unit:"kg",bulkUnit:"10kg pack",minBulkQuantity:10,inStock:!0,stockQuantity:150,availableQuantities:["500g","1kg","2kg","5kg","10kg"],quantityPrices:{"500g":140,"1kg":250,"2kg":480,"5kg":1150,"10kg":2200},supplierId:"baking-pro",supplierName:"Baking Pro",image:wn("maida-flour"),tags:["waffle","mix","batter","वैफल","వాఫిల్","வாஃபிள்","ವಾಫಲ್"],gst:18,rating:4.6,reviews:98,vendorTypes:["waffle_counter"]},{id:"chocolate-syrup-waffle",name:"Chocolate Syrup for Waffles",category:"waffle_supplies",description:"Rich chocolate syrup perfect for waffle toppings",unitPrice:120,bulkPrice:110,unit:"bottle (500ml)",bulkUnit:"12 bottles",minBulkQuantity:12,inStock:!0,stockQuantity:200,availableQuantities:["250ml","500ml","1L","6 bottles","12 bottles"],quantityPrices:{"250ml":70,"500ml":120,"1L":220,"6 bottles":650,"12 bottles":1250},supplierId:"sweet-treats",supplierName:"Sweet Treats",image:wn("chocolate-syrup-waffle"),tags:["chocolate","syrup","waffle","topping","चॉकलेट","చాక్లెట్","சாக்லேட்","ಚಾಕ್ಲೇಟ್"],gst:18,rating:4.5,reviews:76,vendorTypes:["waffle_counter"]},{id:"oranges-fresh-juice",name:"Fresh Oranges for Juice",category:"fruits",description:"Sweet, juicy oranges perfect for fresh juice",unitPrice:80,bulkPrice:70,unit:"kg",bulkUnit:"50kg crate",minBulkQuantity:50,inStock:!0,stockQuantity:500,availableQuantities:["1kg","5kg","10kg","25kg","50kg crate"],quantityPrices:{"1kg":80,"5kg":390,"10kg":760,"25kg":1875,"50kg crate":3500},supplierId:"fresh-fruits",supplierName:"Fresh Fruits Co",image:"https://www.bigbasket.com/media/uploads/p/l/10000027_18-fresho-orange.jpg",tags:["orange","juice","fresh","संतरा","నారింజ","ஆரஞ்சு","ಕಿತ್ತಳೆ"],gst:0,rating:4.7,reviews:156,vendorTypes:["juice_shop"]},{id:"sugarcane-fresh",name:"Fresh Sugarcane",category:"fruits",description:"Fresh sugarcane for making natural juice",unitPrice:25,bulkPrice:22,unit:"piece",bulkUnit:"100 pieces",minBulkQuantity:100,inStock:!0,stockQuantity:1e3,availableQuantities:["10 pieces","25 pieces","50 pieces","100 pieces","200 pieces"],quantityPrices:{"10 pieces":250,"25 pieces":600,"50 pieces":1150,"100 pieces":2200,"200 pieces":4200},supplierId:"fresh-fruits",supplierName:"Fresh Fruits Co",image:"https://www.bigbasket.com/media/uploads/p/l/10000028_17-fresho-sugarcane.jpg",tags:["sugarcane","juice","natural","गन्ना","చెరకు","கரும்பு","ಕಬ್ಬು"],gst:0,rating:4.8,reviews:234,vendorTypes:["juice_shop"]},{id:"ice-cubes-bulk",name:"Ice Cubes",category:"beverages",description:"Fresh ice cubes for cold beverages",unitPrice:15,bulkPrice:12,unit:"kg",bulkUnit:"50kg bag",minBulkQuantity:50,inStock:!0,stockQuantity:500,availableQuantities:["5kg","10kg","25kg","50kg bag","100kg"],quantityPrices:{"5kg":75,"10kg":145,"25kg":350,"50kg bag":600,"100kg":1150},supplierId:"ice-factory",supplierName:"Ice Factory",image:"https://m.media-amazon.com/images/I/51VQJ7XJQQL._SL1500_.jpg",tags:["ice","cold","beverage","बर्फ","మంచు","பனி","ಮಂಜುಗಡ್ಡೆ"],gst:18,rating:4.4,reviews:89,vendorTypes:["juice_shop","street_vendor"]},{id:"rice-basmati-25kg",name:"Premium Basmati Rice",category:"grains",description:"High quality aged basmati rice, perfect for biryanis and pulao",unitPrice:120,bulkPrice:105,unit:"kg",bulkUnit:"25kg bag",minBulkQuantity:25,inStock:!0,stockQuantity:500,availableQuantities:["1kg","5kg","10kg","25kg bag","50kg"],quantityPrices:{"1kg":120,"5kg":590,"10kg":1150,"25kg bag":2625,"50kg":5e3},supplierId:"raj-traders",supplierName:"Raj Traders",image:"https://www.bigbasket.com/media/uploads/p/l/40011905_9-india-gate-basmati-rice-classic.jpg",tags:["rice","basmati","premium","चावल","అన్నం","அரிசி","ಅಕ್ಕಿ"],gst:5,rating:4.8,reviews:156,vendorTypes:["street_shop","restaurant"]},{id:"wheat-flour-10kg",name:"Whole Wheat Flour",category:"grains",description:"Fresh ground whole wheat flour for rotis and bread",unitPrice:45,bulkPrice:42,unit:"kg",bulkUnit:"10kg bag",minBulkQuantity:10,inStock:!0,stockQuantity:200,availableQuantities:["1kg","2kg","5kg","10kg bag","25kg"],quantityPrices:{"1kg":45,"2kg":88,"5kg":215,"10kg bag":420,"25kg":1e3},supplierId:"grain-master",supplierName:"Grain Master",image:wn("wheat-flour-10kg"),tags:["wheat","flour","atta","आटा","పిండి","மாவு","ಹಿಟ್ಟು"],gst:5,rating:4.6,reviews:89,vendorTypes:["street_shop","restaurant"]},{id:"onions-red",name:"Fresh Red Onions",category:"vegetables",description:"Farm fresh red onions, essential for Indian cooking",unitPrice:35,bulkPrice:32,unit:"kg",bulkUnit:"50kg bag",minBulkQuantity:50,inStock:!0,stockQuantity:1e3,availableQuantities:["1kg","5kg","10kg","25kg","50kg bag"],quantityPrices:{"1kg":35,"5kg":170,"10kg":330,"25kg":800,"50kg bag":1550},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("red-onions-fresh"),tags:["onions","vegetables","प्याज","ఉల్లిపాయలు","வெங்காயம்","ಈರುಳ್ಳಿ"],gst:0,rating:4.5,reviews:234,vendorTypes:["street_vendor","restaurant","juice_shop"]},{id:"tomatoes-fresh",name:"Fresh Tomatoes",category:"vegetables",description:"Ripe, juicy tomatoes perfect for curries and salads",unitPrice:40,bulkPrice:35,unit:"kg",bulkUnit:"20kg crate",minBulkQuantity:20,inStock:!0,stockQuantity:500,availableQuantities:["1kg","3kg","5kg","10kg","20kg crate"],quantityPrices:{"1kg":40,"3kg":117,"5kg":195,"10kg":380,"20kg crate":700},supplierId:"fresh-farms",supplierName:"Fresh Farms",image:wn("tomatoes-fresh"),tags:["tomatoes","vegetables","टमाटर","టమాటాలు","தக்காளி","ಟೊಮೇಟೊ"],gst:0,rating:4.3,reviews:178,vendorTypes:["street_vendor","restaurant","juice_shop"]},{id:"potatoes-fresh",name:"Fresh Potatoes",category:"vegetables",description:"High quality potatoes for various cooking needs",unitPrice:25,bulkPrice:23,unit:"kg",bulkUnit:"50kg bag",minBulkQuantity:50,inStock:!0,stockQuantity:800,availableQuantities:["1kg","5kg","10kg","25kg","50kg bag"],quantityPrices:{"1kg":25,"5kg":123,"10kg":245,"25kg":600,"50kg bag":1150},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("potatoes-fresh"),tags:["potatoes","vegetables","आलू","బంగాళాదుంపలు","உருளைக்கிழங்கு","ಆಲೂಗಡ್ಡೆ"],gst:0,rating:4.4,reviews:145},{id:"turmeric-powder",name:"Pure Turmeric Powder",category:"spices",description:"Pure, organic turmeric powder with high curcumin content",unitPrice:180,bulkPrice:160,unit:"kg",bulkUnit:"5kg pack",minBulkQuantity:5,inStock:!0,stockQuantity:100,availableQuantities:["100g","250g","500g","1kg","5kg pack"],quantityPrices:{"100g":20,"250g":48,"500g":95,"1kg":180,"5kg pack":800},supplierId:"spice-king",supplierName:"Spice King",image:wn("garam-masala-powder"),tags:["turmeric","spices","haldi","हल्दी","పసుపు","மஞ்சள்","ಅರಿಶಿನ"],gst:5,rating:4.9,reviews:267,vendorTypes:["street_vendor","restaurant","street_shop"]},{id:"red-chili-powder",name:"Red Chili Powder",category:"spices",description:"Hot and flavorful red chili powder for authentic taste",unitPrice:220,bulkPrice:195,unit:"kg",bulkUnit:"5kg pack",minBulkQuantity:5,inStock:!0,stockQuantity:80,availableQuantities:["100g","250g","500g","1kg","5kg pack"],quantityPrices:{"100g":25,"250g":60,"500g":115,"1kg":220,"5kg pack":975},supplierId:"spice-king",supplierName:"Spice King",image:wn("red-chili-powder"),tags:["chili","spices","mirchi","मिर्च","మిర్చి","மிளகாய்","ಮೆಣಸಿನಕಾಯಿ"],gst:5,rating:4.7,reviews:198,vendorTypes:["street_vendor","restaurant","street_shop"]},{id:"sunflower-oil",name:"Refined Sunflower Oil",category:"oils",description:"Pure refined sunflower oil for healthy cooking",unitPrice:150,bulkPrice:145,unit:"liter",bulkUnit:"15L tin",minBulkQuantity:15,inStock:!0,stockQuantity:200,availableQuantities:["500ml","1L","2L","5L","15L tin"],quantityPrices:{"500ml":80,"1L":150,"2L":290,"5L":720,"15L tin":2100},supplierId:"oil-mart",supplierName:"Oil Mart",image:"https://www.bigbasket.com/media/uploads/p/l/40000516_13-fortune-sunflower-oil.jpg",tags:["oil","sunflower","cooking","तेल","నూనె","எண்ணெய்","ಎಣ್ಣೆ"],gst:5,rating:4.5,reviews:123},{id:"milk-packets",name:"Fresh Milk Packets",category:"dairy",description:"Fresh pasteurized milk in 500ml packets",unitPrice:25,bulkPrice:24,unit:"500ml packet",bulkUnit:"20 packets",minBulkQuantity:20,inStock:!0,stockQuantity:500,availableQuantities:["1 packet","5 packets","10 packets","20 packets","50 packets"],quantityPrices:{"1 packet":25,"5 packets":123,"10 packets":245,"20 packets":480,"50 packets":1175},supplierId:"dairy-fresh",supplierName:"Dairy Fresh",image:wn("milk-packets"),tags:["milk","dairy","दूध","పాలు","பால்","ಹಾಲು"],gst:0,rating:4.6,reviews:89},{id:"pani-puri-kit",name:"Pani Puri Making Kit",category:"snacks",description:"Complete kit with puris, masala, and chutneys for pani puri",unitPrice:80,bulkPrice:75,unit:"kit (50 pieces)",bulkUnit:"10 kits",minBulkQuantity:10,inStock:!0,stockQuantity:150,availableQuantities:["1 kit","3 kits","5 kits","10 kits","20 kits"],quantityPrices:{"1 kit":80,"3 kits":237,"5 kits":390,"10 kits":750,"20 kits":1460},supplierId:"snack-master",supplierName:"Snack Master",image:"https://m.media-amazon.com/images/I/81QJ7X8XJQL._SL1500_.jpg",tags:["panipuri","golgappa","snacks","पानी पूरी","పానీపూరీ","பானிபூரி","ಪಾನಿಪೂರಿ"],gst:5,rating:4.8,reviews:312},{id:"tea-powder",name:"Premium Tea Powder",category:"beverages",description:"Strong and aromatic tea powder for perfect chai",unitPrice:320,bulkPrice:285,unit:"kg",bulkUnit:"5kg pack",minBulkQuantity:5,inStock:!0,stockQuantity:100,availableQuantities:["250g","500g","1kg","2kg","5kg pack"],quantityPrices:{"250g":85,"500g":165,"1kg":320,"2kg":630,"5kg pack":1425},supplierId:"tea-garden",supplierName:"Tea Garden",image:wn("tea-powder"),tags:["tea","chai","चाय","టీ","தேநீர்","ಚಹಾ"],gst:5,rating:4.7,reviews:156},{id:"paper-plates",name:"Disposable Paper Plates",category:"packaging",description:"Eco-friendly disposable paper plates for food service",unitPrice:2,bulkPrice:1.8,unit:"piece",bulkUnit:"50 pieces",minBulkQuantity:50,inStock:!0,stockQuantity:5e3,availableQuantities:["10 pieces","25 pieces","50 pieces","100 pieces","500 pieces"],quantityPrices:{"10 pieces":20,"25 pieces":48,"50 pieces":90,"100 pieces":170,"500 pieces":800},supplierId:"pack-pro",supplierName:"Pack Pro",image:wn("paper-plates"),tags:["plates","disposable","packaging","प्लेट","ప్లేట్","தட்டு","ತಟ್ಟೆ"],gst:18,rating:4.2,reviews:78,vendorTypes:["all"]},{id:"plastic-cups-disposable",name:"Disposable Plastic Cups",category:"packaging",description:"Clear plastic cups perfect for juice and beverages",unitPrice:1.5,bulkPrice:1.1,unit:"piece",bulkUnit:"1000 pieces",minBulkQuantity:1e3,inStock:!0,stockQuantity:1e4,availableQuantities:["100 pieces","250 pieces","500 pieces","1000 pieces","5000 pieces"],quantityPrices:{"100 pieces":150,"250 pieces":350,"500 pieces":650,"1000 pieces":1100,"5000 pieces":5e3},supplierId:"pack-pro",supplierName:"Pack Pro",image:wn("plastic-cups-disposable"),tags:["cups","plastic","disposable","juice","कप","కప్","கப்","ಕಪ್"],gst:18,rating:4.3,reviews:145,vendorTypes:["juice_shop","street_vendor"]},{id:"lemons-fresh",name:"Fresh Lemons",category:"fruits",description:"Fresh lemons for lemonade and juice preparation",unitPrice:60,bulkPrice:55,unit:"kg",bulkUnit:"25kg crate",minBulkQuantity:25,inStock:!0,stockQuantity:300,availableQuantities:["1kg","5kg","10kg","25kg crate","50kg"],quantityPrices:{"1kg":60,"5kg":295,"10kg":580,"25kg crate":1375,"50kg":2650},supplierId:"fresh-fruits",supplierName:"Fresh Fruits Co",image:"https://www.bigbasket.com/media/uploads/p/l/10000029_16-fresho-lemon.jpg",tags:["lemon","citrus","juice","नींबू","నిమ్మకాయ","எலுமிச்சை","ನಿಂಬೆ"],gst:0,rating:4.6,reviews:198,vendorTypes:["juice_shop","street_vendor"]},{id:"garam-masala-powder",name:"Garam Masala Powder",category:"spices",description:"Authentic garam masala blend for Indian cooking",unitPrice:200,bulkPrice:175,unit:"kg",bulkUnit:"5kg pack",minBulkQuantity:5,inStock:!0,stockQuantity:80,availableQuantities:["50g","100g","250g","500g","1kg","5kg pack"],quantityPrices:{"50g":12,"100g":22,"250g":52,"500g":105,"1kg":200,"5kg pack":875},supplierId:"spice-king",supplierName:"Spice King",image:wn("garam-masala-powder"),tags:["garam masala","spices","blend","गरम मसाला","గరం మసాలా","கரம் மசாலா","ಗರಂ ಮಸಾಲೆ"],gst:5,rating:4.8,reviews:267,vendorTypes:["street_vendor","restaurant"]},{id:"honey-natural",name:"Pure Natural Honey",category:"waffle_supplies",description:"Pure natural honey perfect for waffle toppings",unitPrice:300,bulkPrice:280,unit:"bottle (500ml)",bulkUnit:"12 bottles",minBulkQuantity:12,inStock:!0,stockQuantity:100,availableQuantities:["250ml","500ml","1L","6 bottles","12 bottles"],quantityPrices:{"250ml":160,"500ml":300,"1L":580,"6 bottles":1740,"12 bottles":3360},supplierId:"sweet-treats",supplierName:"Sweet Treats",image:"https://www.bigbasket.com/media/uploads/p/l/40000519_18-dabur-honey.jpg",tags:["honey","natural","sweet","waffle","शहद","తేనె","தேன்","ಜೇನುತುಪ್ಪ"],gst:5,rating:4.9,reviews:156,vendorTypes:["waffle_counter"]},{id:"green-chillies-fresh",name:"Fresh Green Chillies",category:"vegetables",description:"Fresh green chillies for spicy Indian cooking",unitPrice:80,bulkPrice:75,unit:"kg",bulkUnit:"10kg box",minBulkQuantity:10,inStock:!0,stockQuantity:200,availableQuantities:["250g","500g","1kg","2kg","5kg","10kg"],quantityPrices:{"250g":20,"500g":40,"1kg":80,"2kg":160,"5kg":400,"10kg":750},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("green-chillies-fresh"),tags:["chillies","green","spicy","vegetables","हरी मिर्च","పచ్చిమిర్చి","பச்சை மிளகாய்","ಹಸಿರು ಮೆಣಸಿನಕಾಯಿ"],gst:0,rating:4.5,reviews:167,vendorTypes:["street_vendor","restaurant"]},{id:"curry-leaves-fresh",name:"Fresh Curry Leaves",category:"vegetables",description:"Fresh curry leaves for authentic South Indian cooking",unitPrice:400,bulkPrice:350,unit:"100g bunch",bulkUnit:"1kg box",minBulkQuantity:1,inStock:!0,stockQuantity:150,availableQuantities:["50g","100g","250g","500g","1kg"],quantityPrices:{"50g":20,"100g":40,"250g":100,"500g":200,"1kg":350},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("curry-leaves-fresh"),tags:["curry leaves","fresh","aromatic","कड़ी पत्ता","కరివేపాకు","கறிவேப்பிலை","ಕರಿಬೇವು"],gst:0,rating:4.7,reviews:89,vendorTypes:["street_vendor","restaurant"]},{id:"coriander-leaves-fresh",name:"Fresh Coriander Leaves",category:"vegetables",description:"Fresh coriander leaves for garnishing and cooking",unitPrice:30,bulkPrice:28,unit:"100g bunch",bulkUnit:"1kg",minBulkQuantity:10,inStock:!0,stockQuantity:200,availableQuantities:["50g","100g","250g","500g"],quantityPrices:{"50g":18,"100g":30,"250g":70,"500g":135},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("coriander-leaves-fresh"),tags:["coriander","dhania","fresh","garnish","धनिया","కొత్తిమీర","கொத்தமல்லி","ಕೊತ್ತಂಬರಿ"],gst:0,rating:4.4,reviews:123,vendorTypes:["street_vendor","restaurant"]},{id:"green-peas-fresh",name:"Fresh Green Peas",category:"vegetables",description:"Fresh green peas perfect for curries and rice dishes",unitPrice:60,bulkPrice:52,unit:"kg",bulkUnit:"25kg",minBulkQuantity:25,inStock:!0,stockQuantity:300,availableQuantities:["500g","1kg","2kg","5kg","10kg","25kg"],quantityPrices:{"500g":32,"1kg":60,"2kg":116,"5kg":285,"10kg":550,"25kg":1300},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("green-peas-fresh"),tags:["peas","green","fresh","vegetables","मटर","బఠాణీలు","பட்டாணி","ಬಟಾಣಿ"],gst:0,rating:4.6,reviews:145,vendorTypes:["street_vendor","restaurant"]},{id:"maida-flour",name:"Refined Wheat Flour (Maida)",category:"grains",description:"Fine refined wheat flour for baking and cooking",unitPrice:40,bulkPrice:38,unit:"kg",bulkUnit:"50kg",minBulkQuantity:50,inStock:!0,stockQuantity:500,availableQuantities:["1kg","2kg","5kg","10kg","25kg"],quantityPrices:{"1kg":40,"2kg":78,"5kg":190,"10kg":370,"25kg":900},supplierId:"grain-master",supplierName:"Grain Master",image:wn("maida-flour"),tags:["maida","flour","refined","baking","मैदा","మైదా","மைதா","ಮೈದಾ"],gst:5,rating:4.5,reviews:167,vendorTypes:["street_shop","restaurant","waffle_counter"]},{id:"corn-flour",name:"Corn Flour",category:"grains",description:"Pure corn flour for thickening and cooking",unitPrice:60,bulkPrice:55,unit:"kg",bulkUnit:"25kg",minBulkQuantity:25,inStock:!0,stockQuantity:200,availableQuantities:["500g","1kg","2kg","5kg"],quantityPrices:{"500g":32,"1kg":60,"2kg":115,"5kg":275},supplierId:"grain-master",supplierName:"Grain Master",image:wn("corn-flour"),tags:["corn flour","starch","thickening","मक्का आटा","మొక్కజొన్న పిండి","சோள மாவு","ಜೋಳದ ಹಿಟ್ಟು"],gst:5,rating:4.3,reviews:89,vendorTypes:["street_shop","restaurant"]},{id:"chilli-sauce",name:"Spicy Chilli Sauce",category:"spices",description:"Hot and tangy chilli sauce for street food and snacks",unitPrice:80,bulkPrice:70,unit:"bottle (200ml)",bulkUnit:"12 bottles",minBulkQuantity:12,inStock:!0,stockQuantity:150,availableQuantities:["200ml","500ml","1L","12 bottles"],quantityPrices:{"200ml":80,"500ml":190,"1L":360,"12 bottles":840},supplierId:"spice-king",supplierName:"Spice King",image:wn("chilli-sauce"),tags:["chilli sauce","hot sauce","spicy","condiment","मिर्च सॉस","మిర్చి సాస్","மிளகாய் சாஸ்","ಮೆಣಸಿನಕಾಯಿ ಸಾಸ್"],gst:12,rating:4.4,reviews:123,vendorTypes:["street_vendor","restaurant"]},{id:"chinese-sauce-kit",name:"Chinese Sauce Kit",category:"spices",description:"Complete kit with soy sauce, vinegar, and Chinese seasonings",unitPrice:150,bulkPrice:140,unit:"kit",bulkUnit:"10 kits",minBulkQuantity:10,inStock:!0,stockQuantity:80,availableQuantities:["1 kit","3 kits","5 kits"],quantityPrices:{"1 kit":150,"3 kits":420,"5 kits":675},supplierId:"spice-king",supplierName:"Spice King",image:wn("chinese-sauce-kit"),tags:["chinese sauce","soy sauce","vinegar","chinese cooking","चाइनीज सॉस","చైనీస్ సాస్","சீன சாஸ்","ಚೈನೀಸ್ ಸಾಸ್"],gst:12,rating:4.6,reviews:87,vendorTypes:["street_vendor","restaurant"]},{id:"sweet-corn-fresh",name:"Fresh Sweet Corn",category:"vegetables",description:"Fresh sweet corn kernels perfect for salads and street food",unitPrice:40,bulkPrice:38,unit:"kg",bulkUnit:"25kg",minBulkQuantity:25,inStock:!0,stockQuantity:200,availableQuantities:["500g","1kg","2kg","5kg"],quantityPrices:{"500g":22,"1kg":40,"2kg":76,"5kg":180},supplierId:"green-valley",supplierName:"Green Valley Farms",image:wn("sweet-corn-fresh"),tags:["sweet corn","corn kernels","fresh","vegetables","मक्का","మొక్కజొన్న","சோளம்","ಜೋಳ"],gst:0,rating:4.5,reviews:156,vendorTypes:["street_vendor","restaurant"]},{id:"tata-salt",name:"Tata Salt",category:"spices",description:"Premium iodized salt from Tata brand",unitPrice:25,bulkPrice:21,unit:"kg",bulkUnit:"50kg",minBulkQuantity:50,inStock:!0,stockQuantity:500,availableQuantities:["1kg","2kg","5kg","10kg","25kg","50kg"],quantityPrices:{"1kg":25,"2kg":49,"5kg":120,"10kg":230,"25kg":550,"50kg":1050},supplierId:"spice-king",supplierName:"Spice King",image:wn("tata-salt"),tags:["tata salt","iodized salt","premium","नमक","ఉప్పు","உப்பு","ಉಪ್ಪು"],gst:5,rating:4.8,reviews:234,vendorTypes:["street_shop","restaurant","street_vendor"]},{id:"regular-salt",name:"Regular Salt",category:"spices",description:"Pure white salt for everyday cooking",unitPrice:20,bulkPrice:16,unit:"kg",bulkUnit:"50kg",minBulkQuantity:50,inStock:!0,stockQuantity:600,availableQuantities:["1kg","2kg","5kg","10kg","25kg","50kg"],quantityPrices:{"1kg":20,"2kg":39,"5kg":95,"10kg":180,"25kg":425,"50kg":800},supplierId:"spice-king",supplierName:"Spice King",image:wn("regular-salt"),tags:["salt","white salt","cooking","नमक","ఉప్పు","உப்பு","ಉಪ್ಪು"],gst:5,rating:4.3,reviews:145,vendorTypes:["street_shop","restaurant","street_vendor"]}],Sn=(e,t=null)=>{const r=e.toLowerCase();return jn.filter(e=>{const i=!t||e.category===t,s=e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r));return i&&s&&e.inStock})},Pn=[{id:"store-1",name:"Mumbai Central Wholesale Market",type:"wholesale",address:"Crawford Market, Mumbai Central, Mumbai, Maharashtra 400001",coordinates:[19.0596,72.8295],phone:"+91 98765 43210",rating:4.5,specialties:["grains","spices","vegetables"],openHours:"6:00 AM - 10:00 PM",verified:!0,distance:.8,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=200&fit=crop"},{id:"store-2",name:"Dadar Vegetable Market",type:"vegetable_market",address:"Dadar West, Mumbai, Maharashtra 400028",coordinates:[19.0178,72.8478],phone:"+91 98765 43211",rating:4.2,specialties:["vegetables","fruits"],openHours:"5:00 AM - 11:00 PM",verified:!0,distance:1.2,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=300&h=200&fit=crop"},{id:"store-3",name:"Andheri Spice Bazaar",type:"spice_market",address:"Andheri East, Mumbai, Maharashtra 400069",coordinates:[19.1136,72.8697],phone:"+91 98765 43212",rating:4.7,specialties:["spices","oils","dairy"],openHours:"7:00 AM - 9:00 PM",verified:!0,distance:2.1,image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=300&h=200&fit=crop"},{id:"store-4",name:"Bandra Street Food Supplies",type:"street_food_supplier",address:"Bandra West, Mumbai, Maharashtra 400050",coordinates:[19.0544,72.8181],phone:"+91 98765 43213",rating:4.3,specialties:["panipuri_supplies","waffle_supplies","packaging"],openHours:"8:00 AM - 8:00 PM",verified:!0,distance:1.5,image:"https://images.unsplash.com/photo-1606491956689-2ea866880c84?w=300&h=200&fit=crop"},{id:"store-5",name:"Kurla Dairy Products Hub",type:"dairy_supplier",address:"Kurla East, Mumbai, Maharashtra 400024",coordinates:[19.0728,72.8826],phone:"+91 98765 43214",rating:4.1,specialties:["dairy","beverages"],openHours:"6:00 AM - 10:00 PM",verified:!0,distance:3.2,image:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=300&h=200&fit=crop"},{id:"store-6",name:"Thane Wholesale Center",type:"wholesale",address:"Thane West, Thane, Maharashtra 400601",coordinates:[19.2183,72.9781],phone:"+91 98765 43215",rating:4.4,specialties:["grains","oils","cleaning"],openHours:"6:00 AM - 9:00 PM",verified:!0,distance:4.8,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300&h=200&fit=crop"},{id:"store-7",name:"Powai Fresh Mart",type:"fresh_market",address:"Powai, Mumbai, Maharashtra 400076",coordinates:[19.1197,72.9089],phone:"+91 98765 43216",rating:4.6,specialties:["vegetables","fruits","dairy"],openHours:"6:00 AM - 11:00 PM",verified:!0,distance:2.8,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=300&h=200&fit=crop"},{id:"store-8",name:"Goregaon Packaging Solutions",type:"packaging_supplier",address:"Goregaon West, Mumbai, Maharashtra 400062",coordinates:[19.1646,72.8493],phone:"+91 98765 43217",rating:4,specialties:["packaging","cleaning"],openHours:"9:00 AM - 7:00 PM",verified:!1,distance:5.1,image:"https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=300&h=200&fit=crop"}],Ln={wholesale:{name:"Wholesale Market",icon:"🏪",color:"#3B82F6",description:"Large wholesale markets with bulk supplies"},vegetable_market:{name:"Vegetable Market",icon:"🥕",color:"#10B981",description:"Fresh vegetables and fruits"},spice_market:{name:"Spice Bazaar",icon:"🌶️",color:"#F59E0B",description:"Spices, masalas, and cooking ingredients"},street_food_supplier:{name:"Street Food Supplier",icon:"🍛",color:"#EF4444",description:"Street food ingredients and supplies"},dairy_supplier:{name:"Dairy Supplier",icon:"🥛",color:"#8B5CF6",description:"Milk, dairy products, and beverages"},fresh_market:{name:"Fresh Market",icon:"🛒",color:"#06B6D4",description:"General fresh produce and groceries"},packaging_supplier:{name:"Packaging Supplier",icon:"📦",color:"#6B7280",description:"Packaging materials and disposables"}},An=(e,t,r,i)=>{const s=(r-e)*Math.PI/180,n=(i-t)*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2),o=6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));return Math.round(10*o)/10},Cn=({isOpen:e,onClose:t})=>{const{t:i}=yi(),s=Tr(),[n,a]=r.useState(""),[o,l]=r.useState({products:[],stores:[],suggestions:[]}),[c,d]=r.useState(-1),[u,h]=r.useState([]),p=r.useRef(null);r.useEffect(()=>{const e=localStorage.getItem("baazar-dost-recent-searches");e&&h(JSON.parse(e))},[]),r.useEffect(()=>{e&&p.current&&p.current.focus()},[e]),r.useEffect(()=>{if(n.length<2)return void l({products:[],stores:[],suggestions:[]});const e=jn.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.category.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase())).slice(0,5),t=Pn.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.address.toLowerCase().includes(n.toLowerCase())||e.specialties.some(e=>e.toLowerCase().includes(n.toLowerCase()))).slice(0,3),r=["Basmati Rice","Turmeric Powder","Red Chili Powder","Cumin Seeds","Garam Masala","Coriander Seeds","Black Pepper","Cardamom"].filter(e=>e.toLowerCase().includes(n.toLowerCase())).slice(0,4);l({products:e,stores:t,suggestions:r}),d(-1)},[n]);const f=(e=n)=>{e.trim()&&((e=>{const t=[e,...u.filter(t=>t!==e)].slice(0,5);h(t),localStorage.setItem("baazar-dost-recent-searches",JSON.stringify(t))})(e.trim()),s(`/products?search=${encodeURIComponent(e.trim())}`),t())};return e?Dt.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[Dt.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),Dt.jsx("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2 w-full max-w-2xl mx-auto px-4",children:Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[Dt.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[Dt.jsx(k,{className:"w-5 h-5 text-gray-400 mr-3"}),Dt.jsx("input",{ref:p,type:"text",placeholder:"Search products, stores, or categories...",value:n,onChange:e=>a(e.target.value),onKeyDown:e=>{const r=o.products.length+o.stores.length+o.suggestions.length;if("ArrowDown"===e.key)e.preventDefault(),d(e=>(e+1)%r);else if("ArrowUp"===e.key)e.preventDefault(),d(e=>e<=0?r-1:e-1);else if("Enter"===e.key)if(e.preventDefault(),c>=0)if(c<o.products.length){const e=o.products[c];s(`/products?search=${encodeURIComponent(e.name)}`)}else if(c<o.products.length+o.stores.length)s("/stores");else{const e=c-o.products.length-o.stores.length;f(o.suggestions[e])}else f();else"Escape"===e.key&&t()},className:"flex-1 text-lg bg-transparent border-none outline-none text-gray-900 dark:text-white placeholder-gray-500"}),Dt.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(b,{className:"w-5 h-5"})})]}),Dt.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length<2?Dt.jsxs("div",{className:"p-4",children:[u.length>0&&Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Dt.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[Dt.jsx(j,{className:"w-4 h-4 mr-2"}),"Recent Searches"]}),Dt.jsx("button",{onClick:()=>{h([]),localStorage.removeItem("baazar-dost-recent-searches")},className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Clear"})]}),Dt.jsx("div",{className:"space-y-2",children:u.map((e,t)=>Dt.jsx("button",{onClick:()=>f(e),className:"w-full text-left px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},t))})]}),Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[Dt.jsx(S,{className:"w-4 h-4 mr-2"}),"Popular Searches"]}),Dt.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Rice","Spices","Oil","Flour","Pulses","Vegetables"].map((e,t)=>Dt.jsx("button",{onClick:()=>f(e),className:"text-left px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e},t))})]})]}):Dt.jsxs("div",{className:"p-4 space-y-4",children:[o.products.length>0&&Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[Dt.jsx(m,{className:"w-4 h-4 mr-2"}),"Products (",o.products.length,")"]}),Dt.jsx("div",{className:"space-y-2",children:o.products.map((e,r)=>Dt.jsxs("button",{onClick:()=>{s(`/products?search=${encodeURIComponent(e.name)}`),t()},className:"w-full flex items-center space-x-3 p-3 rounded-lg transition-colors "+(c===r?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:[Dt.jsx("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-lg object-cover"}),Dt.jsxs("div",{className:"flex-1 text-left",children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),Dt.jsxs("div",{className:"text-sm text-gray-500",children:["₹",e.price," • ",e.category]})]}),Dt.jsx(P,{className:"w-4 h-4 text-gray-400"})]},e.id))})]}),o.stores.length>0&&Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[Dt.jsx(A,{className:"w-4 h-4 mr-2"}),"Stores (",o.stores.length,")"]}),Dt.jsx("div",{className:"space-y-2",children:o.stores.map((e,r)=>Dt.jsxs("button",{onClick:()=>{s("/stores"),t()},className:"w-full flex items-center space-x-3 p-3 rounded-lg transition-colors "+(c===o.products.length+r?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:[Dt.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(A,{className:"w-5 h-5 text-primary-600"})}),Dt.jsxs("div",{className:"flex-1 text-left",children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),Dt.jsx("div",{className:"text-sm text-gray-500",children:e.address.split(",")[0]})]}),Dt.jsx(P,{className:"w-4 h-4 text-gray-400"})]},e.id))})]}),o.suggestions.length>0&&Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Suggestions"}),Dt.jsx("div",{className:"space-y-2",children:o.suggestions.map((e,t)=>Dt.jsx("button",{onClick:()=>f(e),className:"w-full text-left px-3 py-2 rounded-lg transition-colors "+(c===o.products.length+o.stores.length+t?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e})},t))})]}),0===o.products.length&&0===o.stores.length&&0===o.suggestions.length&&Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(k,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No results found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try different keywords or browse our categories"})]})]})})]})})]}):null},In=({size:e="medium",showText:t=!1,className:r="",textClassName:i="",fallbackIcon:s="B"})=>{const{t:n}=yi();return Dt.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:`${{small:"h-8 w-auto",medium:"h-10 w-auto",large:"h-16 w-auto",xlarge:"h-20 w-auto"}[e]} object-contain`,onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:`hidden ${{small:"w-8 h-8",medium:"w-10 h-10",large:"w-16 h-16",xlarge:"w-20 h-20"}[e]} bg-primary-600 rounded-lg items-center justify-center`,children:Dt.jsx("span",{className:`text-white font-bold ${{small:"text-sm",medium:"text-xl",large:"text-2xl",xlarge:"text-3xl"}[e]}`,children:s})}),t&&Dt.jsx("span",{className:`font-bold text-gray-900 dark:text-white ${{small:"text-sm",medium:"text-lg",large:"text-xl",xlarge:"text-2xl"}[e]} ${i}`,children:n("app.name")})]})},Tn=()=>{var e;const{t:t}=yi(),{user:i,userProfile:s,signOut:n,signInWithGoogle:a}=hn(),{theme:o,toggleTheme:l}=bi(),{getCartItemCount:c}=fn(),d=Cr(),[u,p]=r.useState(!1),[f,g]=r.useState(!1),[x,y]=r.useState(!1),[w,_]=r.useState(!1),[N,S]=r.useState(!1),P=c(),L=(()=>{const e=[{name:t("navigation.home"),href:"/",icon:h},{name:"Help",href:"/help",icon:F}];return"supplier"===(null==s?void 0:s.role)?e:[{name:t("navigation.home"),href:"/",icon:h},{name:t("navigation.products"),href:"/products",icon:m},{name:t("navigation.suppliers"),href:"/stores",icon:E},{name:t("navigation.orders"),href:"/orders",icon:j},{name:"Help",href:"/help",icon:F}]})(),A=e=>d.pathname===e;return r.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),_(!0))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),Dt.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700",role:"banner",children:[Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"flex items-center justify-between h-16",children:[Dt.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[Dt.jsx(ei,{to:"/",className:"flex items-center","aria-label":"Baazar Dost Home",children:Dt.jsx(In,{size:"medium",showText:!0,textClassName:"hidden md:block"})}),Dt.jsxs("button",{onClick:()=>_(!0),className:"hidden md:flex items-center space-x-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 min-w-[200px]","aria-label":"Open search dialog",title:"Search products (Ctrl+K)",children:[Dt.jsx(k,{size:16,"aria-hidden":"true"}),Dt.jsx("span",{className:"text-sm flex-1 text-left",children:"Search products..."}),Dt.jsx("kbd",{className:"hidden lg:inline-block px-1.5 py-0.5 text-xs font-mono bg-gray-200 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded text-gray-600 dark:text-gray-400",children:"⌘K"})]}),Dt.jsx("button",{onClick:()=>_(!0),className:"md:hidden p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"Open search",title:"Search products",children:Dt.jsx(k,{size:20,"aria-hidden":"true"})})]}),Dt.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 max-w-md mx-8",role:"navigation","aria-label":"Main navigation",children:Dt.jsx("ul",{className:"flex items-center space-x-1 w-full justify-center",children:L.map(e=>{const t=e.icon;return Dt.jsx("li",{children:Dt.jsxs(ei,{to:e.href,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap "+(A(e.href)?"text-primary-600 bg-primary-50 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-700"),"aria-current":A(e.href)?"page":void 0,children:[Dt.jsx(t,{size:16,"aria-hidden":"true"}),Dt.jsx("span",{children:e.name})]})},e.name)})})}),Dt.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[Dt.jsxs("button",{onClick:()=>y(!0),className:"relative p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"View notifications",title:"Notifications",children:[Dt.jsx(v,{size:18,"aria-hidden":"true"}),Dt.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium","aria-label":"2 unread notifications",children:"2"})]}),"supplier"!==(null==s?void 0:s.role)&&Dt.jsxs(ei,{to:"/cart",className:"relative p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"Shopping cart "+(P>0?`with ${P} items`:"(empty)"),title:"Shopping Cart",children:[Dt.jsx(C,{size:18,"aria-hidden":"true"}),P>0&&Dt.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium","aria-label":`${P} items in cart`,children:P>99?"99+":P})]}),Dt.jsx("div",{className:"relative",children:i?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("button",{onClick:()=>p(!u),className:"flex items-center space-x-2 p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"User menu","aria-expanded":u,"aria-haspopup":"true",children:[Dt.jsx(I,{size:18,"aria-hidden":"true"}),Dt.jsx("span",{className:"hidden sm:block text-sm font-medium",children:(null==i?void 0:i.displayName)||(null==(e=null==i?void 0:i.email)?void 0:e.split("@")[0])||"User"})]}),u&&Dt.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:Dt.jsxs("div",{className:"py-1",children:[Dt.jsx(ei,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>p(!1),role:"menuitem",children:t("navigation.profile")}),Dt.jsx("button",{onClick:async()=>{await n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",role:"menuitem",children:t("auth.logout")})]})})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("button",{onClick:()=>p(!u),className:"flex items-center space-x-2 p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"Sign in menu","aria-expanded":u,"aria-haspopup":"true",children:[Dt.jsx(I,{size:18,"aria-hidden":"true"}),Dt.jsx("span",{className:"hidden sm:block text-sm font-medium",children:"Sign In"})]}),u&&Dt.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:Dt.jsxs("div",{className:"p-4 space-y-3",children:[Dt.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Welcome! Please sign in"}),Dt.jsx("button",{onClick:async()=>{S(!0);try{(await a("popup")).success&&p(!1)}catch(uu){console.error("Google sign-in error:",uu)}finally{S(!1)}},disabled:N,className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600",children:N?Dt.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700 dark:border-gray-300"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[Dt.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Dt.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Dt.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Dt.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Dt.jsx("span",{children:"Continue with Google"})]})}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-0 flex items-center",children:Dt.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),Dt.jsx("div",{className:"relative flex justify-center text-xs",children:Dt.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"or"})})]}),Dt.jsx(ei,{to:"/login",className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center",onClick:()=>p(!1),children:"Sign in with Email"}),Dt.jsx(ei,{to:"/register",className:"w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center",onClick:()=>p(!1),children:"Create Account"})]})})]})}),Dt.jsx("button",{onClick:()=>p(!u),className:"md:hidden p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg","aria-label":"Toggle mobile menu","aria-expanded":u,"aria-controls":"mobile-menu",children:u?Dt.jsx(b,{size:20,"aria-hidden":"true"}):Dt.jsx(T,{size:20,"aria-hidden":"true"})})]})]}),u&&Dt.jsx("nav",{className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",id:"mobile-menu",role:"navigation","aria-label":"Mobile navigation",children:Dt.jsx("ul",{className:"px-4 pt-2 pb-3 space-y-1",children:L.map(e=>{const t=e.icon;return Dt.jsx("li",{children:Dt.jsxs(ei,{to:e.href,className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors "+(A(e.href)?"text-primary-600 bg-primary-50 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>p(!1),"aria-current":A(e.href)?"page":void 0,children:[Dt.jsx(t,{size:20,"aria-hidden":"true"}),Dt.jsx("span",{children:e.name})]})},e.name)})})})]}),Dt.jsx(vn,{isOpen:x,onClose:()=>y(!1)}),Dt.jsx(Cn,{isOpen:w,onClose:()=>_(!1)})]})},Fn=()=>{const[e,t]=r.useState({environment:"development",host:"undefined"!=typeof window?window.location.host:"unknown",envVars:{apiKey:"✅ Set",authDomain:"✅ Set",projectId:"✅ Set",appId:"✅ Set"},authState:"Checking...",errors:[]});return r.useEffect(()=>{const e=st(an,e=>{t(t=>({...t,authState:e?`✅ Authenticated: ${e.email}`:"❌ Not authenticated"}))},e=>{t(t=>({...t,authState:"❌ Auth Error",errors:[...t.errors,e.message]}))});return()=>e()},[]),0===e.errors.length?null:Dt.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 text-white p-4 rounded-lg shadow-lg max-w-sm text-xs z-50 min-w-80",children:[Dt.jsx("h3",{className:"font-bold mb-2",children:"🔧 Firebase Debug Info"}),Dt.jsxs("div",{className:"space-y-1",children:[Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Environment:"})," ",e.environment]}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Host:"})," ",e.host]}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Full URL:"})," ","undefined"!=typeof window?window.location.origin:"N/A"]}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Auth State:"})," ",e.authState]})]}),e.host.includes("onrender.com")&&Dt.jsxs("div",{className:"mt-2 p-2 bg-yellow-800 rounded text-yellow-200",children:[Dt.jsx("strong",{children:"⚠️ Add this domain to Firebase:"}),Dt.jsx("div",{className:"font-mono text-xs mt-1",children:e.host}),Dt.jsx("div",{className:"text-xs mt-1",children:"Go to Firebase Console → Authentication → Settings → Authorized domains"})]}),Dt.jsxs("div",{className:"mt-2",children:[Dt.jsx("strong",{children:"Environment Variables:"}),Dt.jsx("div",{className:"ml-2",children:Object.entries(e.envVars).map(([e,t])=>Dt.jsxs("div",{children:[e,": ",t]},e))})]}),e.errors.length>0&&Dt.jsxs("div",{className:"mt-2",children:[Dt.jsx("strong",{className:"text-red-400",children:"Errors:"}),Dt.jsx("div",{className:"ml-2 text-red-300",children:e.errors.map((e,t)=>Dt.jsxs("div",{children:["• ",e]},t))})]}),Dt.jsxs("div",{className:"mt-2 text-gray-400",children:[Dt.jsx("strong",{children:"Firebase Config:"}),Dt.jsxs("div",{className:"ml-2",children:["Project: ","baazar-dost"]})]})]})},En=()=>{const{user:e,userProfile:t,loading:r}=hn();return e&&t?null:Dt.jsxs("div",{className:"fixed top-4 left-4 bg-blue-900 text-white p-3 rounded-lg shadow-lg max-w-sm text-xs z-50",children:[Dt.jsx("h3",{className:"font-bold mb-2",children:"🔐 Auth Status"}),Dt.jsxs("div",{className:"space-y-1",children:[Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Loading:"})," ",r?"⏳ Yes":"✅ No"]}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"User:"})," ",e?"✅ Signed In":"❌ Not Signed In"]}),e&&Dt.jsxs("div",{className:"ml-2 text-blue-200",children:[Dt.jsxs("div",{children:["UID: ",e.uid.substring(0,8),"..."]}),Dt.jsxs("div",{children:["Email: ",e.email]}),Dt.jsxs("div",{children:["Name: ",e.displayName||"No name"]})]}),Dt.jsxs("div",{children:[Dt.jsx("strong",{children:"Profile:"})," ",t?"✅ Loaded":"❌ Not Loaded"]}),t&&Dt.jsxs("div",{className:"ml-2 text-blue-200",children:[Dt.jsxs("div",{children:["Role: ",t.role||"No role"]}),Dt.jsxs("div",{children:["Name: ",t.name||"No name"]})]}),!r&&e&&!t&&Dt.jsx("div",{className:"mt-2 p-2 bg-yellow-800 rounded text-yellow-200",children:"⚠️ User signed in but profile not loaded"}),!r&&!e&&Dt.jsx("div",{className:"mt-2 p-2 bg-red-800 rounded text-red-200",children:"❌ User not signed in - should show login"}),!r&&e&&t&&Dt.jsx("div",{className:"mt-2 p-2 bg-green-800 rounded text-green-200",children:"✅ Ready - should show app interface"})]})]})},On=()=>{const{cartItems:e,getCartTotal:t,getItemTotal:r,getCartSummary:i}=fn();return null},Mn=()=>(()=>{try{const e=window.open("","_blank","width=1,height=1,left=0,top=0,scrollbars=no,resizable=no");return!(e&&!e.closed&&void 0!==e.closed&&(e.close(),1))}catch(uu){return!0}})(),Rn=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Dn=()=>Rn()||Mn()?{method:"redirect",reason:Rn()?"Mobile device detected":"Popup blocker detected"}:{method:"popup",reason:"Desktop with popups enabled"},Bn=({className:e="",onSuccess:t=()=>{}})=>{const{signInWithGoogle:i}=hn(),[s,n]=r.useState(!1),[a,o]=r.useState(!1),[l,d]=r.useState("popup"),u=async(e="popup")=>{try{n(!0);const r=await i(e);r.success&&t(r)}catch(uu){console.error("Google Sign-In failed:",uu),c.error("Sign-in failed. Please try again.")}finally{n(!1),o(!1)}};return r.useEffect(()=>{const{method:e}=Dn();d(e)},[]),Dt.jsx("div",{className:"relative",children:a?Dt.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[Dt.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Choose sign-in method:"}),Dt.jsxs("button",{onClick:()=>u("popup"),disabled:s,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[Dt.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Popup Window ",!isMobile()&&"(Recommended)"]}),Dt.jsxs("button",{onClick:()=>u("redirect"),disabled:s,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[Dt.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Redirect ",isMobile()&&"(Recommended for mobile)"]}),Dt.jsx("button",{onClick:()=>o(!1),className:"w-full text-sm text-gray-600 hover:text-gray-800",children:"← Back"}),Dt.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Popup:"})," Faster, but may be blocked by browsers"]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Redirect:"})," More reliable, but redirects to Google"]})]})]}):Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("button",{onClick:()=>u(l),disabled:s,className:`w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors ${e}`,children:s?Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-2"}),"Signing in..."]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[Dt.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Dt.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Dt.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Dt.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),Dt.jsx("button",{onClick:()=>o(!0),className:"w-full text-sm text-blue-600 hover:text-blue-800 underline",children:"Trouble signing in?"})]})})},zn=({onComplete:e,onSkip:t})=>{const{t:i}=yi(),{user:s,createUserProfile:n}=hn(),[a,o]=r.useState({name:(null==s?void 0:s.displayName)||"",email:(null==s?void 0:s.email)||"",phone:"",role:"customer",businessName:"",address:"",city:"",state:"",pincode:""}),[l,d]=r.useState(!1),u=e=>{const{name:t,value:r}=e.target;o(e=>({...e,[t]:r}))},h=e=>{o(t=>({...t,role:e}))};return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Welcome to Baazar Dost!"}),Dt.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s?"Complete your account setup":"Create your account or sign in"})]}),s?Dt.jsxs("form",{onSubmit:async t=>{t.preventDefault(),d(!0);try{if(!a.name.trim())return void c.error("Name is required");if(!a.email.trim())return void c.error("Email is required");if("supplier"===a.role&&!a.businessName.trim())return void c.error("Business name is required for suppliers");const t={name:a.name.trim(),email:a.email.trim(),phone:a.phone.trim(),role:a.role,address:a.address.trim(),city:a.city.trim(),state:a.state.trim(),pincode:a.pincode.trim(),..."supplier"===a.role&&{businessName:a.businessName.trim()}};await n(t),c.success("Account setup completed successfully!"),e()}catch(uu){console.error("Account setup error:",uu),c.error("Failed to setup account. Please try again.")}finally{d(!1)}},className:"space-y-6",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I am a:"}),Dt.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Dt.jsxs("button",{type:"button",onClick:()=>h("customer"),className:"p-4 border rounded-lg text-center transition-colors "+("customer"===a.role?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:[Dt.jsx(I,{className:"w-6 h-6 mx-auto mb-2"}),Dt.jsx("div",{className:"font-medium",children:"Customer"}),Dt.jsx("div",{className:"text-xs text-gray-500",children:"Buy products"})]}),Dt.jsxs("button",{type:"button",onClick:()=>h("supplier"),className:"p-4 border rounded-lg text-center transition-colors "+("supplier"===a.role?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:[Dt.jsx(O,{className:"w-6 h-6 mx-auto mb-2"}),Dt.jsx("div",{className:"font-medium",children:"Supplier"}),Dt.jsx("div",{className:"text-xs text-gray-500",children:"Sell products"})]})]})]}),Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),Dt.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:a.name,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),Dt.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),Dt.jsx("input",{id:"phone",name:"phone",type:"tel",value:a.phone,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),"supplier"===a.role&&Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Name *"}),Dt.jsx("input",{id:"businessName",name:"businessName",type:"text",required:"supplier"===a.role,value:a.businessName,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Address (Optional)"}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Street Address"}),Dt.jsx("input",{id:"address",name:"address",type:"text",value:a.address,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),Dt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"City"}),Dt.jsx("input",{id:"city",name:"city",type:"text",value:a.city,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"State"}),Dt.jsx("input",{id:"state",name:"state",type:"text",value:a.state,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"PIN Code"}),Dt.jsx("input",{id:"pincode",name:"pincode",type:"text",value:a.pincode,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Setting up...":"Complete Setup"}),Dt.jsx("button",{type:"button",onClick:t,className:"w-full text-sm text-gray-600 hover:text-gray-800 underline",children:"Skip for now (you can complete this later)"})]})]}):Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsx(Bn,{onSuccess:()=>{c.info("Signing in with Google...")}}),Dt.jsx("div",{className:"text-center",children:Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Don't have an account? Sign in with Google to get started quickly!"})}),Dt.jsx("div",{className:"text-center",children:Dt.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Continue as guest (limited features)"})})]})]})})},qn=({onResult:e,onError:t,disabled:i=!1,className:s=""})=>{const{t:n,i18n:a}=yi(),[o,l]=r.useState(!1),[d,u]=r.useState(!1),[h,p]=r.useState(null),[m,f]=r.useState(""),[g,x]=r.useState(0),[v,b]=r.useState(null),w={en:"en-US",hi:"hi-IN",te:"te-IN",ta:"ta-IN",kn:"kn-IN"};r.useEffect(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){u(!0);const t=new e;t.continuous=!1,t.interimResults=!0,t.maxAlternatives=3,t.lang=w[a.language]||"en-US",t.onstart=()=>{l(!0),b(null),f(""),x(0),c.info(n("search.listening"),{autoClose:1e3,hideProgressBar:!0})},t.onresult=e=>{let t="",r="",i=0;for(let s=e.resultIndex;s<e.results.length;s++){const n=e.results[s],a=n[0].transcript,o=n[0].confidence;n.isFinal?(t+=a,i=Math.max(i,o)):r+=a}f(t||r),x(i),t&&_(t,i)},t.onend=()=>{l(!1)},t.onerror=e=>{l(!1),N(e.error)},p(t)}else u(!1),b("Voice search not supported in this browser");return()=>{h&&h.abort()}},[a.language]);const _=r.useCallback((t,r)=>{if(!t.trim())return void c.warning(n("search.noResults"));r<.5&&c.warning("Low confidence in voice recognition. Please try again.");const i=t.trim().toLowerCase();e&&e({transcript:i,confidence:r,language:a.language}),c.success(`${n("search.searchResults")}: "${t}"`)},[e,n,a.language]),N=r.useCallback(e=>{let r=n("common.error"),i="";switch(e){case"no-speech":r="No speech detected. Please try again.",i="Speak clearly into your microphone";break;case"audio-capture":r="Microphone not accessible.",i="Check microphone permissions and connection";break;case"not-allowed":r="Microphone access denied.",i="Enable microphone permissions in browser settings";break;case"network":r="Network error occurred.",i="Check your internet connection";break;case"service-not-allowed":r="Speech recognition service unavailable.",i="Try again later or use text search";break;case"bad-grammar":r="Speech not recognized.",i="Speak more clearly or try different words";break;default:r=`Speech recognition error: ${e}`,i="Please try again"}b({message:r,action:i}),c.error(r,{autoClose:5e3}),t&&t({type:e,message:r,action:i})},[t,n]),k=r.useCallback(()=>{if(d)if(h){if(!o)try{h.lang=w[a.language]||"en-US",h.start()}catch(e){console.error("Error starting speech recognition:",e),c.error("Failed to start voice search")}}else c.error("Voice recognition not initialized");else c.error("Voice search not supported in this browser")},[h,d,o,a.language,w]),j=r.useCallback(()=>{h&&o&&h.stop()},[h,o]),S=()=>d?n(o?"search.stopListening":"search.voiceSearch"):"Not Supported";return Dt.jsxs("div",{className:"relative",children:[Dt.jsxs("button",{onClick:o?j:k,disabled:i||!d,className:`\n          ${i?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed":o?"bg-red-500 hover:bg-red-600 animate-pulse":d?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 dark:bg-gray-600 cursor-not-allowed"}\n          text-white px-4 py-2 rounded-md transition-all duration-200 \n          flex items-center space-x-2 font-medium\n          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\n          ${s}\n        `,title:d?S():"Voice search not supported",children:[d?o?Dt.jsx(R,{size:20}):Dt.jsx(D,{size:20}):Dt.jsx(y,{size:20}),Dt.jsx("span",{className:"hidden sm:inline",children:S()})]}),o&&m&&Dt.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Dt.jsx(M,{size:16,className:"text-primary-600"}),Dt.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n("search.listening"),"..."]})]}),Dt.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:['"',m,'"']}),g>0&&Dt.jsxs("div",{className:"mt-2",children:[Dt.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[Dt.jsx("span",{children:"Confidence"}),Dt.jsxs("span",{children:[Math.round(100*g),"%"]})]}),Dt.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1 mt-1",children:Dt.jsx("div",{className:"bg-primary-600 h-1 rounded-full transition-all duration-300",style:{width:100*g+"%"}})})]})]}),v&&!o&&Dt.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md shadow-lg z-50",children:Dt.jsxs("div",{className:"flex items-start space-x-2",children:[Dt.jsx(y,{size:16,className:"text-red-500 mt-0.5 flex-shrink-0"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:v.message}),v.action&&Dt.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:v.action})]})]})})]})},Un=({onSearch:e,onResults:t,className:i="",placeholder:s=""})=>{const{t:n}=yi(),[a,o]=r.useState(""),[l,d]=r.useState(!1),[u,h]=r.useState([]),[p,m]=r.useState(!1),[f,g]=r.useState([]),[x,y]=r.useState([]),v=r.useRef(null),w=r.useRef(null),_=["rice","wheat flour","onions","tomatoes","potatoes","cooking oil","spices","lentils","sugar","salt","चावल","आटा","प्याज","टमाटर","आलू","అన్నం","పిండి","ఉల్లిపాయలు","టమాటాలు","బంగాళాదుంపలు","அரிசி","மாவு","வெங்காயம்","தக்காளி","உருளைக்கிழங்கு","ಅಕ್ಕಿ","ಹಿಟ್ಟು","ಈರುಳ್ಳಿ","ಟೊಮೇಟೊ","ಆಲೂಗಡ್ಡೆ"];r.useEffect(()=>{try{const e=localStorage.getItem("baazar-dost-search-history");if(e){const t=JSON.parse(e);g(t),y(t.slice(0,5))}}catch(uu){console.error("Error loading search history:",uu)}},[]);const j=r.useCallback(e=>{try{const t=[e,...f.filter(t=>t!==e)].slice(0,20);g(t),y(t.slice(0,5)),localStorage.setItem("baazar-dost-search-history",JSON.stringify(t))}catch(uu){console.error("Error saving search history:",uu)}},[f]),P=r.useCallback(e=>{if(!e.trim())return void h([]);const t=e.toLowerCase(),r=[..._,...f].filter(e=>e.toLowerCase().includes(t)).filter((e,t,r)=>r.indexOf(e)===t).slice(0,8);h(r)},[f]),L=r.useCallback(async r=>{const i=r.trim();if(i){d(!0),m(!1);try{j(i),await new Promise(e=>setTimeout(e,500));const r=A(i);e&&e(i),t&&t(r),c.success(`${n("search.searchResults")}: ${r.length} items found`)}catch(uu){console.error("Search error:",uu),c.error("Search failed. Please try again."),t&&t([])}finally{d(!1)}}else c.warning(n("search.placeholder"))},[e,t,j,n]),A=e=>[{id:1,name:"Premium Basmati Rice",category:"Grains",price:120,unit:"kg"},{id:2,name:"Wheat Flour",category:"Grains",price:45,unit:"kg"},{id:3,name:"Fresh Onions",category:"Vegetables",price:30,unit:"kg"},{id:4,name:"Tomatoes",category:"Vegetables",price:40,unit:"kg"},{id:5,name:"Cooking Oil",category:"Oil",price:150,unit:"liter"}].filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())),C=e=>{o(e),L(e)};return r.useEffect(()=>{const e=e=>{var t;!w.current||w.current.contains(e.target)||(null==(t=v.current)?void 0:t.contains(e.target))||m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),Dt.jsxs("div",{className:`relative w-full max-w-2xl mx-auto ${i}`,children:[Dt.jsxs("form",{onSubmit:e=>{e.preventDefault(),L(a)},className:"relative",children:[Dt.jsxs("div",{className:"relative flex items-center",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:Dt.jsx(k,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("input",{ref:v,type:"text",value:a,onChange:e=>{const t=e.target.value;o(t),P(t),m(!0)},onFocus:()=>m(!0),className:"\n              w-full pl-12 pr-32 py-4 text-lg\n              border border-gray-300 dark:border-gray-600 \n              rounded-lg bg-white dark:bg-gray-800 \n              text-gray-900 dark:text-gray-100 \n              placeholder-gray-500 dark:placeholder-gray-400\n              focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent \n              transition-colors duration-200\n            ",placeholder:s||n("search.placeholder"),disabled:l}),a&&Dt.jsx("button",{type:"button",onClick:()=>{var e;o(""),h([]),m(!1),null==(e=v.current)||e.focus()},className:"absolute inset-y-0 right-20 flex items-center pr-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(b,{size:20})}),Dt.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:Dt.jsx(qn,{onResult:e=>{o(e.transcript),L(e.transcript)},onError:e=>{console.error("Voice search error:",e)},disabled:l,className:"h-10"})})]}),l&&Dt.jsx("div",{className:"absolute inset-y-0 left-12 flex items-center",children:Dt.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),p&&(u.length>0||x.length>0)&&Dt.jsxs("div",{ref:w,className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[x.length>0&&!a&&Dt.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Dt.jsx(N,{size:16,className:"text-gray-400"}),Dt.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recent Searches"})]}),x.map((e,t)=>Dt.jsx("button",{onClick:()=>C(e),className:"block w-full text-left px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e},t))]}),u.length>0&&Dt.jsxs("div",{className:"p-3",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Dt.jsx(S,{size:16,className:"text-gray-400"}),Dt.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Suggestions"})]}),u.map((e,t)=>Dt.jsx("button",{onClick:()=>C(e),className:"block w-full text-left px-2 py-2 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:Dt.jsx("span",{className:"font-medium",children:e})},t))]})]})]})},Hn=({className:e=""})=>{const{i18n:t}=yi(),[i,s]=r.useState(!1),n=[{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"hi",name:"Hindi",nativeName:"हिंदी",flag:"🇮🇳"},{code:"te",name:"Telugu",nativeName:"తెలుగు",flag:"🇮🇳"},{code:"ta",name:"Tamil",nativeName:"தமிழ்",flag:"🇮🇳"},{code:"kn",name:"Kannada",nativeName:"ಕನ್ನಡ",flag:"🇮🇳"}],a=n.find(e=>e.code===t.language)||n[0];return Dt.jsxs("div",{className:`relative ${e}`,children:[Dt.jsxs("button",{onClick:()=>s(!i),className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[Dt.jsx(B,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),Dt.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.flag," ",a.nativeName]}),Dt.jsx(z,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 transition-transform "+(i?"rotate-180":"")})]}),i&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),Dt.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20",children:Dt.jsx("div",{className:"py-1",children:n.map(e=>Dt.jsxs("button",{onClick:()=>(async e=>{try{await t.changeLanguage(e),localStorage.setItem("baazar-dost-language",e),s(!1),window.location.reload()}catch(uu){console.error("Failed to change language:",uu)}})(e.code),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center space-x-3 "+(t.language===e.code?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300"),children:[Dt.jsx("span",{className:"text-lg",children:e.flag}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"font-medium",children:e.nativeName}),Dt.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]}),t.language===e.code&&Dt.jsx("div",{className:"ml-auto",children:Dt.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full"})})]},e.code))})})]})]})},Wn=()=>{const{t:e,i18n:t}=yi(),{theme:i,toggleTheme:s}=bi(),{getCartItemCount:n,addToCart:a}=fn(),{user:o}=hn(),l=Tr(),[d,u]=r.useState([]),[h,p]=r.useState(!1),f=n(),g=[{title:e("navigation.products"),description:"Browse and order raw materials",icon:m,href:"/products",color:"bg-blue-500",badge:"50+ Items",badgeColor:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},{title:e("navigation.cart"),description:"Review your cart and checkout",icon:C,href:"/cart",color:"bg-green-500",badge:f>0?`${f} Items`:"Empty",badgeColor:f>0?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},{title:e("navigation.suppliers"),description:"Find nearby stores with GPS & directions",icon:E,href:"/stores",color:"bg-purple-500",badge:"8 Stores",badgeColor:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"},{title:e("navigation.orders"),description:"View your order history",icon:j,href:"/orders",color:"bg-orange-500",badge:"Track Orders",badgeColor:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400"}];return Dt.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[Dt.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700",children:Dt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"flex justify-between items-center h-16",children:[Dt.jsx("div",{className:"flex items-center space-x-2",children:Dt.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:Dt.jsx("span",{className:"text-white font-bold text-lg",children:"B"})})}),Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsx(Hn,{}),Dt.jsx("button",{onClick:s,className:"p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",title:"Toggle Theme",children:"dark"===i?Dt.jsx(q,{size:20}):Dt.jsx(U,{size:20})})]})]})})}),Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Dt.jsxs("div",{className:"text-center mb-12",children:[Dt.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:e("home.welcome")}),Dt.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-400 mb-8",children:e("home.subtitle")}),Dt.jsx(Un,{onSearch:e=>{p(!0),console.log("Searching for:",e)},onResults:e=>{u(e),p(!1)},className:"mb-8"}),!o&&Dt.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 rounded-xl p-8 mb-8 border border-primary-200 dark:border-primary-800",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Ready to Start Your Business Journey?"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-2xl mx-auto",children:"Join thousands of vendors and suppliers already using Baazar Dost. Get access to wholesale prices, bulk discounts, and a trusted marketplace."}),Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Dt.jsx("button",{onClick:()=>l("/register"),className:"btn-primary px-8 py-3 text-lg font-medium",children:"Start Selling Today"}),Dt.jsx("button",{onClick:()=>l("/login"),className:"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 border-2 border-primary-600 dark:border-primary-400 px-8 py-3 rounded-lg text-lg font-medium hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",children:"I Have an Account"})]})]}),d.length>0&&Dt.jsxs("div",{className:"mt-8 text-left",children:[Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Search Results (",d.length," items)"]}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>Dt.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[Dt.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.category}),Dt.jsxs("div",{className:"flex justify-between items-center mt-2",children:[Dt.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["₹",e.price,"/",e.unit]}),Dt.jsx("button",{onClick:async()=>{try{(await a({productId:e.id,name:e.name,price:e.price,unit:e.unit,category:e.category,image:"/api/placeholder/150/150",description:e.description||`${e.name} - ${e.category}`},1,"unit")).success&&c.success(`${e.name} added to cart!`)}catch(uu){c.error("Failed to add item to cart"),console.error("Error adding to cart:",uu)}},className:"btn-primary text-sm px-3 py-1 hover:bg-primary-700 transition-colors",children:"Add to Cart"})]})]},e.id))})]})]}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-12",children:g.map((e,t)=>{const r=e.icon;return Dt.jsxs("div",{className:"relative card hover:shadow-xl transition-all duration-300 group cursor-pointer transform hover:scale-105 border-l-4 border-primary-500",onClick:()=>l(e.href),children:[e.badge&&Dt.jsx("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ${e.badgeColor}`,children:e.badge}),Dt.jsxs("div",{className:"flex items-center space-x-4 p-2",children:[Dt.jsx("div",{className:`${e.color} p-4 rounded-xl group-hover:scale-110 transition-transform duration-200 shadow-lg`,children:Dt.jsx(r,{className:"w-8 h-8 text-white"})}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:e.title}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:e.description}),Dt.jsxs("div",{className:"flex items-center mt-2 text-primary-600 dark:text-primary-400",children:[Dt.jsx("span",{className:"text-sm font-medium",children:"Tap to explore"}),Dt.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Dt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]},t)})}),Dt.jsxs("div",{className:"card mb-8 bg-gradient-to-r from-primary-50 to-secondary-50 dark:from-primary-900/20 dark:to-secondary-900/20 border-primary-200 dark:border-primary-700",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Dt.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[Dt.jsx(H,{className:"w-6 h-6 mr-2 text-primary-600"}),e("deals.title"),Dt.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse",children:"Limited Time"})]}),Dt.jsxs("button",{onClick:()=>l("/products"),className:"text-primary-600 hover:text-primary-700 font-medium flex items-center",children:[e("deals.viewAll"),Dt.jsx(S,{className:"w-4 h-4 ml-1"})]})]}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:1,name:"Premium Basmati Rice",description:"High quality aged basmati rice",originalPrice:1200,salePrice:960,discount:20,unit:"25kg bag",supplier:"Raj Traders",rating:4.8,timeLeft:"2 hours"},{id:2,name:"Fresh Onions",description:"Farm fresh red onions",originalPrice:40,salePrice:32,discount:20,unit:"per kg",supplier:"Green Valley",rating:4.6,timeLeft:"5 hours"},{id:3,name:"Cooking Oil",description:"Refined sunflower oil",originalPrice:180,salePrice:153,discount:15,unit:"1 liter",supplier:"Oil Mart",rating:4.7,timeLeft:"1 day"}].map(e=>Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow border border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Dt.jsxs("div",{className:"bg-red-500 text-white text-xs px-3 py-1 rounded-full font-bold",children:[e.discount,"% OFF"]}),Dt.jsxs("div",{className:"flex items-center text-yellow-500",children:[Dt.jsx(x,{className:"w-4 h-4 fill-current"}),Dt.jsx("span",{className:"text-xs ml-1 text-gray-600 dark:text-gray-400",children:e.rating})]})]}),Dt.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1 text-lg",children:e.name}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),Dt.jsxs("p",{className:"text-xs text-primary-600 dark:text-primary-400 mb-3",children:["by ",e.supplier]}),Dt.jsx("div",{className:"flex items-center justify-between mb-3",children:Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["₹",e.salePrice]}),Dt.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["₹",e.originalPrice]}),Dt.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.unit})]})}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center text-red-500 text-xs",children:[Dt.jsx(N,{className:"w-3 h-3 mr-1"}),Dt.jsxs("span",{children:[e.timeLeft," left"]})]}),Dt.jsxs("button",{onClick:async()=>{try{console.log("Adding to cart:",e.name);const t={productId:e.id,name:e.name,price:e.salePrice,originalPrice:e.originalPrice,unit:e.unit,supplier:e.supplier,image:"/api/placeholder/150/150",category:"deals",description:e.description};console.log("Product data:",t);const r=await a(t,1,"unit");console.log("Add to cart result:",r),r.success?c.success(`${e.name} added to cart!`):c.error(r.error||"Failed to add item to cart")}catch(uu){c.error("Failed to add item to cart"),console.error("Error adding to cart:",uu)}},className:"btn-primary text-sm px-4 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center space-x-1",children:[Dt.jsx(C,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Add to Cart"})]})]})]},e.id))})]}),Dt.jsxs("div",{className:"card mb-8 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-700",children:[Dt.jsxs("div",{className:"text-center mb-6",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Need Help? We're Here for You!"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"24/7 support for street vendors in your language"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsxs("button",{className:"flex items-center justify-center space-x-3 bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg transition-colors",children:[Dt.jsx(W,{className:"w-5 h-5"}),Dt.jsx("span",{className:"font-medium",children:"Call Support"})]}),Dt.jsxs("button",{className:"flex items-center justify-center space-x-3 bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg transition-colors",children:[Dt.jsx($,{className:"w-5 h-5"}),Dt.jsx("span",{className:"font-medium",children:"Community"})]})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[Dt.jsxs("div",{className:"text-center group",children:[Dt.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:Dt.jsx(m,{className:"w-10 h-10 text-white"})}),Dt.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Voice Search"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base leading-relaxed",children:"Search for products using your voice in Hindi, Telugu, Tamil, Kannada, or English. Just speak naturally!"}),Dt.jsx("div",{className:"mt-3 text-sm text-primary-600 dark:text-primary-400 font-medium",children:"✓ Works offline • ✓ 5 languages supported"})]}),Dt.jsxs("div",{className:"text-center group",children:[Dt.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:Dt.jsx(A,{className:"w-10 h-10 text-white"})}),Dt.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Nearby Suppliers"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base leading-relaxed",children:"Find verified grocery suppliers within 5km of your location. Compare prices and ratings instantly."}),Dt.jsx("div",{className:"mt-3 text-sm text-green-600 dark:text-green-400 font-medium",children:"✓ GPS enabled • ✓ Verified suppliers only"})]}),Dt.jsxs("div",{className:"text-center group",children:[Dt.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:Dt.jsx(C,{className:"w-10 h-10 text-white"})}),Dt.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"Smart Ordering"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base leading-relaxed",children:"Order in units or bulk with special vendor pricing. Get GST invoices and track deliveries in real-time."}),Dt.jsx("div",{className:"mt-3 text-sm text-blue-600 dark:text-blue-400 font-medium",children:"✓ Bulk discounts • ✓ GST compliant • ✓ Live tracking"})]})]})]})]})},$n=()=>{const{t:e}=yi(),{sendLoginLink:t,loading:i}=hn(),[s,n]=r.useState(""),[a,o]=r.useState(!1),l=Tr();return a?Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:Dt.jsx("div",{className:"max-w-md w-full space-y-8",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"mx-auto mb-6",children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:"h-16 w-auto mx-auto object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:"hidden w-16 h-16 bg-primary-600 rounded-full items-center justify-center mx-auto",children:Dt.jsx(V,{className:"w-8 h-8 text-white"})})]}),Dt.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(V,{className:"w-8 h-8 text-white"})}),Dt.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("auth.checkEmail")}),Dt.jsxs("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["We've sent a login link to ",Dt.jsx("strong",{children:s})]}),Dt.jsx("button",{onClick:()=>o(!1),className:"mt-4 text-primary-600 hover:text-primary-500 text-sm",children:"Use a different email"})]})})}):Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:Dt.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"mx-auto mb-6",children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:"h-20 w-auto mx-auto object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:"hidden w-16 h-16 bg-primary-600 rounded-full items-center justify-center mx-auto",children:Dt.jsx("span",{className:"text-white font-bold text-2xl",children:"B"})})]}),Dt.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("app.name")}),Dt.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:e("app.tagline")})]}),Dt.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),!s.trim())return;(await t(s.trim())).success&&o(!0)},children:[Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"email",className:"sr-only",children:e("auth.enterEmail")}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Dt.jsx(V,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:e=>n(e.target.value),className:"input-field pl-10",placeholder:e("auth.enterEmail"),disabled:i})]})]}),Dt.jsx("button",{type:"submit",disabled:i||!s.trim(),className:"btn-primary w-full flex items-center justify-center space-x-2",children:i?Dt.jsx(xn,{size:"small"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("span",{children:e("auth.sendLoginLink")}),Dt.jsx(P,{size:18})]})})]}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-0 flex items-center",children:Dt.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),Dt.jsx("div",{className:"relative flex justify-center text-sm",children:Dt.jsx("span",{className:"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),Dt.jsx(Bn,{onSuccess:e=>{e.success&&l("/")}}),Dt.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 text-center",children:[Dt.jsx(Z,{className:"w-8 h-8 text-primary-600 mx-auto mb-3"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"New to Baazar Dost?"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Join thousands of vendors and suppliers already using our platform"}),Dt.jsxs(ei,{to:"/register",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[Dt.jsx(Z,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Create Your Account"})]}),Dt.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Free registration • No setup fees • Start selling immediately"})]}),Dt.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:Dt.jsxs("p",{children:["We'll send you a secure login link via email.",Dt.jsx("br",{}),"No passwords required!"]})})]})})},Vn=(e={})=>{const t={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5,...e};return new Promise((e,r)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{e({latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,timestamp:t.timestamp})},e=>{let t="Unknown location error";switch(e.code){case e.PERMISSION_DENIED:t="Location access denied by user";break;case e.POSITION_UNAVAILABLE:t="Location information unavailable";break;case e.TIMEOUT:t="Location request timed out"}r(new Error(t))},t):r(new Error("Geolocation is not supported by this browser"))})},Zn=(e,t)=>{if(!(e&&t&&e.latitude&&e.longitude&&t.latitude&&t.longitude))return null;const r=(t.latitude-e.latitude)*Math.PI/180,i=(t.longitude-e.longitude)*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.latitude*Math.PI/180)*Math.cos(t.latitude*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},Gn=e=>null==e?"Unknown distance":e<1?`${(1e3*e).toFixed(0)}m`:e<10?`${e.toFixed(1)}km`:`${e.toFixed(0)}km`,Qn=()=>{const{t:e}=yi(),{sendLoginLink:t,signInWithGoogle:i,loading:s}=hn(),n=Tr(),[a,o]=r.useState(1),[l,d]=r.useState(!1),[u,h]=r.useState({email:"",name:"",phone:"",businessName:"",businessType:"",vendorType:"",address:"",role:"vendor"}),[p,m]=r.useState(!1),[f,g]=r.useState(null),[x,y]=r.useState(!1);r.useEffect(()=>{"supplier"===u.role&&v()},[u.role]);const v=async()=>{y(!0);try{const e=await Vn();g(e),c.success("Location detected successfully!")}catch(uu){console.error("Error getting location:",uu),y(!1),c.error(uu.message||"Could not get your location. Please enable location services.")}finally{y(!1)}},b=(e,t)=>{h(r=>({...r,[e]:t}))};return p?Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:Dt.jsx("div",{className:"max-w-md w-full space-y-8",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"mx-auto mb-6",children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:"h-16 w-auto mx-auto object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:"hidden w-16 h-16 bg-primary-600 rounded-full items-center justify-center mx-auto",children:Dt.jsx(w,{className:"w-8 h-8 text-white"})})]}),Dt.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(w,{className:"w-8 h-8 text-white"})}),Dt.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Check Your Email"}),Dt.jsxs("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["We've sent a registration link to ",Dt.jsx("strong",{children:u.email})]}),Dt.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[Dt.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"What happens next?"}),Dt.jsxs("ul",{className:"text-xs text-blue-600 dark:text-blue-300 space-y-1 text-left",children:[Dt.jsx("li",{children:"• Check your email inbox (and spam folder)"}),Dt.jsx("li",{children:"• Click the secure registration link"}),Dt.jsx("li",{children:"• Your account will be activated automatically"}),Dt.jsx("li",{children:"• Start browsing products immediately"})]})]}),Dt.jsxs("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Click the link in your email to complete your registration as a ",u.role,"."]}),Dt.jsx("button",{onClick:()=>m(!1),className:"mt-4 text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Use a different email address"})]})})}):Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:Dt.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsxs("div",{className:"mx-auto mb-6",children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:"h-20 w-auto mx-auto object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:"hidden w-16 h-16 bg-primary-600 rounded-full items-center justify-center mx-auto",children:Dt.jsx("span",{className:"text-white font-bold text-2xl",children:"B"})})]}),Dt.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Join ",e("app.name")]}),Dt.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Register as a vendor or supplier"})]}),Dt.jsx("div",{className:"flex justify-center mb-8",children:Dt.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(a>=e?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:e}),e<3&&Dt.jsx("div",{className:"w-12 h-1 mx-2 "+(a>e?"bg-primary-600":"bg-gray-200 dark:bg-gray-700")})]},e))})}),Dt.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),!u.address||!u.phone)return void c.error("Please fill in all required fields");if(/^[+]?[\d\s\-\(\)]{10,}$/.test(u.phone)){if("supplier"===u.role){if(!u.businessName||!u.businessType)return void c.error("Please fill in all business details");if(!f)return void c.error("Location is required for suppliers. Please enable location services.")}else if(!u.businessName||!u.vendorType)return void c.error("Please fill in all business details");try{const e={...u,..."supplier"===u.role&&f&&{location:f}};localStorage.setItem("pendingRegistration",JSON.stringify(e));const r=await t(u.email.trim());r.success?(m(!0),c.success("Registration link sent! Check your email to complete registration.")):c.error(r.error||"Failed to send registration link")}catch(uu){console.error("Registration error:",uu),c.error("Registration failed. Please try again.")}}else c.error("Please enter a valid phone number")},className:"space-y-6",children:Dt.jsxs("div",{className:"card",children:[1===a&&Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Basic Information"}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I want to register as:"}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsx("button",{type:"button",onClick:()=>b("role","vendor"),className:"p-4 border-2 rounded-lg text-left transition-colors "+("vendor"===u.role?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx(O,{className:"w-6 h-6 text-primary-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Vendor"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Street vendor, shop owner"})]})]})}),Dt.jsx("button",{type:"button",onClick:()=>b("role","supplier"),className:"p-4 border-2 rounded-lg text-left transition-colors "+("supplier"===u.role?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx(I,{className:"w-6 h-6 text-primary-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Supplier"}),Dt.jsx("div",{className:"text-sm text-gray-500",children:"Wholesale supplier"})]})]})})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Dt.jsx(V,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("input",{type:"email",required:!0,value:u.email,onChange:e=>b("email",e.target.value),className:"input-field pl-10",placeholder:"Enter your email address"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Dt.jsx(I,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("input",{type:"text",required:!0,value:u.name,onChange:e=>b("name",e.target.value),className:"input-field pl-10",placeholder:"Enter your full name"})]})]})]}),2===a&&Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Business Details"}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Name *"}),Dt.jsx("input",{type:"text",required:!0,value:u.businessName,onChange:e=>b("businessName",e.target.value),className:"input-field",placeholder:"Enter your business name"})]}),"vendor"===u.role&&Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"What type of vendor are you? *"}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:kn.map(e=>Dt.jsx("button",{type:"button",onClick:()=>b("vendorType",e.id),className:"p-3 border-2 rounded-lg text-left transition-colors "+(u.vendorType===e.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("span",{className:"text-xl",children:e.icon}),Dt.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]})},e.id))})]}),"supplier"===u.role&&Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Type *"}),Dt.jsxs("select",{required:!0,value:u.businessType,onChange:e=>b("businessType",e.target.value),className:"input-field",children:[Dt.jsx("option",{value:"",children:"Select business type"}),Dt.jsx("option",{value:"wholesale",children:"Wholesale Supplier"}),Dt.jsx("option",{value:"manufacturer",children:"Manufacturer"}),Dt.jsx("option",{value:"distributor",children:"Distributor"}),Dt.jsx("option",{value:"farmer",children:"Farmer/Producer"})]})]})]}),3===a&&Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Contact Details"}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Dt.jsx(W,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("input",{type:"tel",required:!0,value:u.phone,onChange:e=>b("phone",e.target.value),className:"input-field pl-10",placeholder:"Enter your phone number"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Address *"}),Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 pt-3 pointer-events-none",children:Dt.jsx(A,{className:"h-5 w-5 text-gray-400"})}),Dt.jsx("textarea",{required:!0,value:u.address,onChange:e=>b("address",e.target.value),className:"input-field pl-10",rows:"3",placeholder:"Enter your complete business address"})]})]}),"supplier"===u.role&&Dt.jsx("div",{className:"p-4 rounded-lg border-2 "+(f?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20"),children:Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(G,{className:"w-5 h-5 "+(f?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400")}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"text-sm font-medium "+(f?"text-green-800 dark:text-green-200":"text-yellow-800 dark:text-yellow-200"),children:f?"Location Detected":"Location Required"}),Dt.jsx("p",{className:"text-xs "+(f?"text-green-600 dark:text-green-300":"text-yellow-600 dark:text-yellow-300"),children:f?`Lat: ${f.latitude.toFixed(6)}, Lng: ${f.longitude.toFixed(6)}`:"We need your location to help customers find you"})]})]}),!f&&Dt.jsx("button",{type:"button",onClick:v,disabled:x,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded-md hover:bg-yellow-700 disabled:opacity-50",children:x?"Getting...":"Enable Location"})]})}),Dt.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Registration Summary"}),Dt.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Role:"})," ",u.role]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Name:"})," ",u.name]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Business:"})," ",u.businessName]}),Dt.jsxs("p",{children:[Dt.jsx("strong",{children:"Email:"})," ",u.email]})]})]})]}),Dt.jsxs("div",{className:"flex justify-between pt-6",children:[a>1&&Dt.jsx("button",{type:"button",onClick:()=>o(a-1),className:"btn-secondary",children:"Previous"}),a<3?Dt.jsxs("button",{type:"button",onClick:()=>{if(1===a){if(!u.email||!u.name||!u.role)return void c.error("Please fill in all required fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email))return void c.error("Please enter a valid email address")}else if(2===a)if("supplier"===u.role){if(!u.businessName||!u.businessType)return void c.error("Please fill in all business details")}else if(!u.businessName||!u.vendorType)return void c.error("Please fill in all business details");o(a+1)},className:"btn-primary ml-auto flex items-center space-x-2",children:[Dt.jsx("span",{children:"Next"}),Dt.jsx(P,{className:"w-4 h-4"})]}):Dt.jsx("button",{type:"submit",disabled:s,className:"btn-primary ml-auto flex items-center space-x-2",children:s?Dt.jsx(xn,{size:"small"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("span",{children:"Complete Registration"}),Dt.jsx(P,{className:"w-4 h-4"})]})})]})]})}),1===a&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"relative",children:[Dt.jsx("div",{className:"absolute inset-0 flex items-center",children:Dt.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),Dt.jsx("div",{className:"relative flex justify-center text-sm",children:Dt.jsx("span",{className:"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),Dt.jsx("button",{onClick:async()=>{d(!0);try{(await i("popup")).success&&n("/")}catch(uu){console.error("Google sign-in error:",uu)}finally{d(!1)}},disabled:l||s,className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:l?Dt.jsx(xn,{size:"small"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Dt.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Dt.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Dt.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Dt.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Dt.jsx("span",{children:"Sign up with Google"})]})})]}),Dt.jsx("div",{className:"text-center",children:Dt.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",Dt.jsx("a",{href:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in here"})]})})]})})},Kn=({productId:e,productName:t,className:i="",showImageCount:s=!0,imageIndex:n=0,fallbackSrc:a="/images/placeholder.svg"})=>{const[o,l]=r.useState(!1),[c,d]=r.useState(!0),u=wn(e,n),h=_n(e);return!u||o?Dt.jsxs("div",{className:`bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center relative ${i}`,children:[Dt.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[Dt.jsx("div",{className:"text-2xl mb-1",children:"📦"}),Dt.jsx("div",{className:"text-xs",children:"No Image"})]}),s&&h>1&&Dt.jsxs("div",{className:"absolute top-2 right-2 bg-primary-600 text-white text-xs px-2 py-1 rounded-full",children:["+",h-1]})]}):Dt.jsxs("div",{className:`relative ${i}`,children:[c&&Dt.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:Dt.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}),Dt.jsx("img",{src:u,alt:t,className:"w-full h-full object-cover rounded-lg transition-opacity duration-300 "+(c?"opacity-0":"opacity-100"),onError:()=>{l(!0),d(!1)},onLoad:()=>{d(!1)}}),s&&h>1&&Dt.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-full",children:["+",h-1]}),Dt.jsx("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded-full opacity-90",children:"✓ Quality"})]})},Yn=({product:e,onClose:t})=>{var i;const{t:s}=yi(),{addToCart:n}=fn(),[a,o]=r.useState(""),[l,d]=r.useState(1),[u,h]=r.useState(!1),p=()=>{if(!a||!e.quantityPrices)return{totalPieces:0,totalPrice:0,pricePerPiece:0};const t=parseInt(a.split(" ")[0])||1,r=e.quantityPrices[a];return{totalPieces:t*l,totalPrice:r*l,pricePerPiece:r/t}},{totalPieces:f,totalPrice:g,pricePerPiece:x}=p();return Dt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:Dt.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:Dt.jsxs("div",{className:"p-6",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(m,{className:"text-primary-600",size:24}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Order Options"})]}),Dt.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.name}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Quantity Package:"}),Dt.jsx("div",{className:"space-y-2",children:null==(i=e.availableQuantities)?void 0:i.map(t=>{var r;const i=null==(r=e.quantityPrices)?void 0:r[t],s=parseInt(t.split(" ")[0])||1,n=((e,t,r)=>{const i=t*r,s=(i-e)/i*100;return Math.round(s)})(i,e.unitPrice||e.price,s),l=i/s;return Dt.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors "+(a===t?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"),children:[Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("input",{type:"radio",name:"quantity",value:t,checked:a===t,onChange:e=>o(e.target.value),className:"text-primary-600"}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t}),Dt.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["₹",l.toFixed(2)," per piece"]})]})]}),Dt.jsxs("div",{className:"text-right",children:[Dt.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["₹",i]}),n>0&&Dt.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[Dt.jsx(H,{size:12,className:"mr-1"}),n,"% off"]})]})]},t)})})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of packages:"}),Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("button",{onClick:()=>d(Math.max(1,l-1)),className:"w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700",disabled:l<=1,children:"-"}),Dt.jsx("input",{type:"number",min:"1",value:l,onChange:e=>d(Math.max(1,parseInt(e.target.value)||1)),className:"w-16 text-center border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),Dt.jsx("button",{onClick:()=>d(l+1),className:"w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700",children:"+"})]})]}),a&&Dt.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Dt.jsx(Q,{className:"text-primary-600",size:16}),Dt.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Order Summary"})]}),Dt.jsxs("div",{className:"space-y-2 text-sm",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Packages:"}),Dt.jsxs("span",{className:"text-gray-900 dark:text-white",children:[l," × ",a]})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total pieces:"}),Dt.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[f," pieces"]})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Price per piece:"}),Dt.jsxs("span",{className:"text-gray-900 dark:text-white",children:["₹",x.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between border-t border-gray-200 dark:border-gray-600 pt-2",children:[Dt.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total:"}),Dt.jsxs("span",{className:"font-bold text-primary-600 text-lg",children:["₹",g]})]})]})]}),Dt.jsxs("div",{className:"flex space-x-3",children:[Dt.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),Dt.jsxs("button",{onClick:async()=>{if(a){h(!0);try{if((await n(e,l,"bulk",a)).success){const{totalPieces:e,totalPrice:r}=p();c.success(`Added ${l} × ${a} (${e} pieces) for ₹${r}`),null==t||t()}}catch(uu){console.error("Error adding bulk order:",uu)}finally{h(!1)}}else c.error("Please select a quantity option")},disabled:!a||u,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[Dt.jsx(C,{size:16}),Dt.jsx("span",{children:u?"Adding...":"Add to Cart"})]})]})]})})})},Jn=()=>{var e;const{t:t}=yi(),i=Tr(),{addToCart:s,cartItems:n}=fn(),{userProfile:a}=hn(),[o,l]=r.useState([]),[d,u]=r.useState([]),[h,p]=r.useState(null),[g,v]=r.useState("grid"),[b,_]=r.useState("name"),[N,k]=r.useState(!0),[j,S]=r.useState(null);r.useEffect(()=>{L(),P()},[]),r.useEffect(()=>{I()},[h,b,o]);const P=async()=>{try{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{S({latitude:e.coords.latitude,longitude:e.coords.longitude})},e=>{console.log("Location access denied or unavailable")})}catch(uu){console.log("Error getting user location:",uu)}},L=async()=>{try{k(!0);const e=xt(on,"supplier_products"),t=yt(e,vt("isActive","==",!0)),r=await bt(t),i=[];r.forEach(e=>{const t={id:e.id,...e.data(),source:"supplier"};if(j&&t.supplierLocation){const e=Zn(j,t.supplierLocation);t.distance=e,t.distanceText=Gn(e)}i.push(t)});const s=jn.map(e=>({...e,source:"platform",id:e.id||`platform_${e.name.replace(/\s+/g,"_").toLowerCase()}`})),n=[...i,...s];l(n)}catch(uu){console.error("Error loading products:",uu),c.error("Failed to load products"),l(jn.map(e=>({...e,source:"platform",id:e.id||`platform_${e.name.replace(/\s+/g,"_").toLowerCase()}`})))}finally{k(!1)}},I=()=>{if(!o.length)return;let e=h?o.filter(e=>e.category===h&&(e.inStock||"platform"===e.source)):o.filter(e=>e.inStock||"platform"===e.source);e.sort((e,t)=>{switch(b){case"price-low":return e.unitPrice-t.unitPrice;case"price-high":return t.unitPrice-e.unitPrice;case"rating":return t.rating-e.rating;default:return e.name.localeCompare(t.name)}}),u(e),k(!1)},T=async(e,t="unit")=>{try{(await s(e,1,t)).success&&c.success(`${e.name} added to cart!`)}catch(uu){c.error("Failed to add item to cart")}},F=({product:e})=>{var s,a,o;const l=t(`productNames.${e.id}`,{defaultValue:e.name}),[c,d]=r.useState((null==(s=e.availableQuantities)?void 0:s[0])||e.unit),[u,h]=r.useState((null==(o=e.quantityPrices)?void 0:o[null==(a=e.availableQuantities)?void 0:a[0]])||e.unitPrice),[p,g]=r.useState(!1);return Dt.jsxs("div",{className:"card hover:shadow-lg transition-all duration-300 group cursor-pointer",onClick:()=>i(`/product/${e.id}`),children:[Dt.jsxs("div",{className:"relative mb-4",children:[Dt.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:"application/pdf"===e.fileType?Dt.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600",children:[Dt.jsx("div",{className:"text-red-500 mb-2",children:Dt.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 20 20",children:Dt.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),Dt.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"PDF Document"}),Dt.jsx("button",{onClick:()=>window.open(e.image,"_blank"),className:"mt-2 text-xs text-blue-600 hover:text-blue-700 underline",children:"View PDF"})]}):Dt.jsx(Kn,{productId:e.id,productName:l,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",showImageCount:!0})}),e.rating>=4.5&&Dt.jsxs("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center",children:[Dt.jsx(x,{className:"w-3 h-3 mr-1 fill-current"}),e.rating]}),(v=e.id,n.some(e=>e.productId===v)&&Dt.jsx("div",{className:"absolute top-2 right-2 bg-primary-500 text-white p-2 rounded-full",children:Dt.jsx(w,{className:"w-4 h-4"})}))]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white group-hover:text-primary-600 transition-colors",children:l}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]}),Dt.jsxs("div",{className:"space-y-1",children:[Dt.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[Dt.jsx(f,{className:"w-4 h-4 mr-1"}),Dt.jsx("span",{children:"supplier"===e.source?e.supplierName:"Baazar Dost"})]}),"supplier"===e.source&&e.distanceText&&Dt.jsxs("div",{className:"flex items-center text-xs text-green-600 dark:text-green-400",children:[Dt.jsx(A,{className:"w-3 h-3 mr-1"}),Dt.jsxs("span",{children:[e.distanceText," away"]})]}),"supplier"===e.source&&Dt.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Local Supplier"})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx(x,{className:"w-4 h-4 text-yellow-400 fill-current"}),Dt.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 ml-1",children:e.rating})]}),Dt.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.reviews," ",t("common.reviews"),")"]})]}),Dt.jsxs("div",{className:"space-y-3",children:[e.availableQuantities&&e.availableQuantities.length>1&&Dt.jsxs("div",{children:[Dt.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Select Quantity:"}),Dt.jsx("select",{value:c,onChange:t=>{return r=t.target.value,d(r),void h((null==(i=e.quantityPrices)?void 0:i[r])||e.unitPrice);var r,i},onClick:e=>e.stopPropagation(),className:"w-full text-sm border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:e.availableQuantities.map(t=>{var r;return Dt.jsxs("option",{value:t,children:[t," - ₹",(null==(r=e.quantityPrices)?void 0:r[t])||e.unitPrice]},t)})})]}),Dt.jsxs("div",{className:"flex justify-between items-center",children:[Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",u]}),Dt.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["/",c]}),e.quantityPrices&&c!==e.unit&&Dt.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["₹",(u/parseFloat(c.replace(/[^\d.]/g,""))||1).toFixed(1),"/unit"]})]}),Dt.jsxs("button",{onClick:t=>{t.stopPropagation(),T({...e,selectedQuantity:c,selectedPrice:u,displayName:`${l} (${c})`},"custom")},className:"btn-primary text-sm px-4 py-2 flex items-center space-x-1",disabled:!e.inStock,children:[Dt.jsx(C,{className:"w-4 h-4"}),Dt.jsx("span",{children:t("products.addToCart")})]})]}),e.availableQuantities&&e.availableQuantities.length>1&&Dt.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:Dt.jsxs("button",{onClick:e=>{e.stopPropagation(),g(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white text-sm px-3 py-2 rounded-md flex items-center justify-center space-x-2 transition-colors",disabled:!e.inStock,children:[Dt.jsx(m,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Bulk Order Options"})]})}),(!e.availableQuantities||e.availableQuantities.length<=1)&&e.bulkPrice&&Dt.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-md font-semibold text-green-600 dark:text-green-400",children:["₹",e.bulkPrice]}),Dt.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["/",e.bulkUnit]})]}),Dt.jsxs("button",{onClick:t=>{t.stopPropagation(),T(e,"bulk")},className:"bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded-md flex items-center space-x-1",disabled:!e.inStock,children:[Dt.jsx(m,{className:"w-3 h-3"}),Dt.jsx("span",{children:t("common.bulk")})]})]})]}),p&&Dt.jsx(Yn,{product:e,onClose:()=>g(!1)}),Dt.jsx("div",{className:"flex items-center text-xs",children:e.inStock?Dt.jsxs("div",{className:"flex items-center text-green-600",children:[Dt.jsx(w,{className:"w-3 h-3 mr-1"}),Dt.jsxs("span",{children:["In Stock (",e.stockQuantity," available)"]})]}):Dt.jsxs("div",{className:"flex items-center text-red-600",children:[Dt.jsx(y,{className:"w-3 h-3 mr-1"}),Dt.jsx("span",{children:"Out of Stock"})]})})]})]});var v};return"supplier"===(null==a?void 0:a.role)?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx(y,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Restricted"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Suppliers cannot access the products page for purchasing. Please use your supplier dashboard to manage your products."}),Dt.jsx("button",{onClick:()=>i("/"),className:"btn-primary",children:"Go to Dashboard"})]})})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t("products.title")}),Dt.jsx(Un,{onSearch:e=>{k(!0);const t=Sn(e,h);u(t),k(!1)},placeholder:"Search products, categories, or suppliers...",className:"mb-6"})]}),Dt.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[Dt.jsxs("div",{className:"lg:w-64 space-y-6",children:[Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(K,{className:"w-5 h-5 mr-2"}),t("products.categories")]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("button",{onClick:()=>p(null),className:"w-full text-left px-3 py-2 rounded-md transition-colors "+(h?"hover:bg-gray-100 dark:hover:bg-gray-700":"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"),children:t("products.allProducts","All Products")}),Nn.map(e=>Dt.jsxs("button",{onClick:()=>p(e.id),className:"w-full text-left px-3 py-2 rounded-md transition-colors flex items-center "+(h===e.id?"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:[Dt.jsx("span",{className:"mr-2",children:e.icon}),Dt.jsx("span",{className:"text-sm",children:t(`categories.${e.id}`,{defaultValue:e.name})})]},e.id))]})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:t("products.sortBy")}),Dt.jsxs("select",{value:b,onChange:e=>_(e.target.value),className:"w-full input-field",children:[Dt.jsx("option",{value:"name",children:"Name (A-Z)"}),Dt.jsx("option",{value:"price-low",children:"Price (Low to High)"}),Dt.jsx("option",{value:"price-high",children:"Price (High to Low)"}),Dt.jsx("option",{value:"rating",children:"Rating (High to Low)"})]})]})]}),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Dt.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",d.length," products",h&&Dt.jsxs("span",{children:[" in ",null==(e=Nn.find(e=>e.id===h))?void 0:e.name]})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("button",{onClick:()=>v("grid"),className:"p-2 rounded-md "+("grid"===g?"bg-primary-100 text-primary-600":"text-gray-400"),children:Dt.jsx(Y,{className:"w-5 h-5"})}),Dt.jsx("button",{onClick:()=>v("list"),className:"p-2 rounded-md "+("list"===g?"bg-primary-100 text-primary-600":"text-gray-400"),children:Dt.jsx(J,{className:"w-5 h-5"})})]})]}),N?Dt.jsx("div",{className:"flex justify-center items-center h-64",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):d.length>0?Dt.jsx("div",{className:"grid gap-6 "+("grid"===g?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:d.map(e=>Dt.jsx(F,{product:e},e.id))}):Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No products found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]})]})]})]})})},Xn=({productId:e,productName:t,className:i=""})=>{const s=(e=>{const t=bn[e];return t?Array.isArray(t)?t:[t]:[]})(e),n=_n(e),[a,o]=r.useState(0),[l,c]=r.useState(!1);if(!s||0===s.length)return Dt.jsx("div",{className:`bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center ${i}`,children:Dt.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[Dt.jsx("div",{className:"text-4xl mb-2",children:"📦"}),Dt.jsx("div",{className:"text-sm",children:"No Image Available"})]})});const d=s[a],u=()=>{o(e=>(e+1)%s.length)},h=()=>{o(e=>(e-1+s.length)%s.length)};return Dt.jsxs("div",{className:`relative ${i}`,children:[Dt.jsxs("div",{className:"relative group",children:[Dt.jsx("img",{src:d,alt:`${t} - Image ${a+1}`,className:"w-full h-full object-cover rounded-lg",onError:e=>{e.target.src="/images/placeholder.svg"}}),n>1&&Dt.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:[a+1," / ",n]}),Dt.jsx("button",{onClick:()=>c(!0),className:"absolute top-2 left-2 bg-black bg-opacity-60 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-80",title:"Zoom Image",children:Dt.jsx(X,{size:16})}),n>1&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("button",{onClick:h,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-60 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-80",title:"Previous Image",children:Dt.jsx(ee,{size:20})}),Dt.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-60 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-80",title:"Next Image",children:Dt.jsx(te,{size:20})})]})]}),n>1&&Dt.jsx("div",{className:"flex space-x-2 mt-3 overflow-x-auto pb-2",children:s.map((e,r)=>Dt.jsx("button",{onClick:()=>(e=>{o(e)})(r),className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all "+(r===a?"border-primary-500 ring-2 ring-primary-200":"border-gray-300 dark:border-gray-600 hover:border-primary-300"),children:Dt.jsx("img",{src:e,alt:`${t} thumbnail ${r+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.src="/images/placeholder.svg"}})},r))}),l&&Dt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:Dt.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[Dt.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 bg-white bg-opacity-20 text-white p-2 rounded-full hover:bg-opacity-30 transition-all z-10",children:"✕"}),Dt.jsx("img",{src:d,alt:`${t} - Zoomed`,className:"max-w-full max-h-full object-contain rounded-lg"}),n>1&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 text-white p-3 rounded-full hover:bg-opacity-30 transition-all",children:Dt.jsx(ee,{size:24})}),Dt.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 text-white p-3 rounded-full hover:bg-opacity-30 transition-all",children:Dt.jsx(te,{size:24})}),Dt.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-60 text-white px-4 py-2 rounded-full",children:[a+1," of ",n]})]})]})})]})},ea=()=>{const{productId:e}=function(){let{matches:e}=r.useContext(Pr),t=e[e.length-1];return t?t.params:{}}(),t=Tr(),{t:i}=yi(),{addToCart:s,cartItems:n}=fn(),[a,o]=r.useState(null),[l,d]=r.useState(""),[u,h]=r.useState(0),[p,f]=r.useState(!0);r.useEffect(()=>{var t,r;const i=jn.find(t=>t.id===e);if(i){o(i);const e=(null==(t=i.availableQuantities)?void 0:t[0])||i.unit;d(e),h((null==(r=i.quantityPrices)?void 0:r[e])||i.unitPrice)}f(!1)},[e]);const g=async(e="unit")=>{if(a)try{const t={...a,selectedQuantity:l,selectedPrice:u,displayName:`${a.name} (${l})`};(await s(t,1,e)).success&&c.success(`${a.name} added to cart!`)}catch(uu){c.error("Failed to add item to cart")}},v=()=>n.some(t=>t.productId===e);if(p)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!a)return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Product Not Found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The product you're looking for doesn't exist."}),Dt.jsx("button",{onClick:()=>t("/products"),className:"btn-primary",children:"Browse Products"})]})});const b=_n(e),_=i(`productNames.${a.id}`,{defaultValue:a.name});return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 mb-6",children:[Dt.jsx(re,{size:20}),Dt.jsx("span",{children:"Back"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsx(Xn,{productId:e,productName:_,className:"w-full h-96"}),b>1&&Dt.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:Dt.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["📸 This product has ",b," high-quality images. Use the gallery above to view all angles and details."]})})]}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:_}),Dt.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:a.description})]}),a.rating&&Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-1",children:[Dt.jsx(x,{className:"w-5 h-5 text-yellow-400 fill-current"}),Dt.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.rating})]}),a.reviews&&Dt.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["(",a.reviews," reviews)"]})]}),Dt.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:Dt.jsxs("div",{className:"space-y-4",children:[a.availableQuantities&&a.availableQuantities.length>1&&Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Quantity:"}),Dt.jsx("select",{value:l,onChange:e=>{return t=e.target.value,d(t),void h((null==(r=a.quantityPrices)?void 0:r[t])||a.unitPrice);var t,r},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:a.availableQuantities.map(e=>{var t;return Dt.jsxs("option",{value:e,children:[e," - ₹",(null==(t=a.quantityPrices)?void 0:t[e])||a.unitPrice]},e)})})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:["₹",u]}),Dt.jsxs("span",{className:"text-gray-500 ml-2",children:["/",l]})]}),a.bulkPrice&&Dt.jsxs("div",{className:"text-right",children:[Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bulk Price"}),Dt.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["₹",a.bulkPrice,"/",a.bulkUnit]})]})]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("button",{onClick:()=>g("custom"),disabled:!a.inStock,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[Dt.jsx(C,{className:"w-5 h-5"}),Dt.jsx("span",{children:v()?"Added to Cart":"Add to Cart"}),v()&&Dt.jsx(w,{className:"w-5 h-5"})]}),a.bulkPrice&&Dt.jsxs("button",{onClick:()=>g("bulk"),disabled:!a.inStock,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[Dt.jsx(m,{className:"w-5 h-5"}),Dt.jsxs("span",{children:["Order Bulk (",a.bulkUnit,")"]})]})]})]})}),Dt.jsx("div",{className:"flex items-center space-x-2",children:a.inStock?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(w,{className:"w-5 h-5 text-green-600"}),Dt.jsxs("span",{className:"text-green-600 font-medium",children:["In Stock (",a.stockQuantity," available)"]})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(y,{className:"w-5 h-5 text-red-600"}),Dt.jsx("span",{className:"text-red-600 font-medium",children:"Out of Stock"})]})}),a.supplierName&&Dt.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Supplier Information"}),Dt.jsxs("div",{className:"space-y-2 text-sm",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(m,{className:"w-4 h-4 text-gray-500"}),Dt.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a.supplierName})]}),a.distance&&Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-500"}),Dt.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[a.distanceText," away"]})]})]})]}),a.tags&&a.tags.length>0&&Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tags"}),Dt.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.slice(0,6).map((e,t)=>Dt.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm",children:e},t))})]})]})]})]})})},ta=({cartItems:e})=>{const{t:t}=yi(),r=(()=>{let t=0,r=0,i=0,s=0,n=0;return e.forEach(e=>{if("bulk"===e.orderType&&e.bulkMultiplier>1){if(t+=e.quantity,i+=e.actualQuantity,n++,e.pricePerUnit&&e.originalUnit){const t=e.pricePerUnit*e.actualQuantity*1.2,r=e.price*e.quantity,i=Math.max(0,t-r);s+=i}}else r+=e.quantity}),{totalBulkItems:t,totalRegularItems:r,totalBulkPieces:i,totalSavings:s,bulkOrdersCount:n,hasBulkOrders:n>0}})();return r.hasBulkOrders?Dt.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Dt.jsx(m,{className:"text-green-600 dark:text-green-400",size:20}),Dt.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-300",children:"Bulk Order Summary"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-green-200 dark:border-green-700",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bulk Orders"}),Dt.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:r.bulkOrdersCount})]}),Dt.jsx(m,{className:"text-green-500",size:24})]}),Dt.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.totalBulkItems," packages ordered"]})]}),Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-green-200 dark:border-green-700",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Pieces"}),Dt.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:r.totalBulkPieces.toLocaleString()})]}),Dt.jsx(Q,{className:"text-green-500",size:24})]}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From bulk orders"})]}),r.totalSavings>0&&Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-green-200 dark:border-green-700",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Est. Savings"}),Dt.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["₹",r.totalSavings.toFixed(0)]})]}),Dt.jsx(ie,{className:"text-green-500",size:24})]}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"vs. regular pricing"})]})]}),Dt.jsxs("div",{className:"mt-4",children:[Dt.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Bulk Order Breakdown:"}),Dt.jsx("div",{className:"space-y-2",children:e.filter(e=>"bulk"===e.orderType&&e.bulkMultiplier>1).map(e=>Dt.jsxs("div",{className:"flex items-center justify-between text-sm bg-white dark:bg-gray-800 rounded p-2 border border-green-200 dark:border-green-700",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),Dt.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.quantity," × ",e.unit," = ",e.actualQuantity," pieces"]})]}),Dt.jsxs("div",{className:"text-right",children:[Dt.jsxs("div",{className:"font-semibold text-green-600 dark:text-green-400",children:["₹",(e.price*e.quantity).toFixed(2)]}),e.pricePerUnit&&Dt.jsxs("div",{className:"text-xs text-gray-500",children:["₹",e.pricePerUnit.toFixed(2),"/piece"]})]})]},e.cartKey))})]}),Dt.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:Dt.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[Dt.jsx("strong",{children:"💡 Bulk Order Benefits:"})," You're ordering in bulk quantities which typically offer better pricing per unit and ensure you have adequate stock for your business needs."]})})]}):null},ra=()=>{const{t:e}=yi(),{user:t,userProfile:i}=hn(),{cartItems:s,updateQuantity:n,removeFromCart:a,clearCart:o,getCartSummary:l,getItemTotal:u,isEmpty:h}=fn(),[p,m]=r.useState(!1),[g,x]=r.useState(!1),y=l(),v=async(e,t)=>{t<1?await a(e):await n(e,t)};return g?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:Dt.jsx(w,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Order Placed Successfully!"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Thank you for your order. You will receive a confirmation shortly."}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx("button",{onClick:()=>window.location.href="/orders",className:"btn-primary w-full",children:"View Order History"}),Dt.jsx("button",{onClick:()=>window.location.href="/products",className:"btn-secondary w-full",children:"Continue Shopping"})]})]})})}):"supplier"===(null==i?void 0:i.role)?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx(d,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Restricted"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Suppliers cannot access the shopping cart. Please use your supplier dashboard to manage your business."}),Dt.jsx("button",{onClick:()=>window.location.href="/",className:"btn-primary",children:"Go to Dashboard"})]})})}):h?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6",children:Dt.jsx(C,{className:"w-8 h-8 text-gray-400"})}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Your cart is empty"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add some products to your cart to get started"}),Dt.jsx("button",{onClick:()=>window.location.href="/products",className:"btn-primary",children:"Browse Products"})]})})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Dt.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[e("cart.title")," (",y.itemCount," items)"]}),Dt.jsxs("button",{onClick:async()=>{window.confirm("Are you sure you want to clear your cart?")&&(await o(),c.success("Cart cleared"))},className:"text-red-600 hover:text-red-700 flex items-center space-x-1",children:[Dt.jsx(_,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Clear Cart"})]})]}),Dt.jsx(ta,{cartItems:s}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Dt.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map((e,t)=>Dt.jsx("div",{className:"card",children:Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:Dt.jsx(Kn,{productId:e.productId,productName:e.name,className:"w-full h-full",showImageCount:!1})}),Dt.jsxs("div",{className:"flex-1 min-w-0",children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),Dt.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["by ",e.supplierName]}),Dt.jsxs("div",{className:"flex flex-col space-y-1 mt-1",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("bulk"===e.orderType?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"),children:"bulk"===e.orderType?"Bulk Order":"Unit Order"}),Dt.jsxs("span",{className:"text-sm text-gray-500",children:["₹",e.price,"/",e.unit]})]}),e.bulkMultiplier>1&&Dt.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.quantity," × ",e.unit," = ",e.actualQuantity," ",e.originalUnit,e.pricePerUnit&&Dt.jsxs("span",{className:"ml-2",children:["(₹",e.pricePerUnit.toFixed(2)," per ",e.originalUnit,")"]})]})]})]}),Dt.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("button",{onClick:()=>v(e.cartKey,e.quantity-1),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-300 dark:hover:bg-gray-600",children:Dt.jsx(se,{className:"w-4 h-4"})}),Dt.jsx("span",{className:"w-12 text-center font-medium",children:e.quantity}),Dt.jsx("button",{onClick:()=>v(e.cartKey,e.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-300 dark:hover:bg-gray-600",children:Dt.jsx(ne,{className:"w-4 h-4"})})]}),e.bulkMultiplier>1&&Dt.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Total: ",e.actualQuantity," pieces"]})]}),Dt.jsxs("div",{className:"text-right",children:[Dt.jsxs("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:["₹",u(e).toFixed(2)]}),e.bulkMultiplier>1&&e.pricePerUnit&&Dt.jsxs("div",{className:"text-xs text-gray-500",children:["₹",e.pricePerUnit.toFixed(2)," × ",e.actualQuantity," pieces"]}),e.bulkMultiplier<=1&&Dt.jsxs("div",{className:"text-xs text-gray-500",children:["₹",e.price," × ",e.quantity]}),Dt.jsx("button",{onClick:()=>(async e=>{await a(e),c.success("Item removed from cart")})(e.cartKey),className:"text-red-600 hover:text-red-700 mt-1",children:Dt.jsx(_,{className:"w-4 h-4"})})]})]})},e.cartKey))}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"card",children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),Dt.jsxs("span",{className:"font-medium",children:["₹",y.subtotal.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"GST (18%)"}),Dt.jsxs("span",{className:"font-medium",children:["₹",y.tax.toFixed(2)]})]}),Dt.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{className:"font-semibold text-lg",children:"Total"}),Dt.jsxs("span",{className:"font-bold text-lg text-primary-600",children:["₹",y.total.toFixed(2)]})]})})]})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(f,{className:"w-5 h-5 mr-2"}),"Delivery Information"]}),Dt.jsxs("div",{className:"space-y-3 text-sm",children:[Dt.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[Dt.jsx(w,{className:"w-4 h-4 mr-2"}),Dt.jsx("span",{children:"Free delivery on orders above ₹500"})]}),Dt.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[Dt.jsx(f,{className:"w-4 h-4 mr-2"}),Dt.jsx("span",{children:"Estimated delivery: 2-4 hours"})]}),Dt.jsxs("div",{className:"flex items-center text-orange-600 dark:text-orange-400",children:[Dt.jsx(d,{className:"w-4 h-4 mr-2"}),Dt.jsx("span",{children:"Cash on delivery available"})]})]})]}),Dt.jsx("button",{onClick:async()=>{if(h)c.error("Your cart is empty");else{m(!0);try{const e={userId:t.uid,userEmail:t.email,items:s.map(e=>({productId:e.productId,cartKey:e.cartKey,name:e.name,price:e.price,pricePerUnit:e.pricePerUnit,quantity:e.quantity,actualQuantity:e.actualQuantity,bulkMultiplier:e.bulkMultiplier,orderType:e.orderType,unit:e.unit,originalUnit:e.originalUnit,selectedQuantity:e.selectedQuantity,supplierId:e.supplierId,supplierName:e.supplierName})),summary:{subtotal:y.subtotal,tax:y.tax,total:y.total,itemCount:y.itemCount},status:"pending",createdAt:ot(),updatedAt:ot(),deliveryAddress:"Default Address",paymentMethod:"cash_on_delivery",estimatedDelivery:new Date(Date.now()+864e5)},r=await wt(xt(on,"orders"),e);await o(),x(!0),c.success(`Order placed successfully! Order ID: ${r.id.slice(-6)}`)}catch(uu){console.error("Error placing order:",uu),c.error("Failed to place order. Please try again.")}finally{m(!1)}}},disabled:p||h,className:"btn-primary w-full text-lg py-4 flex items-center justify-center space-x-2",children:p?Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),Dt.jsx("span",{children:"Processing..."})]}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsx(ae,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Place Order"}),Dt.jsx(P,{className:"w-5 h-5"})]})})]})]})]})})},ia={},sa=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in ia)return;ia[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var aa=Uint8Array,oa=Uint16Array,la=Int32Array,ca=new aa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),da=new aa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ua=new aa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ha=function(e,t){for(var r=new oa(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];var s=new la(r[30]);for(i=1;i<30;++i)for(var n=r[i];n<r[i+1];++n)s[n]=n-r[i]<<5|i;return{b:r,r:s}},pa=ha(ca,2),ma=pa.b,fa=pa.r;ma[28]=258,fa[258]=28;for(var ga=ha(da,0),xa=ga.b,ya=ga.r,va=new oa(32768),ba=0;ba<32768;++ba){var wa=(43690&ba)>>1|(21845&ba)<<1;wa=(61680&(wa=(52428&wa)>>2|(13107&wa)<<2))>>4|(3855&wa)<<4,va[ba]=((65280&wa)>>8|(255&wa)<<8)>>1}var _a=function(e,t,r){for(var i=e.length,s=0,n=new oa(t);s<i;++s)e[s]&&++n[e[s]-1];var a,o=new oa(t);for(s=1;s<t;++s)o[s]=o[s-1]+n[s-1]<<1;if(r){a=new oa(1<<t);var l=15-t;for(s=0;s<i;++s)if(e[s])for(var c=s<<4|e[s],d=t-e[s],u=o[e[s]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[va[u]>>l]=c}else for(a=new oa(i),s=0;s<i;++s)e[s]&&(a[s]=va[o[e[s]-1]++]>>15-e[s]);return a},Na=new aa(288);for(ba=0;ba<144;++ba)Na[ba]=8;for(ba=144;ba<256;++ba)Na[ba]=9;for(ba=256;ba<280;++ba)Na[ba]=7;for(ba=280;ba<288;++ba)Na[ba]=8;var ka=new aa(32);for(ba=0;ba<32;++ba)ka[ba]=5;var ja=_a(Na,9,0),Sa=_a(Na,9,1),Pa=_a(ka,5,0),La=_a(ka,5,1),Aa=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ca=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&r},Ia=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},Ta=function(e){return(e+7)/8|0},Fa=function(e,t,r){return(null==r||r>e.length)&&(r=e.length),new aa(e.subarray(t,r))},Ea=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Oa=function(e,t,r){var i=new Error(t||Ea[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Oa),!r)throw i;return i},Ma=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8},Ra=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8,e[i+2]|=r>>16},Da=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var s=r.length,n=r.slice();if(!s)return{t:$a,l:0};if(1==s){var a=new aa(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,u=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=r[r[c].f<r[u].f?c++:u++],l=r[c!=d&&r[c].f<r[u].f?c++:u++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=n[0].s;for(i=1;i<s;++i)n[i].s>h&&(h=n[i].s);var p=new oa(h+1),m=Ba(r[d-1],p,0);if(m>t){i=0;var f=0,g=m-t,x=1<<g;for(n.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});i<s;++i){var y=n[i].s;if(!(p[y]>t))break;f+=x-(1<<m-p[y]),p[y]=t}for(f>>=g;f>0;){var v=n[i].s;p[v]<t?f-=1<<t-p[v]++-1:++i}for(;i>=0&&f;--i){var b=n[i].s;p[b]==t&&(--p[b],++f)}m=t}return{t:new aa(p),l:m}},Ba=function(e,t,r){return-1==e.s?Math.max(Ba(e.l,t,r+1),Ba(e.r,t,r+1)):t[e.s]=r},za=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new oa(++t),i=0,s=e[0],n=1,a=function(e){r[i++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++n;else{if(!s&&n>2){for(;n>138;n-=138)a(32754);n>2&&(a(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(a(s),--n;n>6;n-=6)a(8304);n>2&&(a(n-3<<5|8208),n=0)}for(;n--;)a(s);n=1,s=e[o]}return{c:r.subarray(0,i),n:t}},qa=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},Ua=function(e,t,r){var i=r.length,s=Ta(t+2);e[s]=255&i,e[s+1]=i>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var n=0;n<i;++n)e[s+n+4]=r[n];return 8*(s+4+i)},Ha=function(e,t,r,i,s,n,a,o,l,c,d){Ma(t,d++,r),++s[256];for(var u=Da(s,15),h=u.t,p=u.l,m=Da(n,15),f=m.t,g=m.l,x=za(h),y=x.c,v=x.n,b=za(f),w=b.c,_=b.n,N=new oa(19),k=0;k<y.length;++k)++N[31&y[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var j=Da(N,7),S=j.t,P=j.l,L=19;L>4&&!S[ua[L-1]];--L);var A,C,I,T,F=c+5<<3,E=qa(s,Na)+qa(n,ka)+a,O=qa(s,h)+qa(n,f)+a+14+3*L+qa(N,S)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&F<=E&&F<=O)return Ua(t,d,e.subarray(l,l+c));if(Ma(t,d,1+(O<E)),d+=2,O<E){A=_a(h,p,0),C=h,I=_a(f,g,0),T=f;var M=_a(S,P,0);Ma(t,d,v-257),Ma(t,d+5,_-1),Ma(t,d+10,L-4),d+=14;for(k=0;k<L;++k)Ma(t,d+3*k,S[ua[k]]);d+=3*L;for(var R=[y,w],D=0;D<2;++D){var B=R[D];for(k=0;k<B.length;++k){var z=31&B[k];Ma(t,d,M[z]),d+=S[z],z>15&&(Ma(t,d,B[k]>>5&127),d+=B[k]>>12)}}}else A=ja,C=Na,I=Pa,T=ka;for(k=0;k<o;++k){var q=i[k];if(q>255){Ra(t,d,A[(z=q>>18&31)+257]),d+=C[z+257],z>7&&(Ma(t,d,q>>23&31),d+=ca[z]);var U=31&q;Ra(t,d,I[U]),d+=T[U],U>3&&(Ra(t,d,q>>5&8191),d+=da[U])}else Ra(t,d,A[q]),d+=C[q]}return Ra(t,d,A[256]),d+C[256]},Wa=new la([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$a=new aa(0),Va=function(){var e=1,t=0;return{p:function(r){for(var i=e,s=t,n=0|r.length,a=0;a!=n;){for(var o=Math.min(a+2655,n);a<o;++a)s+=i+=r[a];i=(65535&i)+15*(i>>16),s=(65535&s)+15*(s>>16)}e=i,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Za=function(e,t,r,i,s){if(!s&&(s={l:1},t.dictionary)){var n=t.dictionary.subarray(-32768),a=new aa(n.length+e.length);a.set(n),a.set(e,n.length),e=a,s.w=n.length}return function(e,t,r,i,s,n){var a=n.z||e.length,o=new aa(i+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(i,o.length-s),c=n.l,d=7&(n.r||0);if(t){d&&(l[0]=n.r>>3);for(var u=Wa[t-1],h=u>>13,p=8191&u,m=(1<<r)-1,f=n.p||new oa(32768),g=n.h||new oa(m+1),x=Math.ceil(r/3),y=2*x,v=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<y)&m},b=new la(25e3),w=new oa(288),_=new oa(32),N=0,k=0,j=n.i||0,S=0,P=n.w||0,L=0;j+2<a;++j){var A=v(j),C=32767&j,I=g[A];if(f[C]=I,g[A]=C,P<=j){var T=a-j;if((N>7e3||S>24576)&&(T>423||!c)){d=Ha(e,l,0,b,w,_,k,S,L,j-L,d),S=N=k=0,L=j;for(var F=0;F<286;++F)w[F]=0;for(F=0;F<30;++F)_[F]=0}var E=2,O=0,M=p,R=C-I&32767;if(T>2&&A==v(j-R))for(var D=Math.min(h,T)-1,B=Math.min(32767,j),z=Math.min(258,T);R<=B&&--M&&C!=I;){if(e[j+E]==e[j+E-R]){for(var q=0;q<z&&e[j+q]==e[j+q-R];++q);if(q>E){if(E=q,O=R,q>D)break;var U=Math.min(R,q-2),H=0;for(F=0;F<U;++F){var W=j-R+F&32767,$=W-f[W]&32767;$>H&&(H=$,I=W)}}}R+=(C=I)-(I=f[C])&32767}if(O){b[S++]=268435456|fa[E]<<18|ya[O];var V=31&fa[E],Z=31&ya[O];k+=ca[V]+da[Z],++w[257+V],++_[Z],P=j+E,++N}else b[S++]=e[j],++w[e[j]]}}for(j=Math.max(j,P);j<a;++j)b[S++]=e[j],++w[e[j]];d=Ha(e,l,c,b,w,_,k,S,L,j-L,d),c||(n.r=7&d|l[d/8|0]<<3,d-=7,n.h=g,n.p=f,n.i=j,n.w=P)}else{for(j=n.w||0;j<a+c;j+=65535){var G=j+65535;G>=a&&(l[d/8|0]=c,G=a),d=Ua(l,d+1,e.subarray(j,G))}n.i=a}return Fa(o,0,i+Ta(d)+s)}(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,i,s)},Ga=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function Qa(e,t){t||(t={});var r=Va();r.p(e);var i=Za(e,t,t.dictionary?6:2,4);return function(e,t){var r=t.level,i=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Va();s.p(t.dictionary),Ga(e,2,s.d())}}(i,t),Ga(i,i.length-4,r.d()),i}function Ka(e,t){return function(e,t,r,i){var s=e.length;if(!s||t.f&&!t.l)return r||new aa(0);var n=!r,a=n||2!=t.i,o=t.i;n&&(r=new aa(3*s));var l=function(e){var t=r.length;if(e>t){var i=new aa(Math.max(2*t,e));i.set(r),r=i}},c=t.f||0,d=t.p||0,u=t.b||0,h=t.l,p=t.d,m=t.m,f=t.n,g=8*s;do{if(!h){c=Ca(e,d,1);var x=Ca(e,d+1,3);if(d+=3,!x){var y=e[(A=Ta(d)+4)-4]|e[A-3]<<8,v=A+y;if(v>s){o&&Oa(0);break}a&&l(u+y),r.set(e.subarray(A,v),u),t.b=u+=y,t.p=d=8*v,t.f=c;continue}if(1==x)h=Sa,p=La,m=9,f=5;else if(2==x){var b=Ca(e,d,31)+257,w=Ca(e,d+10,15)+4,_=b+Ca(e,d+5,31)+1;d+=14;for(var N=new aa(_),k=new aa(19),j=0;j<w;++j)k[ua[j]]=Ca(e,d+3*j,7);d+=3*w;var S=Aa(k),P=(1<<S)-1,L=_a(k,S,1);for(j=0;j<_;){var A,C=L[Ca(e,d,P)];if(d+=15&C,(A=C>>4)<16)N[j++]=A;else{var I=0,T=0;for(16==A?(T=3+Ca(e,d,3),d+=2,I=N[j-1]):17==A?(T=3+Ca(e,d,7),d+=3):18==A&&(T=11+Ca(e,d,127),d+=7);T--;)N[j++]=I}}var F=N.subarray(0,b),E=N.subarray(b);m=Aa(F),f=Aa(E),h=_a(F,m,1),p=_a(E,f,1)}else Oa(1);if(d>g){o&&Oa(0);break}}a&&l(u+131072);for(var O=(1<<m)-1,M=(1<<f)-1,R=d;;R=d){var D=(I=h[Ia(e,d)&O])>>4;if((d+=15&I)>g){o&&Oa(0);break}if(I||Oa(2),D<256)r[u++]=D;else{if(256==D){R=d,h=null;break}var B=D-254;if(D>264){var z=ca[j=D-257];B=Ca(e,d,(1<<z)-1)+ma[j],d+=z}var q=p[Ia(e,d)&M],U=q>>4;if(q||Oa(3),d+=15&q,E=xa[U],U>3&&(z=da[U],E+=Ia(e,d)&(1<<z)-1,d+=z),d>g){o&&Oa(0);break}a&&l(u+131072);var H=u+B;if(u<E){var W=0-E,$=Math.min(E,H);for(W+u<0&&Oa(3);u<$;++u)r[u]=i[W+u]}for(;u<H;++u)r[u]=r[u-E]}}t.l=h,t.p=R,t.b=u,t.f=c,h&&(c=1,t.m=m,t.d=p,t.n=f)}while(!c);return u!=r.length&&n?Fa(r,0,u):r.subarray(0,u)}(e.subarray(((8!=(15&(r=e)[0])||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Oa(6,"invalid zlib data"),1==(r[1]>>5&1)&&Oa(6,"invalid zlib data: "+(32&r[1]?"need":"unexpected")+" dictionary"),2+(r[1]>>3&4)),-4),{i:2},t,t);var r}var Ya="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ya.decode($a,{stream:!0})}catch(wl){}var Ja=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Xa(){Ja.console&&"function"==typeof Ja.console.log&&Ja.console.log.apply(Ja.console,arguments)}var eo={log:Xa,warn:function(e){Ja.console&&("function"==typeof Ja.console.warn?Ja.console.warn.apply(Ja.console,arguments):Xa.call(null,arguments))},error:function(e){Ja.console&&("function"==typeof Ja.console.error?Ja.console.error.apply(Ja.console,arguments):Xa(e))}};function to(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){ao(i.response,t,r)},i.onerror=function(){eo.error("could not download file")},i.send()}function ro(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function io(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var so,no,ao=Ja.saveAs||("object"!==("undefined"==typeof window?"undefined":na(window))||window!==Ja?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var i=Ja.URL||Ja.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?ro(s.href)?to(e,t,r):io(s,s.target="_blank"):io(s)):(s.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){io(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(ro(e))to(e,t,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){io(i)})}else navigator.msSaveOrOpenBlob((s=e,void 0===(n=r)?n={autoBom:!1}:"object"!==na(n)&&(eo.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s),t);var s,n}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return to(e,t,r);var s="application/octet-stream"===e.type,n=/constructor/i.test(Ja.HTMLElement)||Ja.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&n)&&"object"===("undefined"==typeof FileReader?"undefined":na(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},o.readAsDataURL(e)}else{var l=Ja.URL||Ja.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oo(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<r.length;i++){var s=r[i].re,n=r[i].process,a=s.exec(e);a&&(t=n(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lo(e,t){var r=e[0],i=e[1],s=e[2],n=e[3];r=uo(r,i,s,n,t[0],7,-680876936),n=uo(n,r,i,s,t[1],12,-389564586),s=uo(s,n,r,i,t[2],17,606105819),i=uo(i,s,n,r,t[3],22,-1044525330),r=uo(r,i,s,n,t[4],7,-176418897),n=uo(n,r,i,s,t[5],12,1200080426),s=uo(s,n,r,i,t[6],17,-1473231341),i=uo(i,s,n,r,t[7],22,-45705983),r=uo(r,i,s,n,t[8],7,1770035416),n=uo(n,r,i,s,t[9],12,-1958414417),s=uo(s,n,r,i,t[10],17,-42063),i=uo(i,s,n,r,t[11],22,-1990404162),r=uo(r,i,s,n,t[12],7,1804603682),n=uo(n,r,i,s,t[13],12,-40341101),s=uo(s,n,r,i,t[14],17,-1502002290),r=ho(r,i=uo(i,s,n,r,t[15],22,1236535329),s,n,t[1],5,-165796510),n=ho(n,r,i,s,t[6],9,-1069501632),s=ho(s,n,r,i,t[11],14,643717713),i=ho(i,s,n,r,t[0],20,-373897302),r=ho(r,i,s,n,t[5],5,-701558691),n=ho(n,r,i,s,t[10],9,38016083),s=ho(s,n,r,i,t[15],14,-660478335),i=ho(i,s,n,r,t[4],20,-405537848),r=ho(r,i,s,n,t[9],5,568446438),n=ho(n,r,i,s,t[14],9,-1019803690),s=ho(s,n,r,i,t[3],14,-187363961),i=ho(i,s,n,r,t[8],20,1163531501),r=ho(r,i,s,n,t[13],5,-1444681467),n=ho(n,r,i,s,t[2],9,-51403784),s=ho(s,n,r,i,t[7],14,1735328473),r=po(r,i=ho(i,s,n,r,t[12],20,-1926607734),s,n,t[5],4,-378558),n=po(n,r,i,s,t[8],11,-2022574463),s=po(s,n,r,i,t[11],16,1839030562),i=po(i,s,n,r,t[14],23,-35309556),r=po(r,i,s,n,t[1],4,-1530992060),n=po(n,r,i,s,t[4],11,1272893353),s=po(s,n,r,i,t[7],16,-155497632),i=po(i,s,n,r,t[10],23,-1094730640),r=po(r,i,s,n,t[13],4,681279174),n=po(n,r,i,s,t[0],11,-358537222),s=po(s,n,r,i,t[3],16,-722521979),i=po(i,s,n,r,t[6],23,76029189),r=po(r,i,s,n,t[9],4,-640364487),n=po(n,r,i,s,t[12],11,-421815835),s=po(s,n,r,i,t[15],16,530742520),r=mo(r,i=po(i,s,n,r,t[2],23,-995338651),s,n,t[0],6,-198630844),n=mo(n,r,i,s,t[7],10,1126891415),s=mo(s,n,r,i,t[14],15,-1416354905),i=mo(i,s,n,r,t[5],21,-57434055),r=mo(r,i,s,n,t[12],6,1700485571),n=mo(n,r,i,s,t[3],10,-1894986606),s=mo(s,n,r,i,t[10],15,-1051523),i=mo(i,s,n,r,t[1],21,-2054922799),r=mo(r,i,s,n,t[8],6,1873313359),n=mo(n,r,i,s,t[15],10,-30611744),s=mo(s,n,r,i,t[6],15,-1560198380),i=mo(i,s,n,r,t[13],21,1309151649),r=mo(r,i,s,n,t[4],6,-145523070),n=mo(n,r,i,s,t[11],10,-1120210379),s=mo(s,n,r,i,t[2],15,718787259),i=mo(i,s,n,r,t[9],21,-343485551),e[0]=_o(r,e[0]),e[1]=_o(i,e[1]),e[2]=_o(s,e[2]),e[3]=_o(n,e[3])}function co(e,t,r,i,s,n){return t=_o(_o(t,e),_o(i,n)),_o(t<<s|t>>>32-s,r)}function uo(e,t,r,i,s,n,a){return co(t&r|~t&i,e,t,s,n,a)}function ho(e,t,r,i,s,n,a){return co(t&i|r&~i,e,t,s,n,a)}function po(e,t,r,i,s,n,a){return co(t^r^i,e,t,s,n,a)}function mo(e,t,r,i,s,n,a){return co(r^(t|~i),e,t,s,n,a)}function fo(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)lo(i,go(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(lo(i,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,lo(i,s),i}function go(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}so=Ja.atob.bind(Ja),no=Ja.btoa.bind(Ja);var xo="0123456789abcdef".split("");function yo(e){for(var t="",r=0;r<4;r++)t+=xo[e>>8*r+4&15]+xo[e>>8*r&15];return t}function vo(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function bo(e){return fo(e).map(vo).join("")}var wo="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=yo(e[t]);return e.join("")}(fo("hello"));function _o(e,t){if(wo){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function No(e,t){var r,i,s,n;if(e!==r){for(var a=(s=e,n=1+(256/e.length|0),new Array(n+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,i=o}else o=i;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,a=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^a);return m}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ko={print:4,modify:8,copy:16,"annot-forms":32};function jo(e,t,r,i){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==ko.perm)throw new Error("Invalid permission: "+e);s+=ko[e]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var n=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(n,a),this.P=-(1+(255^s)),this.encryptionKey=bo(n+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=No(this.encryptionKey,this.padding)}function So(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[i]}return t}function Po(e){if("object"!==na(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!i],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var n in t[r]){var a=t[r][n];try{a[0].apply(e,i)}catch(o){Ja.console&&eo.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(n)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Lo(e){if(!(this instanceof Lo))return new Lo(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Ao(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Co(e,t,r,i,s){if(!(this instanceof Co))return new Co(e,t,r,i,s);this.type="axial"===e?2:3,this.coords=t,this.colors=r,Ao.call(this,i,s)}function Io(e,t,r,i,s){if(!(this instanceof Io))return new Io(e,t,r,i,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Ao.call(this,i,s)}function To(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],s=arguments[2],n=arguments[3],a=[],o=1,l=16,c="S",d=null;"object"===na(e=e||{})&&(r=e.orientation,i=e.unit||i,s=e.format||s,n=e.compress||e.compressPdf||n,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===n?["FlateEncode"]:a),i=i||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=Po;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};s=s||"a4";var y="compat",v="advanced",b=y;function w(){this.saveGraphicsState(),Y(new Ie(he,0,0,-he,0,cr()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",b=v}function _(){this.restoreGraphicsState(),c="S",b=y}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=b===y;return t&&w.call(this),"function"!=typeof e||(e(this),t&&_.call(this)),this},p.compatAPI=function(e){var t=b===v;return t&&_.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return b===v};var k,j=function(e){if(b!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(e,r){var i=t||r;if(isNaN(e)||isNaN(i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(i).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var P=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},L=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},A=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return b===y?e*he:b===v?e:void 0},C=function(e){return A(function(e){return b===y?cr()-e:b===v?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,T="00000000000000000000000000000000",F=p.__private__.getFileId=function(){return T},E=p.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(vt=new jo(d.userPermissions,d.userPassword,d.ownerPassword,T)),T};p.setFileId=function(e){return E(e),this},p.getFileId=function(){return F()};var O=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),n=[r,z(i),"'",z(s),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),n].join("")},M=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),n=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,r,i,s,n,a,0)},R=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=O(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},D=p.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=M(I)),t};p.setCreationDate=function(e){return R(e),this},p.getCreationDate=function(e){return D(e)};var B,z=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},q=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},U=0,H=[],W=[],$=0,V=[],Z=[],G=!1,Q=W;p.__private__.setCustomOutputDestination=function(e){G=!0,Q=e};var K=function(e){G||(Q=e)};p.__private__.resetCustomOutputDestination=function(){G=!1,Q=W};var Y=p.__private__.out=function(e){return e=e.toString(),$+=e.length+1,Q.push(e),Q},J=p.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},X=p.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),i=new Uint8Array(r);t--;)i[t]=e.charCodeAt(t);return r},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=b===v?e/he:e,this};var re,ie=p.__private__.getFontSize=p.getFontSize=function(){return b===y?te:te*he},se=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return se=e,this},p.__private__.getR2L=p.getR2L=function(){return se};var ne,ae=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};p.__private__.getZoomMode=function(){return re};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ne=e};p.__private__.getPageMode=function(){return ne};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,r){return ae(e),ce(t),le(r),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ge={},xe={},ye=[],ve={},be={},we={},_e={},Ne=null,ke=0,je=[],Se=new Po(p),Pe=e.hotfixes||[],Le={},Ae={},Ce=[],Ie=function e(t,r,i,s,n,a){if(!(this instanceof e))return new e(t,r,i,s,n,a);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(i)&&(i=0),isNaN(s)&&(s=1),isNaN(n)&&(n=0),isNaN(a)&&(a=0),this._matrix=[t,r,i,s,n,a]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,i=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,n=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,r,i,s,n,a)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,i=this.sy,s=this.tx,n=this.ty,a=Math.sqrt(e*e+t*t),o=(e/=a)*r+(t/=a)*i;r-=e*o,i-=t*o;var l=Math.sqrt(r*r+i*i);return o/=l,e*(i/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,a=-a),{scale:new Ie(a,0,0,l,0,0),translate:new Ie(1,0,0,1,s,n),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,o,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,i=this.sy,s=this.tx,n=this.ty,a=1/(e*i-t*r),o=i*a,l=-t*a,c=-r*a,d=e*a;return new Ie(o,l,c,d,-o*s-c*n,-l*s-d*n)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new rr(t,r)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new rr(e.x+e.w,e.y+e.h));return new ir(t.x,t.y,r.x-t.x,r.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,i=this.sy,s=this.tx,n=this.ty;return new Ie(e,t,r,i,s,n)},p.Matrix=Ie;var Te=p.matrixMult=function(e,t){return t.multiply(e)},Fe=new Ie(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Fe;var Ee=function(e,t){if(!be[e]){var r=(t instanceof Co?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=r,be[e]=r,ve[r]=t,Se.publish("addPattern",t)}};p.ShadingPattern=Co,p.TilingPattern=Io,p.addShadingPattern=function(e,t){return j("addShadingPattern()"),Ee(e,t),this},p.beginTilingPattern=function(e){j("beginTilingPattern()"),nr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){j("endTilingPattern()"),t.stream=Z[B].join("\n"),Ee(e,t),Se.publish("endTilingPattern",t),Ce.pop().restore()};var Oe,Me=p.__private__.newObject=function(){var e=Re();return De(e,!0),e},Re=p.__private__.newObjectDeferred=function(){return U++,H[U]=function(){return $},U},De=function(e,t){return t="boolean"==typeof t&&t,H[e]=$,t&&Y(e+" 0 obj"),e},Be=p.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return V.push(e),e},ze=Re(),qe=Re(),Ue=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var i="#",s=0;s<3;s++)i+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return i},He=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,i=e.ch2,s=e.ch3,n=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var o=new oo(r);if(o.ok)r=o.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,i=l>>8&255,s=255&l}if(void 0===i||void 0===n&&r===i&&i===s)if("string"==typeof r)t=r+" "+a[0];else if(2===e.precision)t=P(r/255)+" "+a[0];else t=L(r/255)+" "+a[0];else if(void 0===n||"object"===na(n)){if(n&&!isNaN(n.a)&&0===n.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof r)t=[r,i,s,a[1]].join(" ");else if(2===e.precision)t=[P(r/255),P(i/255),P(s/255),a[1]].join(" ");else t=[L(r/255),L(i/255),L(s/255),a[1]].join(" ")}else if("string"==typeof r)t=[r,i,s,n,a[2]].join(" ");else if(2===e.precision)t=[P(r),P(i),P(s),P(n),a[2]].join(" ");else t=[L(r),L(i),L(s),L(n),a[2]].join(" ");return t},We=p.__private__.getFilters=function(){return a},$e=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||We(),i=e.alreadyAppliedFilters||[],s=e.addLength1||!1,n=t.length,a=e.objectId,o=function(e){return e};if(null!==d&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=vt.encryptor(a,0));var l={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==To.API.processDataByFilters?To.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===s&&c.push({key:"Length1",value:n})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}Y("<<");for(var f=0;f<c.length;f++)Y("/"+c[f].key+" "+c[f].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(o(l.data)),Y("endstream"))},Ve=p.__private__.putPage=function(e){var t=e.number,r=e.data,i=e.objId,s=e.contentsObjId;De(i,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Se.publish("putPage",{objId:i,pageContext:je[t],pageNumber:t,page:r}),Y("/Contents "+s+" 0 R"),Y(">>"),Y("endobj");var n=r.join("\n");return b===v&&(n+="\nQ"),De(s,!0),$e({data:n,filters:We(),objectId:s}),Y("endobj"),i},Ze=p.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=ke;e++)je[e].objId=Re(),je[e].contentsObjId=Re();for(e=1;e<=ke;e++)r.push(Ve({number:e,data:Z[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:qe}));De(ze,!0),Y("<</Type /Pages");var i="/Kids [";for(t=0;t<ke;t++)i+=r[t]+" 0 R ";Y(i+"]"),Y("/Count "+ke),Y(">>"),Y("endobj"),Se.publish("postPutPages")},Ge=function(e){Se.publish("putFont",{font:e,out:Y,newObject:Me,putStream:$e}),!0!==e.isAlreadyPutted&&(e.objectNumber=Me(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+So(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Qe=function(e){e.objectNumber=Me();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");$e({data:r,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Ke=function(e,t){t||(t=21);var r=Me(),i=function(e,t){var r,i=[],s=1/(t-1);for(r=0;r<1;r+=s)i.push(r);if(i.push(1),0!=e[0].offset){var n={offset:0,color:e[0].color};e.unshift(n)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var o="",l=0,c=0;c<i.length;c++){for(r=i[c];r>e[l+1].offset;)l++;var d=e[l].offset,u=(r-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=q(Math.round((1-u)*h[0]+u*p[0]).toString(16))+q(Math.round((1-u)*h[1]+u*p[1]).toString(16))+q(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e({data:i,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),Y("endobj"),e.objectNumber=Me(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var n="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?n+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):n+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),Y(n+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+r+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ye=function(e,t){var r=Re(),i=Me();t.push({resourcesOid:r,objectOid:i}),e.objectNumber=i;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),s.push({key:"XStep",value:k(e.xStep)}),s.push({key:"YStep",value:k(e.yStep)}),s.push({key:"Resources",value:r+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),$e({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),Y("endobj")},Je=function(e){for(var t in e.objectNumber=Me(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+P(e[t]));break;case"stroke-opacity":Y("/CA "+P(e[t]))}Y(">>"),Y("endobj")},Xe=function(e){De(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Y("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Y("/"+e+" "+ge[e].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in Y("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof Co&&ve[e].objectNumber>=0&&Y("/"+e+" "+ve[e].objectNumber+" 0 R");Se.publish("putShadingPatternDict"),Y(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in Y("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof p.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&Y("/"+t+" "+ve[t].objectNumber+" 0 R");Se.publish("putTilingPatternDict"),Y(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in Y("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&Y("/"+e+" "+we[e].objectNumber+" 0 R");Se.publish("putGStateDict"),Y(">>")}}(),function(){for(var e in Y("/XObject <<"),Le)Le.hasOwnProperty(e)&&Le[e].objectNumber>=0&&Y("/"+e+" "+Le[e].objectNumber+" 0 R");Se.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ge(ge[e])})(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Je(we[e])}(),function(){for(var e in Le)Le.hasOwnProperty(e)&&Qe(Le[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof Co?Ke(ve[t]):ve[t]instanceof Io&&Ye(ve[t],e))}(e),Se.publish("putResources"),e.forEach(Xe),Xe({resourcesOid:qe,objectOid:Number.MAX_SAFE_INTEGER}),Se.publish("postPutResources")},tt=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},rt=function(e,t,r,i,s){var n={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:i,isStandardFont:s||!1,metadata:{}};return Se.publish("addFont",{font:n,instance:this}),ge[n.id]=n,tt(n),n.id},it=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var r,i,s,n,a,o,l,c,d;if(s=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ge[ue].metadata&&ge[ue].metadata[s]&&ge[ue].metadata[s].encoding&&(n=ge[ue].metadata[s].encoding,!a&&ge[ue].encoding&&(a=ge[ue].encoding),!a&&n.codePages&&(a=n.codePages[0]),"string"==typeof a&&(a=n[a]),a)){for(l=!1,o=[],r=0,i=e.length;r<i;r++)(c=a[e.charCodeAt(r)])?o.push(String.fromCharCode(c)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,i=e.length;r<i;r++){if((d=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},st=p.__private__.beginPage=function(e){Z[++ke]=[],je[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(ke),K(Z[B])},nt=function(e,t){var i,n,a;switch(r=t||r,"string"==typeof e&&(i=x(e.toLowerCase()),Array.isArray(i)&&(n=i[0],a=i[1])),Array.isArray(e)&&(n=e[0]*he,a=e[1]*he),isNaN(n)&&(n=s[0],a=s[1]),(n>14400||a>14400)&&(eo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),n=Math.min(14400,n),a=Math.min(14400,a)),s=[n,a],r.substr(0,1)){case"l":a>n&&(s=[a,n]);break;case"p":n>a&&(s=[a,n])}st(s),Bt(Rt),Y(Zt),0!==Xt&&Y(Xt+" J"),0!==er&&Y(er+" j"),Se.publish("addPage",{pageNumber:ke})},at=function(e){e>0&&e<=ke&&(Z.splice(e,1),je.splice(e,1),ke--,B>ke&&(B=ke),this.setPage(B))},ot=function(e){e>0&&e<=ke&&(B=e)},lt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Z.length-1},ct=function(e,t,r){var i,s=void 0;return r=r||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,i=e.toLowerCase(),void 0!==xe[i]&&void 0!==xe[i][t]?s=xe[i][t]:void 0!==xe[e]&&void 0!==xe[e][t]?s=xe[e][t]:!1===r.disableWarning&&eo.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||r.noFallback||null==(s=xe.times[t])&&(s=xe.times.normal),s},dt=p.__private__.putInfo=function(){var e=Me(),t=function(e){return e};for(var r in null!==d&&(t=vt.encryptor(e,0)),Y("<<"),Y("/Producer ("+it(t("jsPDF "+To.version))+")"),de)de.hasOwnProperty(r)&&de[r]&&Y("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+it(t(de[r]))+")");Y("/CreationDate ("+it(t(I))+")"),Y(">>"),Y("endobj")},ut=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Me(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+re;"%"===r.substr(r.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&Y("/OpenAction [3 0 R /XYZ null null "+P(re)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ne&&Y("/PageMode /"+ne),Se.publish("putCatalog"),Y(">>"),Y("endobj")},ht=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(U+1)),Y("/Root "+U+" 0 R"),Y("/Info "+(U-1)+" 0 R"),null!==d&&Y("/Encrypt "+vt.oid+" 0 R"),Y("/ID [ <"+T+"> <"+T+"> ]"),Y(">>")},pt=p.__private__.putHeader=function(){Y("%PDF-"+m),Y("%ºß¬à")},mt=p.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(U+1)),Y("0000000000 65535 f ");for(var t=1;t<=U;t++)"function"==typeof H[t]?Y((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?Y((e+H[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ft=p.__private__.buildDocument=function(){U=0,$=0,W=[],H=[],V=[],ze=Re(),qe=Re(),K(W),Se.publish("buildDocument"),pt(),Ze(),function(){Se.publish("putAdditionalObjects");for(var e=0;e<V.length;e++){var t=V[e];De(t.objId,!0),Y(t.content),Y("endobj")}Se.publish("postPutAdditionalObjects")}(),et(),null!==d&&(vt.oid=Me(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vt.v),Y("/R "+vt.r),Y("/U <"+vt.toHexString(vt.U)+">"),Y("/O <"+vt.toHexString(vt.O)+">"),Y("/P "+vt.P),Y(">>"),Y("endobj")),dt(),ut();var e=$;return mt(),ht(),Y("startxref"),Y(""+e),Y("%%EOF"),K(Z[B]),W.join("\n")},gt=p.__private__.getBlob=function(e){return new Blob([X(e)],{type:"application/pdf"})},xt=p.output=p.__private__.output=((Oe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":p.save(t.filename);break;case"arraybuffer":return X(ft());case"blob":return gt(ft());case"bloburi":case"bloburl":if(void 0!==Ja.URL&&"function"==typeof Ja.URL.createObjectURL)return Ja.URL&&Ja.URL.createObjectURL(gt(ft()))||void 0;eo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",i=ft();try{r=no(i)}catch(m){r=no(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ja)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",n=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,n="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+n+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Ja.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ja)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Ja.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ja))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=Ja.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return Ja.document.location.href=this.output("datauristring",t);default:return null}}).foo=function(){try{return Oe.apply(this,arguments)}catch(r){var e=r.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+r.message;if(!Ja.console)throw new Error(t);Ja.console.error(t,r),Ja.alert&&alert(t)}},Oe.foo.bar=Oe,Oe.foo),yt=function(e){return!0===Array.isArray(Pe)&&Pe.indexOf(e)>-1};switch(i){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);he=i}var vt=null;R(),E();var bt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},wt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return bt(t)},_t=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:je[B].objId,pageNumber:B,pageContext:je[B]}};p.addPage=function(){return nt.apply(this,arguments),this},p.setPage=function(){return ot.apply(this,arguments),K.call(this,Z[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var r,i;if(e>t){r=Z[e],i=je[e];for(var s=e;s>t;s--)Z[s]=Z[s-1],je[s]=je[s-1];Z[t]=r,je[t]=i,this.setPage(t)}else if(e<t){r=Z[e],i=je[e];for(var n=e;n<t;n++)Z[n]=Z[n+1],je[n]=je[n+1];Z[t]=r,je[t]=i,this.setPage(t)}return this},p.deletePage=function(){return at.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,r,i,s){var n,a,o,l,c,d,u,p,m,f=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var g=r;r=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(o=arguments[4],l=arguments[5],"object"===na(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),i={flags:u,angle:o,align:l})):(j("The transform parameter of text() with a Matrix value"),m=s),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var x,y="",w="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Mt,_=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),it(e,u)}function S(e){for(var t,r=e.concat(),i=[],s=r.length;s--;)"string"==typeof(t=r.shift())?i.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function P(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var i,s,n=e.concat(),a=[],o=n.length;o--;)"string"==typeof(i=n.shift())?a.push(t(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&(s=t(i[0],i[1],i[2]),a.push([s[0],s[1],s[2]]));r=a}return r}var L=!1,C=!0;if("string"==typeof e)L=!0;else if(Array.isArray(e)){var I=e.concat();a=[];for(var T,F=I.length;F--;)("string"!=typeof(T=I.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(C=!1);L=C}if(!1===L)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var E=te/f.internal.scaleFactor,O=E*(w-1);switch(i.baseline){case"bottom":r-=O;break;case"top":r+=E-O;break;case"hanging":r+=E-2*O;break;case"middle":r+=E/2-O}if((d=i.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),n={text:e,x:t,y:r,options:i,mutex:{pdfEscape:it,activeFontKey:ue,fonts:ge,activeFontSize:te}},Se.publish("preProcessText",n),e=n.text,o=(i=n.options).angle,m instanceof Ie==0&&o&&"number"==typeof o){o*=Math.PI/180,0===i.rotationDirection&&(o=-o),b===v&&(o=-o);var M=Math.cos(o),R=Math.sin(o);m=new Ie(M,R,-R,M,0,0)}else o&&o instanceof Ie&&(m=o);b!==v||m||(m=Fe),void 0!==(c=i.charSpace||Yt)&&(y+=k(A(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(y+=k(100*p)+" Tz\n"),i.lang;var D=-1,B=void 0!==i.renderingMode?i.renderingMode:i.stroke,z=f.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":D=0;break;case 1:case!0:case"stroke":D=1;break;case 2:case"fillThenStroke":D=2;break;case 3:case"invisible":D=3;break;case 4:case"fillAndAddForClipping":D=4;break;case 5:case"strokeAndAddPathForClipping":D=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D=6;break;case 7:case"addToPathForClipping":D=7}var q=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==D?y+=D+" Tr\n":-1!==q&&(y+="0 Tr\n"),-1!==D&&(z.usedRenderingMode=D),l=i.align||"left";var U,H=te*w,W=f.internal.pageSize.getWidth(),$=ge[ue];c=i.charSpace||Yt,d=i.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},i.flags);var V=[],Z=function(e){return f.getStringUnitWidth(e,{font:$,charSpace:c,fontSize:te,doKerning:!1})*te/_};if("[object Array]"===Object.prototype.toString.call(e)){var G;a=S(e),"left"!==l&&(U=a.map(Z));var Q,K=0;if("right"===l){t-=U[0],e=[],F=a.length;for(var J=0;J<F;J++)0===J?(Q=Ht(t),G=Wt(r)):(Q=A(K-U[J]),G=-H),e.push([a[J],Q,G]),K=U[J]}else if("center"===l){t-=U[0]/2,e=[],F=a.length;for(var X=0;X<F;X++)0===X?(Q=Ht(t),G=Wt(r)):(Q=A((K-U[X])/2),G=-H),e.push([a[X],Q,G]),K=U[X]}else if("left"===l){e=[],F=a.length;for(var ee=0;ee<F;ee++)e.push(a[ee])}else if("justify"===l&&"Identity-H"===$.encoding){e=[],F=a.length,d=0!==d?d:W;for(var re=0,ie=0;ie<F;ie++)if(G=0===ie?Wt(r):-H,Q=0===ie?Ht(t):re,ie<F-1){var ne=A((d-U[ie])/(a[ie].split(" ").length-1)),ae=a[ie].split(" ");e.push([ae[0]+" ",Q,G]),re=0;for(var oe=1;oe<ae.length;oe++){var le=(Z(ae[oe-1]+" "+ae[oe])-Z(ae[oe]))*_+ne;oe==ae.length-1?e.push([ae[oe],le,0]):e.push([ae[oe]+" ",le,0]),re-=le}}else e.push([a[ie],Q,G]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],F=a.length,d=0!==d?d:W,ie=0;ie<F;ie++)G=0===ie?Wt(r):-H,Q=0===ie?Ht(t):0,ie<F-1?V.push(k(A((d-U[ie])/(a[ie].split(" ").length-1)))):V.push(0),e.push([a[ie],Q,G])}}!0===("boolean"==typeof i.R2L?i.R2L:se)&&(e=P(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),n={text:e,x:t,y:r,options:i,mutex:{pdfEscape:it,activeFontKey:ue,fonts:ge,activeFontSize:te}},Se.publish("postProcessText",n),e=n.text,x=n.mutex.isHex||!1;var ce=ge[ue].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=P(e,function(e,t,r){return[N(e),t,r]})),a=S(e),e=[];for(var de,he,pe,me=Array.isArray(a[0])?1:0,fe="",xe=function(e,t,r){var s="";return r instanceof Ie?(r="number"==typeof i.angle?Te(r,new Ie(1,0,0,1,e,t)):Te(new Ie(1,0,0,1,e,t),r),b===v&&(r=Te(new Ie(1,0,0,-1,0,0),r)),s=r.join(" ")+" Tm\n"):s=k(e)+" "+k(t)+" Td\n",s},ye=0;ye<a.length;ye++){switch(fe="",me){case 1:pe=(x?"<":"(")+a[ye][0]+(x?">":")"),de=parseFloat(a[ye][1]),he=parseFloat(a[ye][2]);break;case 0:pe=(x?"<":"(")+a[ye]+(x?">":")"),de=Ht(t),he=Wt(r)}void 0!==V&&void 0!==V[ye]&&(fe=V[ye]+" Tw\n"),0===ye?e.push(fe+xe(de,he,m)+pe):0===me?e.push(fe+pe):1===me&&e.push(fe+xe(de,he,m)+pe)}e=0===me?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=ue+" "+te+" Tf\n",ve+=k(te*w)+" TL\n",ve+=Qt+"\n",ve+=y,ve+=e,Y(ve+="ET"),h[ue]=!0,f};var Nt=p.__private__.clip=p.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return Nt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var kt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return kt(e)&&(c=e),this};var jt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(e){return Pt("f",e),this},p.fillEvenOdd=function(e){return Pt("f*",e),this},p.fillStroke=function(e){return Pt("B",e),this},p.fillStrokeEvenOdd=function(e){return Pt("B*",e),this};var Pt=function(e,t){"object"===na(t)?Ct(t,e):Y(e)},Lt=function(e){null===e||b===v&&void 0===e||(e=jt(e),Y(e))};function At(e,t,r,i,s){var n=new Io(t||this.boundingBox,r||this.xStep,i||this.yStep,this.gState,s||this.matrix);n.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Ee(a,n),n}var Ct=function(e,t){var r=be[e.key],i=ve[r];if(i instanceof Co)Y("q"),Y(It(t)),i.gState&&p.setGState(i.gState),Y(e.matrix.toString()+" cm"),Y("/"+r+" sh"),Y("Q");else if(i instanceof Io){var s=new Ie(1,0,0,-1,0,cr());e.matrix&&(s=s.multiply(e.matrix||Fe),r=At.call(i,e.key,e.boundingBox,e.xStep,e.yStep,s).id),Y("q"),Y("/Pattern cs"),Y("/"+r+" scn"),i.gState&&p.setGState(i.gState),Y(t),Y("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tt=p.moveTo=function(e,t){return Y(k(A(e))+" "+k(C(t))+" m"),this},Ft=p.lineTo=function(e,t){return Y(k(A(e))+" "+k(C(t))+" l"),this},Et=p.curveTo=function(e,t,r,i,s,n){return Y([k(A(e)),k(C(t)),k(A(r)),k(C(i)),k(A(s)),k(C(n)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!kt(s))throw new Error("Invalid arguments passed to jsPDF.line");return b===y?this.lines([[r-e,i-t]],e,t,[1,1],s||"S"):this.lines([[r-e,i-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,r,i,s,n){var a,o,l,c,d,u,h,p,m,f,g,x;if("number"==typeof e&&(x=r,r=t,t=e,e=x),i=i||[1,1],n=n||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(i)||!kt(s)||"boolean"!=typeof n)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tt(t,r),a=i[0],o=i[1],c=e.length,f=t,g=r,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*a+f,g=d[1]*o+g,Ft(f,g)):(u=d[0]*a+f,h=d[1]*o+g,p=d[2]*a+f,m=d[3]*o+g,f=d[4]*a+f,g=d[5]*o+g,Et(u,h,p,m,f,g));return n&&St(),Lt(s),this},p.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r.c;switch(r.op){case"m":Tt(i[0],i[1]);break;case"l":Ft(i[0],i[1]);break;case"c":Et.apply(this,i);break;case"h":St()}}return this},p.__private__.rect=p.rect=function(e,t,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!kt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y&&(i=-i),Y([k(A(e)),k(C(t)),k(A(r)),k(A(i)),"re"].join(" ")),Lt(s),this},p.__private__.triangle=p.triangle=function(e,t,r,i,s,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(n)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,i-t],[s-r,n-i],[e-s,t-n]],e,t,[1,1],a,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,r,i,s,n,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(n)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*r),n=Math.min(n,.5*i),this.lines([[r-2*s,0],[s*o,0,s,n-n*o,s,n],[0,i-2*n],[0,n*o,-s*o,n,-s,n],[2*s-r,0],[-s*o,0,-s,-n*o,-s,-n],[0,2*n-i],[0,-n*o,s*o,-n,s,-n]],e+s,t,[1,1],a,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!kt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var n=4/3*(Math.SQRT2-1)*r,a=4/3*(Math.SQRT2-1)*i;return Tt(e+r,t),Et(e+r,t-a,e+n,t-i,e,t-i),Et(e-n,t-i,e-r,t-a,e-r,t),Et(e-r,t+a,e-n,t+i,e,t+i),Et(e+n,t+i,e+r,t+a,e+r,t),Lt(s),this},p.__private__.circle=p.circle=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,i)},p.setFont=function(e,t,r){return r&&(t=N(t,r)),ue=ct(e,t,{disableWarning:!1}),this};var Ot=p.__private__.getFont=p.getFont=function(){return ge[ct.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,r={};for(e in xe)if(xe.hasOwnProperty(e))for(t in r[e]=[],xe[e])xe[e].hasOwnProperty(t)&&r[e].push(t);return r},p.addFont=function(e,t,r,i,s){var n=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==n.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==n.indexOf(arguments[3])&&(r=N(r,i)),rt.call(this,e,t,r,s=s||"Identity-H")};var Mt,Rt=e.lineWidth||.200025,Dt=p.__private__.getLineWidth=p.getLineWidth=function(){return Rt},Bt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Rt=e,Y(k(A(e))+" w"),this};p.__private__.setLineDash=To.API.setLineDash=To.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(A(e))}).join(" "),t=k(A(t)),Y("["+e+"] "+t+" d"),this};var zt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};var qt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Mt=e),this},Ut=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Mt};qt(e.lineHeight);var Ht=p.__private__.getHorizontalCoordinate=function(e){return A(e)},Wt=p.__private__.getVerticalCoordinate=function(e){return b===v?e:je[B].mediaBox.topRightY-je[B].mediaBox.bottomLeftY-A(e)},$t=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(Ht(e))},Vt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Wt(e))},Zt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ue(Zt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,r,i){return Zt=He({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"draw",precision:2}),Y(Zt),this};var Gt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ue(Gt)},p.__private__.setFillColor=p.setFillColor=function(e,t,r,i){return Gt=He({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"fill",precision:2}),Y(Gt),this};var Qt=e.textColor||"0 g",Kt=p.__private__.getTextColor=p.getTextColor=function(){return Ue(Qt)};p.__private__.setTextColor=p.setTextColor=function(e,t,r,i){return Qt=He({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Jt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Yt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var Xt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xt=t,Y(t+" J"),this};var er=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return er=t,Y(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(k(A(e))+" M"),this},p.GState=Lo,p.setGState=function(e){(e="string"==typeof e?we[_e[e]]:tr(null,e)).equals(Ne)||(Y("/"+e.id+" gs"),Ne=e)};var tr=function(e,t){if(!e||!_e[e]){var r=!1;for(var i in we)if(we.hasOwnProperty(i)&&we[i].equals(t)){r=!0;break}if(r)t=we[i];else{var s="GS"+(Object.keys(we).length+1).toString(10);we[s]=t,t.id=s}return e&&(_e[e]=t.id),Se.publish("addGState",t),t}};p.addGState=function(e,t){return tr(e,t),this},p.saveGraphicsState=function(){return Y("q"),ye.push({key:ue,size:te,color:Qt}),this},p.restoreGraphicsState=function(){Y("Q");var e=ye.pop();return ue=e.key,te=e.size,Qt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},p.comment=function(e){return Y("#"+e),this};var rr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},ir=function(e,t,r,i){rr.call(this,e,t),this.type="rect";var s=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var n=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}}),this},sr=function(){this.page=ke,this.currentPage=B,this.pages=Z.slice(0),this.pagesContext=je.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=or(B),this.height=cr(B),this.outputDestination=Q,this.id="",this.objectNumber=-1};sr.prototype.restore=function(){ke=this.page,B=this.currentPage,je=this.pagesContext,Z=this.pages,pe=this.x,me=this.y,fe=this.matrix,lr(B,this.width),dr(B,this.height),Q=this.outputDestination};var nr=function(e,t,r,i,s){Ce.push(new sr),ke=B=0,Z=[],pe=e,me=t,fe=s,st([r,i])};for(var ar in p.beginFormObject=function(e,t,r,i,s){return nr(e,t,r,i,s),this},p.endFormObject=function(e){return function(e){if(Ae[e])Ce.pop().restore();else{var t=new sr,r="Xo"+(Object.keys(Le).length+1).toString(10);t.id=r,Ae[e]=r,Le[r]=t,Se.publish("addFormObject",t),Ce.pop().restore()}}(e),this},p.doFormObject=function(e,t){var r=Le[Ae[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+r.id+" Do"),Y("Q"),this},p.getFormObject=function(e){var t=Le[Ae[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(ao(gt(ft()),e),"function"==typeof ao.unload&&Ja.setTimeout&&setTimeout(ao.unload,911),this):new Promise(function(t,r){try{var i=ao(gt(ft()),e);"function"==typeof ao.unload&&Ja.setTimeout&&setTimeout(ao.unload,911),t(i)}catch(s){r(s.message)}})},To.API)To.API.hasOwnProperty(ar)&&("events"===ar&&To.API.events.length?function(e,t){var r,i,s;for(s=t.length-1;-1!==s;s--)r=t[s][0],i=t[s][1],e.subscribe.apply(e,[r].concat("function"==typeof i?[i]:i))}(Se,To.API.events):p[ar]=To.API[ar]);var or=p.getPageWidth=function(e){return(je[e=e||B].mediaBox.topRightX-je[e].mediaBox.bottomLeftX)/he},lr=p.setPageWidth=function(e,t){je[e].mediaBox.topRightX=t*he+je[e].mediaBox.bottomLeftX},cr=p.getPageHeight=function(e){return(je[e=e||B].mediaBox.topRightY-je[e].mediaBox.bottomLeftY)/he},dr=p.setPageHeight=function(e,t){je[e].mediaBox.topRightY=t*he+je[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:it,getStyle:jt,getFont:Ot,getFontSize:ie,getCharSpace:Jt,getTextColor:Kt,getLineHeight:zt,getLineHeightFactor:Ut,getLineWidth:Dt,write:J,getHorizontalCoordinate:Ht,getVerticalCoordinate:Wt,getCoordinateString:$t,getVerticalCoordinateString:Vt,collections:{},newObject:Me,newAdditionalObject:Be,newObjectDeferred:Re,newObjectDeferredBegin:De,getFilters:We,putStream:$e,events:Se,scaleFactor:he,pageSize:{getWidth:function(){return or(B)},setWidth:function(e){lr(B,e)},getHeight:function(){return cr(B)},setHeight:function(e){dr(B,e)}},encryptionOptions:d,encryption:vt,getEncryptor:function(e){return null!==d?vt.encryptor(e,0):function(e){return e}},output:xt,getNumberOfPages:lt,pages:Z,out:Y,f2:P,f3:L,getPageInfo:bt,getPageInfoByObjId:wt,getCurrentPageInfo:_t,getPDFVersion:f,Point:rr,Rectangle:ir,Matrix:Ie,hasHotfix:yt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return or(B)},set:function(e){lr(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return cr(B)},set:function(e){dr(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ee.length;t<r;t++){var i=rt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[i]=!0);var s=e[t][0].split("-");tt({id:i,fontName:s[0],fontStyle:s[1]||""})}Se.publish("addFonts",{fonts:ge,dictionary:xe})}.call(p,ee),ue="F1",nt(s,r),Se.publish("initialized"),p}jo.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},jo.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},jo.prototype.processOwnerPassword=function(e,t){return No(bo(t).substr(0,5),e)},jo.prototype.encryptor=function(e,t){var r=bo(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return No(r,e)}},Lo.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||na(e)!==na(this))return!1;var i=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&i--;return 0===i},To.API={events:[]},To.version="2.5.2";var Fo=To.API,Eo=1,Oo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ro=function(e){return e.toFixed(2)},Do=function(e){return e.toFixed(5)};Fo.__acroform__={};var Bo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zo=function(e){return e*Eo},qo=function(e){var t=new sl,r=yl.internal.getHeight(e)||0,i=yl.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ro(i)),Number(Ro(r))],t},Uo=Fo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ho=Fo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Wo=Fo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},$o=Fo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Wo(e,t-1)},Vo=Fo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uo(e,t-1)},Zo=Fo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ho(e,t-1)},Go=Fo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,s=e[0],n=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=i(n+o)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=i(n)||0,[Number(Ro(l.lowerLeft_X)),Number(Ro(l.lowerLeft_Y)),Number(Ro(l.upperRight_X)),Number(Ro(l.upperRight_Y))]},Qo=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,i=Ko(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Ro(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var n=qo(e);return n.scope=e.scope,n.stream=t.join("\n"),n}},Ko=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var n=r,a=yl.internal.getHeight(e)||0;a=a<0?-a:a;var o=yl.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,i){if(t+1<s.length){var n=r+" "+s[t+1][0];return Yo(n,e,i).width<=o-4}return!1};n++;e:for(;n>0;){t="",n--;var c,d,u=Yo("3",e,n).height,h=e.multiline?a-n:(a-u)/2,p=h+=2,m=0,f=0,g=0;if(n<=0){t="(...) Tj\n",t+="% Width of Text: "+Yo(t,e,n=12).width+", FieldWidth:"+o+"\n";break}for(var x="",y=0,v=0;v<s.length;v++)if(s.hasOwnProperty(v)){var b=!1;if(1!==s[v].length&&g!==s[v].length-1){if((u+2)*(y+2)+2>a)continue e;x+=s[v][g],b=!0,f=v,v--}else{x=" "==(x+=s[v][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(v),_=l(w,x,n),N=v>=s.length-1;if(_&&!N){x+=" ",g=0;continue}if(_||N){if(N)f=w;else if(e.multiline&&(u+2)*(y+2)+2>a)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>a)continue e;f=w}}for(var k="",j=m;j<=f;j++){var S=s[j];if(e.multiline){if(j===f){k+=S[g]+" ",g=(g+1)%S.length;continue}if(j===m){k+=S[S.length-1]+" ";continue}}k+=S[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=Yo(k,e,n).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Ro(c)+" "+Ro(p)+" Td\n",t+="("+Oo(k)+") Tj\n",t+=-Ro(c)+" 0 Td\n",p=-(n+2),d=0,m=b?f:f+1,y++,x=""}break}return i.text=t,i.fontSize=n,i},Yo=function(e,t,r){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Jo={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xo=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},el=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(al.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Jo)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Eo=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nl,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i.objId=void 0,i.hasAnnotation&&Xo(i,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var s=e[i],n=[],a=s.Rect;if(s.Rect&&(s.Rect=Go(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=yl.createDefaultAppearanceStream(s),"object"===na(s)&&"function"==typeof s.getKeyValueListForStream&&(n=s.getKeyValueListForStream()),s.Rect=a,s.hasAppearanceStream&&!s.appearanceStreamContent){var o=Qo(s);n.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(s.appearanceStreamContent){var l="";for(var c in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(c)){var d=s.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var i in d)if(d.hasOwnProperty(i)){var u=d[i];"function"==typeof u&&(u=u.call(t,s)),l+="/"+i+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,s)),l+="/"+i+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}n.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:n,objectId:s.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===na(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},tl=Fo.__acroform__.arrayToPdfArray=function(e,t,r){var i=function(e){return e};if(Array.isArray(e)){for(var s="[",n=0;n<e.length;n++)switch(0!==n&&(s+=" "),na(e[n])){case"boolean":case"number":case"object":s+=e[n].toString();break;case"string":"/"!==e[n].substr(0,1)?(void 0!==t&&r&&(i=r.internal.getEncryptor(t)),s+="("+Oo(i(e[n].toString()))+")"):s+=e[n].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rl=function(e,t,r){var i=function(e){return e};return void 0!==t&&r&&(i=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Oo(i(e))+")"},il=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};il.prototype.toString=function(){return this.objId+" 0 R"},il.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},il.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var i=t[r],s=this[i];s&&(Array.isArray(s)?e.push({key:i,value:tl(s,this.objId,this.scope)}):s instanceof il?(s.scope=this.scope,e.push({key:i,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:i,value:s}))}return e};var sl=function(){il.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Bo(sl,il);var nl=function(){il.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oo(t(e))+")"}},set:function(t){e=t}})};Bo(nl,il);var al=function e(){il.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(t,3))},set:function(e){!0===Boolean(e)?this.F=Vo(t,3):this.F=Zo(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(e){i[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(e){i[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(e){i[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(e){i[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var n=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!n||n.length<1){if(this instanceof ml)return;n="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oo(t(n))+")"},set:function(e){n=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return n},set:function(e){n=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Eo:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof ml||this instanceof gl))return rl(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ul==0?rl(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ul==0?"("===e.substr(0,1)?Mo(e.substr(1,e.length-2)):Mo(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ul==1?Mo(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ul==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ul==0?rl(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof ul==0?"("===e.substr(0,1)?Mo(e.substr(1,e.length-2)):Mo(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ul==1?Mo(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof ul==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,1):this.Ff=Zo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,2):this.Ff=Zo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,3):this.Ff=Zo(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Bo(al,il);var ol=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tl(t,this.objId,this.scope)},set:function(e){var r,i;i=[],"string"==typeof(r=e)&&(i=function(e,t,r){r||(r=1);for(var i,s=[];i=t.exec(e);)s.push(i[r]);return s}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,18):this.Ff=Zo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Vo(this.Ff,19):this.Ff=Zo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Vo(this.Ff,20),t.sort()):this.Ff=Zo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,22):this.Ff=Zo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,23):this.Ff=Zo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,27):this.Ff=Zo(this.Ff,27)}}),this.hasAppearanceStream=!1};Bo(ol,al);var ll=function(){ol.call(this),this.fontName="helvetica",this.combo=!1};Bo(ll,ol);var cl=function(){ll.call(this),this.combo=!0};Bo(cl,ll);var dl=function(){cl.call(this),this.edit=!0};Bo(dl,cl);var ul=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,15):this.Ff=Zo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,16):this.Ff=Zo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,17):this.Ff=Zo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,26):this.Ff=Zo(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Oo(e(t[r]))+")");return i.push(">>"),i.join("\n")}},set:function(e){"object"===na(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Bo(ul,al);var hl=function(){ul.call(this),this.pushButton=!0};Bo(hl,ul);var pl=function(){ul.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Bo(pl,ul);var ml=function(){var e,t;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),i)r.push("/"+t+" ("+Oo(e(i[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===na(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yl.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bo(ml,al),pl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},pl.prototype.createOption=function(e){var t=new ml;return t.Parent=this,t.optionName=e,this.Kids.push(t),vl.call(this.scope,t),t};var fl=function(){ul.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yl.CheckBox.createAppearanceStream()};Bo(fl,ul);var gl=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,13):this.Ff=Zo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,21):this.Ff=Zo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,23):this.Ff=Zo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,24):this.Ff=Zo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,25):this.Ff=Zo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,26):this.Ff=Zo(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bo(gl,al);var xl=function(){gl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean($o(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,14):this.Ff=Zo(this.Ff,14)}}),this.password=!0};Bo(xl,gl);var yl={CheckBox:{createAppearanceStream:function(){return{N:{On:yl.CheckBox.YesNormal},D:{On:yl.CheckBox.YesPushDown,Off:yl.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),n=Ko(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ro(yl.internal.getWidth(e))+" "+Ro(yl.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+Ro(n.fontSize)+" Tf "+s),r.push("BT"),r.push(n.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=qo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=[],n=yl.internal.getHeight(e),a=yl.internal.getWidth(e),o=Ko(e,e.caption);return s.push("1 g"),s.push("0 0 "+Ro(a)+" "+Ro(n)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ro(a-1)+" "+Ro(n-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Ro(o.fontSize)+" Tf "+i),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ro(yl.internal.getWidth(e))+" "+Ro(yl.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yl.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yl.RadioButton.Circle.YesNormal,t.D[e]=yl.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=qo(e);t.scope=e.scope;var r=[],i=yl.internal.getWidth(e)<=yl.internal.getHeight(e)?yl.internal.getWidth(e)/4:yl.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=yl.internal.Bezier_C,n=Number((i*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Do(yl.internal.getWidth(e)/2)+" "+Do(yl.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+n+" "+n+" "+i+" 0 "+i+" c"),r.push("-"+n+" "+i+" -"+i+" "+n+" -"+i+" 0 c"),r.push("-"+i+" -"+n+" -"+n+" -"+i+" 0 -"+i+" c"),r.push(n+" -"+i+" "+i+" -"+n+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=[],i=yl.internal.getWidth(e)<=yl.internal.getHeight(e)?yl.internal.getWidth(e)/4:yl.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),n=Number((s*yl.internal.Bezier_C).toFixed(5)),a=Number((i*yl.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Do(yl.internal.getWidth(e)/2)+" "+Do(yl.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+n+" "+n+" "+s+" 0 "+s+" c"),r.push("-"+n+" "+s+" -"+s+" "+n+" -"+s+" 0 c"),r.push("-"+s+" -"+n+" -"+n+" -"+s+" 0 -"+s+" c"),r.push(n+" -"+s+" "+s+" -"+n+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Do(yl.internal.getWidth(e)/2)+" "+Do(yl.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=[],i=yl.internal.getWidth(e)<=yl.internal.getHeight(e)?yl.internal.getWidth(e)/4:yl.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),n=Number((s*yl.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Do(yl.internal.getWidth(e)/2)+" "+Do(yl.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+n+" "+n+" "+s+" 0 "+s+" c"),r.push("-"+n+" "+s+" -"+s+" "+n+" -"+s+" 0 c"),r.push("-"+s+" -"+n+" -"+n+" -"+s+" 0 -"+s+" c"),r.push(n+" -"+s+" "+s+" -"+n+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yl.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yl.RadioButton.Cross.YesNormal,t.D[e]=yl.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=qo(e);t.scope=e.scope;var r=[],i=yl.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ro(yl.internal.getWidth(e)-2)+" "+Ro(yl.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ro(i.x1.x)+" "+Ro(i.x1.y)+" m"),r.push(Ro(i.x2.x)+" "+Ro(i.x2.y)+" l"),r.push(Ro(i.x4.x)+" "+Ro(i.x4.y)+" m"),r.push(Ro(i.x3.x)+" "+Ro(i.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=yl.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ro(yl.internal.getWidth(e))+" "+Ro(yl.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ro(yl.internal.getWidth(e)-2)+" "+Ro(yl.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Ro(r.x1.x)+" "+Ro(r.x1.y)+" m"),i.push(Ro(r.x2.x)+" "+Ro(r.x2.y)+" l"),i.push(Ro(r.x4.x)+" "+Ro(r.x4.y)+" m"),i.push(Ro(r.x3.x)+" "+Ro(r.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=qo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ro(yl.internal.getWidth(e))+" "+Ro(yl.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};yl.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yl.internal.getWidth(e),r=yl.internal.getHeight(e),i=Math.min(t,r);return{x1:{x:(t-i)/2,y:(r-i)/2+i},x2:{x:(t-i)/2+i,y:(r-i)/2},x3:{x:(t-i)/2,y:(r-i)/2},x4:{x:(t-i)/2+i,y:(r-i)/2+i}}}},yl.internal.getWidth=function(e){var t=0;return"object"===na(e)&&(t=zo(e.Rect[2])),t},yl.internal.getHeight=function(e){var t=0;return"object"===na(e)&&(t=zo(e.Rect[3])),t};var vl=Fo.addField=function(e){if(el(this,e),!(e instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Fo.AcroFormChoiceField=ol,Fo.AcroFormListBox=ll,Fo.AcroFormComboBox=cl,Fo.AcroFormEditBox=dl,Fo.AcroFormButton=ul,Fo.AcroFormPushButton=hl,Fo.AcroFormRadioButton=pl,Fo.AcroFormCheckBox=fl,Fo.AcroFormTextField=gl,Fo.AcroFormPasswordField=xl,Fo.AcroFormAppearance=yl,Fo.AcroForm={ChoiceField:ol,ListBox:ll,ComboBox:cl,EditBox:dl,Button:ul,PushButton:hl,RadioButton:pl,CheckBox:fl,TextField:gl,PasswordField:xl,Appearance:yl},To.AcroForm={ChoiceField:ol,ListBox:ll,ComboBox:cl,EditBox:dl,Button:ul,PushButton:hl,RadioButton:pl,CheckBox:fl,TextField:gl,PasswordField:xl,Appearance:yl};var bl,wl,_l=To.AcroForm;function Nl(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,i){var s,n,a,o,l,c=t;if("RGBA"===(i=i||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(_(e))for(l in r)for(a=r[l],s=0;s<a.length;s+=1){for(o=!0,n=0;n<a[s].length;n+=1)if(void 0!==a[s][n]&&a[s][n]!==e[n]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(a=r[l],s=0;s<a.length;s+=1){for(o=!0,n=0;n<a[s].length;n+=1)if(void 0!==a[s][n]&&a[s][n]!==e.charCodeAt(n)){o=!1;break}if(!0===o){c=l;break}}return c===t&&i!==t&&(c=i),c},s=function e(t){for(var r=this.internal.write,i=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var n=[];if(n.push({key:"Type",value:"/XObject"}),n.push({key:"Subtype",value:"/Image"}),n.push({key:"Width",value:t.width}),n.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?n.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(n.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&n.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),n.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&n.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",o=0,l=t.transparency.length;o<l;o++)a+=t.transparency[o]+" "+t.transparency[o]+" ";n.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&n.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(i({data:t.data,additionalKeyValues:n,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();i({data:k(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},n=function(){var e=this.internal.collections.addImage_images;for(var t in e)s.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var i in t)r("/I"+(e=t[i]).index,e.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",n),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var e=this.internal.collections.addImage_images;return o.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===na(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return so(unescape(i).split("base64,").pop());var s=e.loadFile(i,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var n;switch(r){case"PNG":n="image/png";break;case"WEBP":n="image/webp";break;default:n="image/jpeg"}return so(t.toDataURL(n,1).split("base64,").pop())}},p=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},m=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},f=function(e,t,r,i,s,n){var a=m.call(this,r,i,s),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=l.call(this);if(r=a[0],i=a[1],d[s.index]=s,n){n*=Math.PI/180;var u=Math.cos(n),h=Math.sin(n),p=function(e){return e.toFixed(4)},f=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),n?(this.internal.write([1,"0","0",1,o(e),c(t+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(r),"0","0",o(i),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(i),o(e),c(t+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,r,i=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;else if(_(e))for(r=e.byteLength/2,t=0;t<r;t++)i=(i<<5)-i+e[t],i|=0;return i},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(r={mimeType:i[1],charset:i[2],data:t[1]})}return r},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.charCodeAt(i);return r},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=_(e)?e:new Uint8Array(e),i=0;i<r.length;i+=8192)t+=String.fromCharCode.apply(null,r.subarray(i,i+8192));return t};e.addImage=function(){var e,r,i,s,n,a,l,c,d;if("number"==typeof arguments[1]?(r=t,i=arguments[1],s=arguments[2],n=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],d=arguments[7]):(r=arguments[1],i=arguments[2],s=arguments[3],n=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],d=arguments[8]),"object"===na(e=arguments[0])&&!u(e)&&"imageData"in e){var h=e;e=h.imageData,r=h.format||r||t,i=h.x||i||0,s=h.y||s||0,n=h.w||h.width||n,a=h.h||h.height||a,l=h.alias||l,c=h.compression||c,d=h.rotation||h.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(i)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var m=j.call(this,e,r,l,c);return f.call(this,i,s,n,a,m,d),this};var j=function(r,s,n,a){var o,l,m,f;if("string"==typeof r&&i(r)===t){r=unescape(r);var g=S(r,!1);(""!==g||void 0!==(g=e.loadFile(r,!0)))&&(r=g)}if(u(r)&&(r=h(r,s)),s=i(r,s),!d(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if((null==(m=n)||0===m.length)&&(n="string"==typeof(f=r)||_(f)?y(f):_(f.data)?y(f.data):null),(o=p.call(this,n))||(w()&&(r instanceof Uint8Array||"RGBA"===s||(l=r,r=N(r))),o=this["process"+s.toUpperCase()](r,c.call(this),n,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:x.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},S=e.__addimage__.convertBase64ToBinaryString=function(e,t){var r;t="boolean"!=typeof t||t;var i,s="";if("string"==typeof e){i=null!==(r=b(e))?r.data:e;try{s=so(i)}catch(n){if(t)throw v(i)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+n.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return s};e.getImageProperties=function(r){var s,n,a="";if(u(r)&&(r=h(r)),"string"==typeof r&&i(r)===t&&(""===(a=S(r,!1))&&(a=e.loadFile(r)||""),r=a),n=i(r),!d(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if(!w()||r instanceof Uint8Array||(r=N(r)),!(s=this["process"+n.toUpperCase()](r)))throw new Error("An unknown error occurred whilst processing the image");return s.fileType=n,s}}(To.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
bl=To.API,wl=function(e){if(void 0!==e&&""!=e)return!0},To.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),bl.events.push(["putPage",function(e){for(var t,r,i,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,l=!1,c=0;c<o.length&&!l;c++)switch((t=o[c]).type){case"link":(wl(t.options.url)||wl(t.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var d=0;d<o.length;d++){t=o[d];var u=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),f=this.internal.getEncryptor(p.objId),g=t.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(t.bounds.x)+" "+n(t.bounds.y+t.bounds.h)+" "+s(t.bounds.x+t.bounds.w)+" "+n(t.bounds.y)+"] ")+"/Contents ("+u(f(t.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+u(f(g))+") >>",p.content=i;var x=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(t.bounds.x+30)+" "+n(t.bounds.y+t.bounds.h)+" "+s(t.bounds.x+t.bounds.w+30)+" "+n(t.bounds.y)+"] ")+" /Parent "+x,t.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+s(t.bounds.x)+" "+n(t.bounds.y)+" "+s(t.bounds.x+t.bounds.w)+" "+n(t.bounds.y+t.bounds.h)+"] ";var y=t.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+u(h(t.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(t.options.name){var v=this.annotations._nameMap[t.options.name];t.options.pageNumber=v.page,t.options.top=v.y}else t.options.top||(t.options.top=0);if(r="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",i="",t.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+u(h(t.options.url))+") >>";else if(t.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,i+=" /FitV "+t.options.left+"]";break;default:var b=n(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),i+=" /XYZ "+t.options.left+" "+b+" "+t.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),bl.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},bl.link=function(e,t,r,i,s){var n=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;n.pageContext.annotations.push({finalBounds:{x:a(e),y:o(t),w:a(e+r),h:o(t+i)},options:s,type:"link"})},bl.textWithLink=function(e,t,r,i){var s,n,a=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){n=i.maxWidth;var l=this.splitTextToSize(e,n).length;s=Math.ceil(o*l)}else n=a,s=o;return this.text(e,t,r,i),r+=.2*o,"center"===i.align&&(t-=a/2),"right"===i.align&&(t-=a),this.link(t,r-o,n,s,i),a},bl.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var n=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&n(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&n(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&n(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&n(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&n(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=r,s="",n=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(n++,"number"==typeof(i=i[e.charCodeAt(t)])&&(s+=String.fromCharCode(i),i=r,n=0),t===e.length-1&&(i=r,s+=e.charAt(t-(n-1)),t-=n-1,n=0)):(i=r,s+=e.charAt(t-n),t-=n,n=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return a(e)?!1===n(e)?-1:!c(e)||!a(t)&&!a(r)||!a(r)&&o(t)||o(e)&&!a(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&a(t)&&!o(t)&&a(r)&&c(r)?3:o(e)||!a(r)?1:2:-1},p=function(e){var r=0,i=0,s=0,n="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(r=0;r<c.length;r+=1){for(d.push(""),i=0;i<c[r].length;i+=1)n=c[r][i],o=c[r][i-1],l=c[r][i+1],a(n)?(s=h(n,o,l),d[r]+=-1!==s?String.fromCharCode(t[n.charCodeAt(0)][s]):n):d[r]+=n;d[r]=u(d[r])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var i=0;for(r=[],i=0;i<t.length;i+=1)Array.isArray(t[i])?r.push([p(t[i][0]),t[i][1],t[i][2]]):r.push([p(t[i])]);e=r}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(To.API),To.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(To.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new n,this.internal.__cell__.pages=1},n=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var n=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},n.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),n=t.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)a<(l=this.getStringUnitWidth(e[u],{font:s})*r)&&(a=l);return 0!==a&&(o=e.length),{w:a/=n,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/n,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new n(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof n?arguments[0]:new n(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var s=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,l,c,d){if(i.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],g=[],x=[],y={},v={},b=[],w=[],_=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,j=d.margins||Object.assign({width:this.getPageWidth()},t),S="number"==typeof d.padding?d.padding:3,P=d.headerBackgroundColor||"#c8c8c8",L=d.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=L,this.setFontSize(k),null==c)g=f=Object.keys(l[0]),x=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===na(c[0]))for(f=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)v[c[u].name]=c[u].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(g=f=c,x=f.map(function(){return"left"}));if(_||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(y[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)b.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[m]=Math.max.apply(null,b)+S+S,b=[]}if(N){var A={};for(u=0;u<f.length;u+=1)A[f[u]]={},A[f[u]].text=g[u],A[f[u]].align=x[u];var C=o.call(this,A,v);w=f.map(function(t){return new n(e,r,v[t],C,A[t].text,void 0,A[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var T=o.call(this,l[u],v);for(p=0;p<f.length;p+=1){var F=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:F},this),a.call(this,new n(e,r,v[f[p]],T,F,u+2,I[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var o=function(e,t){var r=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(i){var s=e[i];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[i]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*i/s+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new n(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){s=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,s),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(To.API);var kl={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jl=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sl=Nl(jl),Pl=[100,200,300,400,500,600,700,800,900],Ll=Nl(Pl);function Al(e){var t,r=e.family.replace(/"|'/g,"").toLowerCase(),i=(t=e.style,kl[t=t||"normal"]?t:"normal"),s=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),n=function(e){return"number"==typeof Sl[e=e||"normal"]?e:"normal"}(e.stretch);return{family:r,style:i,weight:s,stretch:n,src:e.src||[],ref:e.ref||{name:r,style:[n,i,s].join(" ")}}}function Cl(e,t,r,i){var s;for(s=r;s>=0&&s<t.length;s+=i)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=i)if(e[t[s]])return e[t[s]]}var Il={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tl={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fl(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function El(e){return e.trimLeft()}function Ol(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Ml(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Rl,Dl,Bl,zl=["times"];!function(e){var t,r,i,s,n,a,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(e){i=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var n=0;Object.defineProperty(this,"posY",{get:function(){return n},set:function(e){isNaN(e)||(n=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null;var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){p=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1],i=(t[2],t[3]),s=t[4],n=(t[5],t[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===a?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(e){var t,r,i=[],s=e.trim();if(""===s)return zl;if(s in Tl)return[Tl[s]];for(;""!==s;){switch(r=null,t=(s=El(s)).charAt(0)){case'"':case"'":r=Ol(s.substring(1),t);break;default:r=Ml(s)}if(null===r)return zl;if(i.push(r[0]),""!==(s=El(r[1]))&&","!==s.charAt(0))return zl;s=s.replace(/^,/,"")}return i}(n);if(this.fontFaces){var l=function(e,t,r){for(var i=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Il,r.genericFontFamilies||{}),n=null,a=null,o=0;o<t.length;++o)if(s[(n=Al(t[o])).family]&&(n.family=s[n.family]),e.hasOwnProperty(n.family)){a=e[n.family];break}if(!(a=a||e[i]))throw new Error("Could not find a font-family for the rule '"+Fl(n)+"' and default family '"+i+"'.");if(a=function(e,t){if(t[e])return t[e];var r=Sl[e],i=r<=Sl.normal?-1:1,s=Cl(t,jl,r,i);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(n.stretch,a),a=function(e,t){if(t[e])return t[e];for(var r=kl[e],i=0;i<r.length;++i)if(t[r[i]])return t[r[i]];throw new Error("Could not find a matching font-style for "+e)}(n.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=Ll[e],i=Cl(t,Pl,r,e<400?-1:1);if(!i)throw new Error("Could not find a matching font-weight for value "+e);return i}(n.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Fl(n)+"'.");return a}(function(e,t){if(null===p){var r=(i=e.getFontList(),s=[],Object.keys(i).forEach(function(e){i[e].forEach(function(t){var r=null;switch(t){case"bold":r={family:e,weight:"bold"};break;case"italic":r={family:e,style:"italic"};break;case"bolditalic":r={family:e,weight:"bold",style:"italic"};break;case"":case"normal":r={family:e}}null!==r&&(r.ref={name:e,style:t},s.push(r))})}),s);p=function(e){for(var t={},r=0;r<e.length;++r){var i=Al(e[r]),s=i.family,n=i.stretch,a=i.style,o=i.weight;t[s]=t[s]||{},t[s][n]=t[s][n]||{},t[s][n][a]=t[s][n][a]||{},t[s][n][a][o]=i}return t}(r.concat(t))}var i,s;return p}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:i,style:r}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===i||parseInt(i,10)>=700||"bold"===r)&&(c="bold"),"italic"===r&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var m=0;m<o.length;m++)if(u[o[m]]){d=u[o[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){b.call(this,"fill",!1)},u.prototype.stroke=function(){b.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new a(e,t)},u.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===na(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new a(r.x,r.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,r,i){if(isNaN(r)||isNaN(i)||isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new a(r,i)),n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:n.x,y1:n.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},u.prototype.bezierCurveTo=function(e,t,r,i,s,n){if(isNaN(s)||isNaN(n)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(s,n)),l=this.ctx.transform.applyToPoint(new a(e,t)),c=this.ctx.transform.applyToPoint(new a(r,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},u.prototype.arc=function(e,t,r,i,s,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s))throw eo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(n=Boolean(n),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new a(0,r)),c=this.ctx.transform.applyToPoint(new a(0,0));r=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(s-i)>=2*Math.PI&&(i=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:i,endAngle:s,counterclockwise:n})},u.prototype.arcTo=function(e,t,r,i,s){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,i),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},u.prototype.strokeRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,r,i),this.stroke())},u.prototype.clearRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,i))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,r,i,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,i=0,s=0;else{var n=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==n)t=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]),s=1;else if(null!==(n=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]),s=parseFloat(n[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new oo(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,i=e.substring(3,4),i+=i):(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),i=parseInt(i,16)}}return{r:t,g:r,b:i,a:s,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,r,i){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw eo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!p.call(this)){var s=E(this.ctx.transform.rotation),n=this.ctx.transform.scaleX;L.call(this,{text:e,x:t,y:r,scale:n,angle:s,align:this.textAlign,maxWidth:i})}},u.prototype.strokeText=function(e,t,r,i){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw eo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){i=isNaN(i)?void 0:i;var s=E(this.ctx.transform.rotation),n=this.ctx.transform.scaleX;L.call(this,{text:e,x:t,y:r,scale:n,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:i})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw eo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*r/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.rotate=function(e){if(isNaN(e))throw eo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.transform=function(e,t,r,i,s,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(n))throw eo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(e,t,r,i,s,n);this.ctx.transform=this.ctx.transform.multiply(a)},u.prototype.setTransform=function(e,t,r,i,s,n){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,i=isNaN(i)?1:i,s=isNaN(s)?0:s,n=isNaN(n)?0:n,this.ctx.transform=new l(e,t,r,i,s,n)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,r,i,s,n,a,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,x=1;void 0!==i&&void 0!==c&&(m=c/i,x=d/s,h=u.width/i*c/i,p=u.height/s*d/s),void 0===n&&(n=t,a=r,t=0,r=0),void 0!==i&&void 0===c&&(c=i,d=s),void 0===i&&void 0===c&&(c=u.width,d=u.height);for(var b,_=this.ctx.transform.decompose(),N=E(_.rotate.shx),k=new l,j=(k=(k=(k=k.multiply(_.translate)).multiply(_.skew)).multiply(_.scale)).applyToRectangle(new o(n-t*m,a-r*x,i*h,s*p)),S=g.call(this,j),P=[],L=0;L<S.length;L+=1)-1===P.indexOf(S[L])&&P.push(S[L]);if(v(P),this.autoPaging)for(var A=P[0],C=P[P.length-1],I=A;I<C+1;I++){this.pdf.setPage(I);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],F=1===I?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===I?0:O+(I-2)*M;if(0!==this.ctx.clip_path.length){var D=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(b,this.posX+this.margin[3],-R+F+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=D}var B=JSON.parse(JSON.stringify(j));B=y([B],this.posX+this.margin[3],-R+F+this.ctx.prevPageLastElemOffset)[0];var z=(I>A||I<C)&&f.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,N),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",j.x,j.y,j.w,j.h,null,null,N)};var g=function(e,t,r){var i=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+s)/r)+1);break;case"arc":i.push(Math.floor((e.y+s-e.radius)/r)+1),i.push(Math.floor((e.y+s+e.radius)/r)+1);break;case"qct":var n=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor((n.y+s)/r)+1),i.push(Math.floor((n.y+n.h+s)/r)+1);break;case"bct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor((a.y+s)/r)+1),i.push(Math.floor((a.y+a.h+s)/r)+1);break;case"rect":i.push(Math.floor((e.y+s)/r)+1),i.push(Math.floor((e.y+e.h+s)/r)+1)}for(var o=0;o<i.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<i[o];)x.call(this);return i},x=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,i=this.lineCap,s=this.lineWidth,n=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=i,this.lineWidth=s,this.lineJoin=n},y=function(e,t,r){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=r;case"qct":e[i].x1+=t,e[i].y1+=r;default:e[i].x+=t,e[i].y+=r}return e},v=function(e){return e.sort(function(e,t){return e-t})},b=function(e,t){for(var r,i,s=this.fillStyle,n=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=g.call(this,u[p]),b=0;b<m.length;b+=1)-1===h.indexOf(m[b])&&h.push(m[b]);for(var _=0;_<h.length;_++)for(;this.pdf.internal.getNumberOfPages()<h[_];)x.call(this);if(v(h),this.autoPaging)for(var N=h[0],k=h[h.length-1],j=N;j<k+1;j++){this.pdf.setPage(j),this.fillStyle=s,this.strokeStyle=n,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===j?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],A=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],C=1===j?0:L+(j-2)*A;if(0!==this.ctx.clip_path.length){var I=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(r,this.posX+this.margin[3],-C+P+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=I}if(i=JSON.parse(JSON.stringify(d)),this.path=y(i,this.posX+this.margin[3],-C+P+this.ctx.prevPageLastElemOffset),!1===t||0===j){var T=(j>N||j<k)&&f.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,A,null).clip().discardPath()),w.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var r,i,s=[],n=this.path,a=0;a<n.length;a++){var o=n[a];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(n[a-1]&&!isNaN(n[a-1].x)&&(r=[o.x-n[a-1].x,o.y-n[a-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(r),s[l-1].abs.push(o);break}break;case"bct":r=[o.x1-n[a-1].x,o.y1-n[a-1].y,o.x2-n[a-1].x,o.y2-n[a-1].y,o.x-n[a-1].x,o.y-n[a-1].y],s[s.length-1].deltas.push(r);break;case"qct":var c=n[a-1].x+2/3*(o.x1-n[a-1].x),d=n[a-1].y+2/3*(o.y1-n[a-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;r=[c-n[a-1].x,d-n[a-1].y,u-n[a-1].x,h-n[a-1].y,f-n[a-1].x,g-n[a-1].y],s[s.length-1].deltas.push(r);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}i=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,y=0;y<s.length;y++)if(s[y].arc)for(var v=s[y].abs,b=0;b<v.length;b++){var w=v[b];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):A.call(this,w.x,w.y),x=!0}else if(!0===s[y].close)this.pdf.internal.out("h"),x=!1;else if(!0!==s[y].begin){var _=s[y].start.x,N=s[y].start.y;C.call(this,s[y].deltas,_,N),x=!0}i&&j.call(this,i),t&&S.call(this)}},_=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,r,i,s,n,a,o,l){for(var c=T.call(this,r,i,s,n),d=0;d<c.length;d++){var u=c[d];0===d&&(l?P.call(this,u.x1+e,u.y1+t):A.call(this,u.x1+e,u.y1+t)),I.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?S.call(this):j.call(this,a)},j=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(r(e)+" "+i(t)+" m")},L=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r=this.pdf.getTextDimensions(e.text),i=_.call(this,e.y),s=N.call(this,i)-r.h,n=this.ctx.transform.applyToPoint(new a(e.x,i)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,p,m=this.ctx.transform.applyToRectangle(new o(e.x,i,r.w,r.h)),x=d.applyToRectangle(new o(e.x,s,r.w,r.h)),b=g.call(this,x),k=[],j=0;j<b.length;j+=1)-1===k.indexOf(b[j])&&k.push(b[j]);if(v(k),this.autoPaging)for(var S=k[0],P=k[k.length-1],L=S;L<P+1;L++){this.pdf.setPage(L);var A=1===L?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],T=I-this.margin[0],F=this.pdf.internal.pageSize.width-this.margin[1],E=F-this.margin[3],O=1===L?0:C+(L-2)*T;if(0!==this.ctx.clip_path.length){var M=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(u,this.posX+this.margin[3],-1*O+A),w.call(this,"fill",!0),this.path=M}var R=y([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-O+A+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var D="text"!==this.autoPaging;if(D||R.y+R.h<=I){if(D||R.y>=A&&R.x<=F){var B=D?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||F-R.x)[0],z=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-O+A+this.ctx.prevPageLastElemOffset)[0],q=D&&(L>S||L<P)&&f.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,T,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else R.y<I&&(this.ctx.prevPageLastElemOffset+=I-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},A=function(e,t,s,n){s=s||0,n=n||0,this.pdf.internal.out(r(e+s)+" "+i(t+n)+" l")},C=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},I=function(e,r,i,a,o,l,c,d){this.pdf.internal.out([t(s(i+e)),t(n(a+r)),t(s(o+e)),t(n(l+r)),t(s(c+e)),t(n(d+r)),"c"].join(" "))},T=function(e,t,r,i){for(var s=2*Math.PI,n=Math.PI/2;t>r;)t-=s;var a=Math.abs(r-t);a<s&&i&&(a=s-a);for(var o=[],l=i?-1:1,c=t;a>1e-5;){var d=c+l*Math.min(a,n);o.push(F.call(this,e,c,d)),a-=Math.abs(d-c),c=d}return o},F=function(e,t,r){var i=(r-t)/2,s=e*Math.cos(i),n=e*Math.sin(i),a=s,o=-n,l=a*a+o*o,c=l+a*s+o*n,d=4/3*(Math.sqrt(2*l*c)-c)/(a*n-o*s),u=a-d*o,h=o+d*a,p=u,m=-h,f=i+t,g=Math.cos(f),x=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-m*x,y3:p*x+m*g,x4:e*Math.cos(r),y4:e*Math.sin(r)}},E=function(e){return 180*e/Math.PI},O=function(e,t,r,i,s,n){var a=e+.5*(r-e),l=t+.5*(i-t),c=s+.5*(r-s),d=n+.5*(i-n),u=Math.min(e,s,a,c),h=Math.max(e,s,a,c),p=Math.min(t,n,l,d),m=Math.max(t,n,l,d);return new o(u,p,h-u,m-p)},M=function(e,t,r,i,s,n,a,l){var c,d,u,h,p,m,f,g,x,y,v,b,w,_,N=r-e,k=i-t,j=s-r,S=n-i,P=a-s,L=l-n;for(d=0;d<41;d++)x=(f=(u=e+(c=d/40)*N)+c*((p=r+c*j)-u))+c*(p+c*(s+c*P-p)-f),y=(g=(h=t+c*k)+c*((m=i+c*S)-h))+c*(m+c*(n+c*L-m)-g),0==d?(v=x,b=y,w=x,_=y):(v=Math.min(v,x),b=Math.min(b,y),w=Math.max(w,x),_=Math.max(_,y));return new o(Math.round(v),Math.round(b),Math.round(w-v),Math.round(_-b))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(To.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){var t,r,i,s,n,a,o,l,c,d;for(r=[],i=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>i;i+=4)0!==(n=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(a=(n=((n=((n=((n=(n-(d=n%85))/85)-(c=n%85))/85)-(l=n%85))/85)-(o=n%85))/85)%85,r.push(a+33,o+33,l+33,c+33,d+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,i,s,n,a=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),i=[],s=0,n=(e+=t="uuuuu"[d](e[o]%5||5))[o];n>s;s+=5)r=52200625*(e[c](s)-33)+614125*(e[c](s+1)-33)+7225*(e[c](s+2)-33)+85*(e[c](s+3)-33)+(e[c](s+4)-33),i.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(i,t[o]),a.fromCharCode.apply(a,i)},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",i=0;i<e.length;i+=2)r+=String.fromCharCode("0x"+(e[i]+e[i+1]));return r},s=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=Qa(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,n){var a=0,o=e||"",l=[];for("string"==typeof(n=n||[])&&(n=[n]),a=0;a<n.length;a+=1)switch(n[a]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=i(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+n[a]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(To.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var i=void 0;try{i=function(e,t,r){var i=new XMLHttpRequest,s=0,n=function(e){var t=e.length,r=[],i=String.fromCharCode;for(s=0;s<t;s+=1)r.push(i(255&e.charCodeAt(s)));return r.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){200===i.status?r(n(this.responseText)):r(void 0)}),i.send(null),t&&200===i.status)return n(i.responseText)}(e,t,r)}catch(s){}return i}(e,t,r)},e.loadImageFile=e.loadFile}(To.API),function(e){function t(){return(Ja.html2canvas?Promise.resolve(Ja.html2canvas):sa(()=>import("./html2canvas.esm-BTH0Ap93.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Ja.DOMPurify?Promise.resolve(Ja.DOMPurify):sa(()=>import("./purify.es-TwCFItbS.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var i=function(e){var t=na(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var r=document.createElement(e);for(var i in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[i]=t.style[i];return r},n=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),r);return(i=i.setProgress(1,e,1,[e])).set(t)};(n.prototype=Object.create(Promise.prototype)).constructor=n,n.convert=function(e,t){return e.__proto__=t||n.prototype,e},n.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},n.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},n.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},n.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==r&&1===s.nodeType&&"SCRIPT"===s.nodeName||i.appendChild(e(s,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft},!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},n.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},n.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,i="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:i,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var n=0;n<r.length;++n){var a=r[n],o=a.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,a.ref.name,a.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},n.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},n.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},n.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},n.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},n.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},n.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},n.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},n.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in n.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},n.prototype.get=function(e,t){return this.then(function(){var r=e in n.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},n.prototype.setMargin=function(e){return this.then(function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},n.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||To.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},n.prototype.setProgress=function(e,t,r,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},n.prototype.updateProgress=function(e,t,r,i){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,i?this.progress.stack.concat(i):null)},n.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},n.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:n.convert(Object.assign({},this),Promise.prototype),s=r.call(i,e,t);return n.convert(s,this.__proto__)},n.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},n.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},n.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return n.convert(t,this)},n.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},n.prototype.error=function(e){return this.then(function(){throw new Error(e)})},n.prototype.using=n.prototype.set,n.prototype.saveAs=n.prototype.save,n.prototype.export=n.prototype.output,n.prototype.run=n.prototype.then,To.getPageSize=function(e,t,r){if("object"===na(e)){var i=e;e=i.orientation,t=i.unit||t,r=i.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var s,n=(""+r).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(a.hasOwnProperty(n))l=a[n][1]/s,c=a[n][0]/s;else try{l=r[1],c=r[0]}catch(bl){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Al):null;var r=new n(t);return t.worker?r:r.from(e).doCallback()}}(To.API),To.API.addJS=function(e){return Bl=e,this.internal.events.subscribe("postPutResources",function(){Rl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bl+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Rl&&void 0!==Dl&&this.internal.out("/Names <</JavaScript "+Rl+" 0 R>>")}),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var n=i[s],a=r.exec(n);if(null!=a){var o=a[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(n)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<c.length;s++)e.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var i={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var s=t.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),i>0&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var n=this.count=this.count_r({count:0},s);if(n>0&&this.line("/Count "+n),s.options&&s.options.pageNumber){var a=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(To.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,i,s,n,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=n||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var r,i=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,n={width:0,height:0,numcomponents:1},a=4;a<s;a+=2){if(a+=i,-1!==t.indexOf(e.charCodeAt(a+1))){r=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),n={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:r,numcomponents:e.charCodeAt(a+9)};break}i=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return n}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:i}}return c}}(To.API);var ql,Ul,Hl,Wl,$l,Vl=function(){var e,t,r;function i(e){var t,r,i,s,n,a,o,l,c,d,u,h,p,m;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},n=this.readUInt16(),s=this.readUInt16()||100,a.delay=1e3*n/s,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((d=i-this.transparency.indexed.length)>0)for(p=0;0<=d?p<d:p>d;0<=d?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),i=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function n(n,a,o,l){var c,d,u,h,p,m,f,g,x,y,v,b,w,_,N,k,j,S,P,L,A,C=Math.ceil((s.width-n)/o),I=Math.ceil((s.height-a)/l),T=s.width==C&&s.height==I;for(_=t*C,b=T?r:new Uint8Array(_*I),m=e.length,w=0,d=0;w<I&&i<m;){switch(e[i++]){case 0:for(h=j=0;j<_;h=j+=1)b[d++]=e[i++];break;case 1:for(h=S=0;S<_;h=S+=1)c=e[i++],p=h<t?0:b[d-t],b[d++]=(c+p)%256;break;case 2:for(h=P=0;P<_;h=P+=1)c=e[i++],u=(h-h%t)/t,N=w&&b[(w-1)*_+u*t+h%t],b[d++]=(N+c)%256;break;case 3:for(h=L=0;L<_;h=L+=1)c=e[i++],u=(h-h%t)/t,p=h<t?0:b[d-t],N=w&&b[(w-1)*_+u*t+h%t],b[d++]=(c+Math.floor((p+N)/2))%256;break;case 4:for(h=A=0;A<_;h=A+=1)c=e[i++],u=(h-h%t)/t,p=h<t?0:b[d-t],0===w?N=k=0:(N=b[(w-1)*_+u*t+h%t],k=u&&b[(w-1)*_+(u-1)*t+h%t]),f=p+N-k,g=Math.abs(f-p),y=Math.abs(f-N),v=Math.abs(f-k),x=g<=y&&g<=v?p:y<=v?N:k,b[d++]=(c+x)%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!T){var F=((a+w*l)*s.width+n)*t,E=w*_;for(h=0;h<C;h+=1){for(var O=0;O<t;O+=1)r[F++]=b[E++];F+=(o-1)*t}}w++}}return e=Ka(e),1==s.interlaceMethod?(n(0,0,8,8),n(4,0,8,8),n(0,4,4,8),n(2,0,4,4),n(0,2,2,4),n(1,0,2,2),n(0,1,1,2)):n(0,0,1,1),r},i.prototype.decodePalette=function(){var e,t,r,i,s,n,a,o,l;for(r=this.palette,n=this.transparency.indexed||[],s=new Uint8Array((n.length||0)+r.length),i=0,e=0,t=a=0,o=r.length;a<o;t=a+=3)s[i++]=r[t],s[i++]=r[t+1],s[i++]=r[t+2],s[i++]=null!=(l=n[e++])?l:255;return s},i.prototype.copyToImageData=function(e,t){var r,i,s,n,a,o,l,c,d,u,h;if(i=this.colors,d=null,r=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),i=4,r=!0),c=(s=e.data||e).length,a=d||t,n=o=0,1===i)for(;n<c;)l=d?4*t[n/4]:o,u=a[l++],s[n++]=u,s[n++]=u,s[n++]=u,s[n++]=r?a[l++]:255,o=l;else for(;n<c;)l=d?4*t[n/4]:o,s[n++]=a[l++],s[n++]=a[l++],s[n++]=a[l++],s[n++]=r?a[l++]:255,o=l},i.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var s=function(){if("[object Window]"===Object.prototype.toString.call(Ja)){try{t=Ja.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return s(),e=function(e){var i;if(!0===s())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(t){var r,i,s,n,a,o,l,c;if(this.animation){for(c=[],i=a=0,o=(l=this.animation.frames).length;a<o;i=++a)r=l[i],s=t.createImageData(r.width,r.height),n=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(s,n),r.imageData=s,c.push(r.image=e(s));return c}},i.prototype.renderFrame=function(e,t){var r,i,s;return r=(i=this.animation.frames)[t],s=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&e.putImageData(s.imageData,s.xOffset,s.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},i.prototype.animate=function(e){var t,r,i,s,n,a,o=this;return r=0,a=this.animation,s=a.numFrames,i=a.frames,n=a.numPlays,(t=function(){var a,l;if(a=r++%s,l=i[a],o.renderFrame(e,a),s>1&&r/s<n)return o.animation._timeout=setTimeout(t,l.delay)})()},i.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},i.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},i}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zl(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,s=e[t++],n=s>>7,a=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;n&&(o=t,l=a,t+=3*a);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=r,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],!(1&f)&&(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,_=1<<1+(7&b),N=o,k=l,j=!1;b>>7&&(j=!0,N=t,k=_,t+=3*_);var S=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(0===P)break;t+=P}d.push({x:g,y:x,width:y,height:v,has_local_palette:j,palette_offset:N,palette_size:k,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,i){var s=this.frameInfo(t),n=s.width*s.height,a=new Uint8Array(n);Gl(e,s.data_offset,a,n);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=r-c,u=c,h=4*(s.y*r+s.x),p=4*((s.y+s.height)*r+s.x),m=h,f=4*d;!0===s.interlaced&&(f+=4*r*7);for(var g=8,x=0,y=a.length;x<y;++x){var v=a[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*r*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var b=e[o+3*v],w=e[o+3*v+1],_=e[o+3*v+2];i[m++]=_,i[m++]=w,i[m++]=b,i[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,i){var s=this.frameInfo(t),n=s.width*s.height,a=new Uint8Array(n);Gl(e,s.data_offset,a,n);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=r-c,u=c,h=4*(s.y*r+s.x),p=4*((s.y+s.height)*r+s.x),m=h,f=4*d;!0===s.interlaced&&(f+=4*r*7);for(var g=8,x=0,y=a.length;x<y;++x){var v=a[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*r*(g-1),m=h+(c+d)*(g<<1),g>>=1)),v===l)m+=4;else{var b=e[o+3*v],w=e[o+3*v+1],_=e[o+3*v+2];i[m++]=b,i[m++]=w,i[m++]=_,i[m++]=255}--u}}}function Gl(e,t,r,i){for(var s=e[t++],n=1<<s,a=n+1,o=a+1,l=s+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==n){if(g===a)break;for(var x=g<o?g:f,y=0,v=x;v>n;)v=m[v]>>8,++y;var b=v;if(h+y+(x!==g?1:0)>i)return void eo.log("Warning, gif stream longer than expected.");r[h++]=b;var w=h+=y;for(x!==g&&(r[h++]=b),v=x;y--;)v=m[v],r[--w]=255&v,v>>=8;null!==f&&o<4096&&(m[o++]=f<<8|b,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=a+1,c=(1<<(l=s+1))-1,f=null}return h!==i&&eo.log("Warning, gif stream shorter than expected."),r
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function Ql(e){var t,r,i,s,n,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,x=7,y=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),_=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var r=0,i=0,s=new Array,n=1;n<=16;n++){for(var a=1;a<=e[n];a++)s[t[i]]=[],s[t[i]][0]=r,s[t[i]][1]=n,i++,r++;r*=2}return s}function F(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(g|=1<<x),r--,--x<0&&(255==g?(E(255),E(0)):E(g),x=7,g=0)}function E(e){f.push(e)}function O(e){E(e>>8&255),E(255&e)}function M(e,t,r,i,s){for(var n,a=s[0],o=s[240],l=function(e,t){var r,i,s,n,a,o,l,c,d,u,h=0;for(d=0;d<8;++d){r=e[h],i=e[h+1],s=e[h+2],n=e[h+3],a=e[h+4],o=e[h+5],l=e[h+6];var m=r+(c=e[h+7]),f=r-c,g=i+l,x=i-l,y=s+o,v=s-o,b=n+a,w=n-a,_=m+b,N=m-b,k=g+y,j=g-y;e[h]=_+k,e[h+4]=_-k;var S=.707106781*(j+N);e[h+2]=N+S,e[h+6]=N-S;var P=.382683433*((_=w+v)-(j=x+f)),L=.5411961*_+P,A=1.306562965*j+P,C=.707106781*(k=v+x),I=f+C,T=f-C;e[h+5]=T+L,e[h+3]=T-L,e[h+1]=I+A,e[h+7]=I-A,h+=8}for(h=0,d=0;d<8;++d){r=e[h],i=e[h+8],s=e[h+16],n=e[h+24],a=e[h+32],o=e[h+40],l=e[h+48];var F=r+(c=e[h+56]),E=r-c,O=i+l,M=i-l,R=s+o,D=s-o,B=n+a,z=n-a,q=F+B,U=F-B,H=O+R,W=O-R;e[h]=q+H,e[h+32]=q-H;var $=.707106781*(W+U);e[h+16]=U+$,e[h+48]=U-$;var V=.382683433*((q=z+D)-(W=M+E)),Z=.5411961*q+V,G=1.306562965*W+V,Q=.707106781*(H=D+M),K=E+Q,Y=E-Q;e[h+40]=Y+Z,e[h+24]=Y-Z,e[h+8]=K+G,e[h+56]=K-G,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-r;r=m[0],0==d?F(i[0]):(F(i[h[n=32767+d]]),F(u[n]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return F(a),r;for(var g,x=1;x<=f;){for(var y=x;0==m[x]&&x<=f;)++x;var v=x-y;if(v>=16){g=v>>4;for(var b=1;b<=g;++b)F(o);v&=15}n=32767+m[x],F(s[(v<<4)+h[n]]),F(u[n]),x++}return 63!=f&&F(a),r}function R(e){e=Math.min(Math.max(e,1),100),n!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=a((t[r]*e+50)/100);i=Math.min(Math.max(i,1),255),o[N[r]]=i}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],n=0;n<64;n++){var u=a((s[n]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[n]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),n=e)}this.encode=function(e,n){var a,u;n&&R(n),f=new Array,g=0,x=7,O(65496),O(65504),O(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),O(1),O(1),E(0),E(0),function(){O(65499),O(132),E(0);for(var e=0;e<64;e++)E(o[e]);E(1);for(var t=0;t<64;t++)E(l[t])}(),a=e.width,u=e.height,O(65472),O(17),E(8),O(u),O(a),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1),function(){O(65476),O(418),E(0);for(var e=0;e<16;e++)E(k[e+1]);for(var t=0;t<=11;t++)E(j[t]);E(16);for(var r=0;r<16;r++)E(S[r+1]);for(var i=0;i<=161;i++)E(P[i]);E(1);for(var s=0;s<16;s++)E(L[s+1]);for(var n=0;n<=11;n++)E(A[n]);E(17);for(var a=0;a<16;a++)E(C[a+1]);for(var o=0;o<=161;o++)E(I[o])}(),O(65498),O(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var h=0,p=0,m=0;g=0,x=7,this.encode.displayName="_encode_";for(var w,N,T,D,B,z,q,U,H,W=e.data,$=e.width,V=e.height,Z=4*$,G=0;G<V;){for(w=0;w<Z;){for(B=Z*G+w,q=-1,U=0,H=0;H<64;H++)z=B+(U=H>>3)*Z+(q=4*(7&H)),G+U>=V&&(z-=Z*(G+1+U-V)),w+q>=Z&&(z-=w+q-Z+4),N=W[z++],T=W[z++],D=W[z++],y[H]=(_[N]+_[T+256|0]+_[D+512|0]>>16)-128,v[H]=(_[N+768|0]+_[T+1024|0]+_[D+1280|0]>>16)-128,b[H]=(_[N+1280|0]+_[T+1536|0]+_[D+1792|0]>>16)-128;h=M(y,c,h,t,i),p=M(v,d,p,r,s),m=M(b,d,m,r,s),w+=32}G+=8}if(x>=0){var Q=[];Q[1]=x+1,Q[0]=(1<<x+1)-1,F(Q)}return O(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=T(k,j),r=T(L,A),i=T(S,P),s=T(C,I),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var i=e;i<t;i++)h[32767+i]=r,u[32767+i]=[],u[32767+i][1]=r,u[32767+i][0]=i;for(var s=-(t-1);s<=-e;s++)h[32767+s]=r,u[32767+s]=[],u[32767+s][1]=r,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256|0]=38470*e,_[e+512|0]=7471*e+32768,_[e+768|0]=-11059*e,_[e+1024|0]=-21709*e,_[e+1280|0]=32768*e+8421375,_[e+1536|0]=-27439*e,_[e+1792|0]=-5329*e}(),R(e)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Kl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Yl(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var i=0;4>i;i++)if(e[t+i]!=r.charCodeAt(i))return!0;return!1}function i(e,t,r,i,s){for(var n=0;n<s;n++)e[t+n]=r[i+n]}function s(e,t,r,i){for(var s=0;s<i;s++)e[t+s]=r}function n(e){return new Int32Array(e)}function a(e,t){for(var r=[],i=0;i<e;i++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,i,s){for(var n=s[i],a=0;a<n&&(r.push(s.length>i+1?[]:new t),!(s.length<i+1));a++)e(r[a],i+1,s)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,i,s,n){t(!(s%i));do{e[r+(s-=i)]=n}while(0<s)}function d(e,r,i,s,a){if(t(2328>=a),512>=a)var o=n(512);else if(null==(o=n(a)))return 0;return function(e,r,i,s,a,o){var d,h,p=r,m=1<<i,f=n(16),g=n(16);for(t(0!=a),t(null!=s),t(null!=e),t(0<i),h=0;h<a;++h){if(15<s[h])return 0;++f[s[h]]}if(f[0]==a)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<a;++h)d=s[h],0<s[h]&&(o[g[d]++]=h);if(1==g[15])return(s=new u).g=0,s.value=o[0],c(e,p,1,m,s),m;var x,y=-1,v=m-1,b=0,w=1,_=1,N=1<<i;for(h=0,d=1,a=2;d<=i;++d,a<<=1){if(w+=_<<=1,0>(_-=f[d]))return 0;for(;0<f[d];--f[d])(s=new u).g=d,s.value=o[h++],c(e,p+b,a,N,s),b=l(b,d)}for(d=i+1,a=2;15>=d;++d,a<<=1){if(w+=_<<=1,0>(_-=f[d]))return 0;for(;0<f[d];--f[d]){if(s=new u,(b&v)!=y){for(p+=N,x=1<<(y=d)-i;15>y&&!(0>=(x-=f[y]));)++y,x<<=1;m+=N=1<<(x=y-i),e[r+(y=b&v)].g=x+i,e[r+y].value=p-r-y}s.g=d-i,s.value=o[h++],c(e,p+(b>>i),a,N,s),b=l(b,d)}}return w!=2*g[15]-1?0:m}(e,r,i,s,a,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=a(5,u),this.H=n(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rr,h)}function m(e,r,i,s){t(null!=e),t(null!=r),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=i,e.Jd=r,e.Yc=i+s,e.Zc=4<=s?i+s-4+1:i,S(e)}function f(e,t){for(var r=0;0<t--;)r|=L(e,128)<<t;return r}function g(e,t){var r=f(e,t);return P(e)?-r:r}function x(e,r,i,s){var n,a=0;for(t(null!=e),t(null!=r),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),n=0;n<s;++n)a+=r[i+n]<<8*n;e.Ra=a,e.bb=s,e.oa=r,e.pa=i}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zr-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function v(e,r){if(t(0<=r),!e.h&&r<=Br){var i=_(e)&Dr[r];return e.u+=r,y(e),i}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _(e){return e.Ra>>>(e.u&zr-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zr}function k(e,t){e.u=t,e.h=N(e)}function j(e){e.u>=qr&&(t(e.u>=qr),y(e))}function S(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function P(e){return f(e,1)}function L(e,t){var r=e.Ca;0>e.b&&S(e);var i=e.b,s=r*t>>>8,n=(e.I>>>i>s)+0;for(n?(r-=s,e.I-=s+1<<i>>>0):r=s+1,i=r,s=0;256<=i;)s+=8,i>>=8;return i=7^s+Ur[i],e.b-=i,e.Ca=(r<<i)-1,n}function A(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function C(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return C(e,t)|e[t+2]<<16}function T(e,t){return C(e,t)|C(e,t+2)<<16}function F(e,r){var i=1<<r;return t(null!=e),t(0<r),e.X=n(i),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function E(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),i(r.X,0,e.X,0,1<<r.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function M(e,r,i,s){t(null!=i),t(null!=s);var n=i[0],a=s[0];return 0==n&&(n=(e*a+r/2)/r),0==a&&(a=(r*n+e/2)/e),0>=n||0>=a?0:(i[0]=n,s[0]=a,1)}function R(e,t){return e+(1<<t)-1>>>t}function D(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,r){e[r]=function(r,i,s,n,a,o,l){var c;for(c=0;c<a;++c){var d=e[t](o[l+c-1],s,n+c);o[l+c]=D(r[i+c],d)}}}function z(){this.ud=this.hd=this.jd=0}function q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function H(e,t){return U(e+(e-t+.5>>1))}function W(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function $(e,t,r,i,s,n,a){for(i=n[a-1],r=0;r<s;++r)n[a+r]=i=D(e[t+r],i)}function V(e,t,r,i,s){var n;for(n=0;n<r;++n){var a=e[t+n],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));i[s+n]=(4278255360&a)+l>>>0}}function Z(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,r,i,s,n){var a;for(a=0;a<i;++a){var o=t[r+a],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),s[n+a]=(4278255360&o)+(d<<16)+c}}function Q(t,r,i,s,n){e[r]=function(e,t,r,i,a,o,l,c,d){for(i=l;i<c;++i)for(l=0;l<d;++l)a[o++]=n(r[s(e[t++])])},e[t]=function(t,r,a,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;r<a;++r){var f,g=0;for(f=0;f<h;++f)f&t||(g=s(o[l++])),c[d++]=n(p[g&m]),g>>=u}else e["VP8LMapColor"+i](o,l,p,m,c,d,r,a,h)}}function K(e,t,r,i,s){for(r=t+r;t<r;){var n=e[t++];i[s++]=n>>16&255,i[s++]=n>>8&255,i[s++]=255&n}}function Y(e,t,r,i,s){for(r=t+r;t<r;){var n=e[t++];i[s++]=n>>16&255,i[s++]=n>>8&255,i[s++]=255&n,i[s++]=n>>24&255}}function J(e,t,r,i,s){for(r=t+r;t<r;){var n=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;i[s++]=n,i[s++]=a}}function X(e,t,r,i,s){for(r=t+r;t<r;){var n=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;i[s++]=n,i[s++]=a}}function ee(e,t,r,i,s){for(r=t+r;t<r;){var n=e[t++];i[s++]=255&n,i[s++]=n>>8&255,i[s++]=n>>16&255}}function te(e,t,r,s,n,a){if(0==a)for(r=t+r;t<r;)A(s,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),n+=32;else i(s,n,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ie(e){return e==qi||e==Ui||e==Hi||e==Wi}function se(){this.eb=[],this.size=this.A=this.fb=0}function ne(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ne,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var r=e.T,s=t.ba.f.RGBA,n=s.eb,a=s.fb+e.ka*s.A,o=fs[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,x=t.Nc,y=e.ka,v=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?o(l,c,null,null,d,u,h,p,d,u,h,p,n,a,null,null,b):(o(t.ec,t.fc,l,c,m,f,g,x,d,u,h,p,n,a-s.A,n,a,b),++r);y+2<v;y+=2)m=d,f=u,g=h,x=p,u+=e.Rc,p+=e.Rc,a+=2*s.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,x,d,u,h,p,n,a-s.A,n,a,b);return c+=e.fa,e.j+v<e.o?(i(t.ec,t.fc,l,c,b),i(t.cc,t.dc,d,u,w),i(t.Mc,t.Nc,h,p,w),r--):1&v||o(l,c,null,null,d,u,h,p,d,u,h,p,n,a+s.A,null,null,b),r}function ue(e,r,i){var s=e.F,n=[e.J];if(null!=s){var a=e.U,o=r.ba.S,l=o==Di||o==Hi;r=r.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,n[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=r.eb;d=r.fb+d*r.A,e=Ni(s,n[0],e.width,a,c,u,d+(l?0:3),r.A),t(i==c),e&&ie(o)&&wi(u,d,l,a,c,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,i=11>r,s=r==Oi||r==Ri||r==Di||r==Bi||12==r||ie(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Er(t.Oa,e,s?11:12))return 0;if(s&&ie(r)&&xr(),e.da)alert("todo:use_scaling");else{if(i){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=n(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=de,xr()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,i&&fr())}if(i&&!Ls){for(e=0;256>e;++e)As[e]=89858*(e-128)+ks>>Ns,Ts[e]=-22014*(e-128)+ks,Is[e]=-45773*(e-128),Cs[e]=113618*(e-128)+ks>>Ns;for(e=js;e<Ss;++e)t=76283*(e-16)+ks>>Ns,Fs[e-js]=$e(t,255),Es[e-js]=$e(t+8>>4,15);Ls=1}return 1}function pe(e){var r=e.ma,i=e.U,s=e.T;return t(!(1&e.ka)),0>=i||0>=s?0:(i=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,i),r.Dc+=i,1)}function me(e){e.ma.memory=null}function fe(e,t,r,i){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,r[0]=v(e,14)+1,i[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+v(t,r)+1}function xe(e,t){return 120<t?t-120:1<=(r=((r=Ki[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ye(e,t,r){var i=_(r),s=e[t+=255&i].g-8;return 0<s&&(k(r,r.u+8),i=_(r),t+=e[t].value,t+=i&(1<<s)-1),k(r,r.u+e[t].g),e[t].value}function ve(e,r,i){return i.g+=e.g,i.value+=e.value<<r>>>0,t(8>=i.g),e.g}function be(e,r,i){var s=e.xc;return t((r=0==s?0:e.vc[e.md*(i>>s)+(r>>s)])<e.Wb),e.Ya[r]}function we(e,r,s,n){var a=e.ab,o=e.c*r,l=e.C;r=l+r;var c=s,d=n;for(n=e.Ta,s=e.Ua;0<a--;){var u=e.gc[a],h=l,p=r,m=c,f=d,g=(d=n,c=s,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:$r(m,f,(p-h)*g,d,c);break;case 0:var x=h,y=p,v=d,b=c,w=(S=u).Ea;0==x&&(Hr(m,f,null,null,1,v,b),$(m,f+1,0,0,w-1,v,b+1),f+=w,b+=w,++x);for(var _=1<<S.b,N=_-1,k=R(w,S.b),j=S.K,S=S.w+(x>>S.b)*k;x<y;){var P=j,L=S,A=1;for(Wr(m,f,v,b-w,1,v,b);A<w;){var C=(A&~N)+_;C>w&&(C=w),(0,Kr[P[L++]>>8&15])(m,f+ +A,v,b+A-w,C-A,v,b+A),A=C}f+=w,b+=w,++x&N||(S+=k)}p!=u.nc&&i(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=m,y=f,w=(m=u.Ea)-(b=m&~(v=(f=1<<u.b)-1)),x=R(m,u.b),_=u.K,u=u.w+(h>>u.b)*x;h<p;){for(N=_,k=u,j=new z,S=y+b,P=y+m;y<S;)Z(N[k++],j),Yr(j,g,y,f,d,c),y+=f,c+=f;y<P&&(Z(N[k++],j),Yr(j,g,y,w,d,c),y+=w,c+=w),++h&v||(u+=x)}break;case 3:if(m==d&&f==c&&0<u.b){for(y=d,m=g=c+(p-h)*g-(b=(p-h)*R(u.Ea,u.b)),f=d,v=c,x=[],b=(w=b)-1;0<=b;--b)x[b]=f[v+b];for(b=w-1;0<=b;--b)y[m+b]=x[b];Vr(u,h,p,d,g,d,c)}else Vr(u,h,p,m,f,d,c)}c=n,d=s}d!=s&&i(n,s,c,d,o)}function _e(e,r){var i=e.V,s=e.Ba+e.c*e.C,n=r-e.C;if(t(r<=e.l.o),t(16>=n),0<n){var a=e.l,o=e.Ta,l=e.Ua,c=a.width;if(we(e,n,i,s),n=l=[l],t((i=e.C)<(s=r)),t(a.v<a.va),s>a.o&&(s=a.o),i<a.j){var d=a.j-i;i=a.j,n[0]+=d*c}if(i>=s?i=0:(n[0]+=4*a.v,a.ka=i-a.j,a.U=a.va-a.v,a.T=s-i,i=1),i){if(l=l[0],11>(i=e.ca).S){var u=i.f.RGBA,h=(s=i.S,n=a.U,a=a.T,d=u.eb,u.A),p=a;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,g=n,x=d,y=u;switch(s){case Ei:Jr(m,f,g,x,y);break;case Oi:Xr(m,f,g,x,y);break;case qi:Xr(m,f,g,x,y),wi(x,y,0,g,1,0);break;case Mi:ri(m,f,g,x,y);break;case Ri:te(m,f,g,x,y,1);break;case Ui:te(m,f,g,x,y,1),wi(x,y,0,g,1,0);break;case Di:te(m,f,g,x,y,0);break;case Hi:te(m,f,g,x,y,0),wi(x,y,1,g,1,0);break;case Bi:ei(m,f,g,x,y);break;case Wi:ei(m,f,g,x,y),_i(x,y,g,1,0);break;case zi:ti(m,f,g,x,y);break;default:t(0)}l+=c,u+=h}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=i.height)}}e.C=r,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,i=e.Ya[t].H;if(0<r[1][i[1]+0].g||0<r[2][i[2]+0].g||0<r[3][i[3]+0].g)return 0}return 1}function ke(e,r,i,s,n,a){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ms[e.Z]);r<i;++r)ms[e.Z](o,l,s,n,s,n,a),o=s,l=n,n+=a;e.qd=o,e.rd=l}}function je(e,r){var i=e.l.ma,s=0==i.Z||1==i.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(r<=e.l.o),r>s){var n=e.l.width,a=i.ca,o=i.tb+n*s,l=e.V,c=e.Ba+e.c*s,d=e.gc;t(1==e.ab),t(3==d[0].hc),Gr(d[0],s,r,l,c,a,o),ke(i,s,r,a,o,n)}e.C=e.Ma=r}function Se(e,r,i,s,n,a,o){var l=e.$/s,c=e.$%s,d=e.m,u=e.s,h=i+e.$,p=h;n=i+s*n;var m=i+s*a,f=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,y=u.wc,v=h<m?be(u,c,l):null;t(e.C<a),t(m<=n);var b=!1;e:for(;;){for(;b||h<m;){var w=0;if(l>=g){var S=h-i;t((g=e).Pb),g.wd=g.m,g.xd=S,0<g.s.ua&&E(g.s.Wa,g.s.vb),g=l+Ji}if(c&y||(v=be(u,c,l)),t(null!=v),v.Qb&&(r[h]=v.qb,b=!0),!b)if(j(d),v.jc){w=d,S=r;var P=h,L=v.pd[_(w)&Rr-1];t(v.jc),256>L.g?(k(w,w.u+L.g),S[P]=L.value,w=0):(k(w,w.u+L.g-256),t(256<=L.value),w=L.value),0==w&&(b=!0)}else w=ye(v.G[0],v.H[0],d);if(d.h)break;if(b||256>w){if(!b)if(v.nd)r[h]=(v.qb|w<<8)>>>0;else{if(j(d),b=ye(v.G[1],v.H[1],d),j(d),S=ye(v.G[2],v.H[2],d),P=ye(v.G[3],v.H[3],d),d.h)break;r[h]=(P<<24|b<<16|w<<8|S)>>>0}if(b=!1,++h,++c>=s&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),S=ye(v.G[4],v.H[4],d),j(d),S=xe(s,S=ge(S,d)),d.h)break;if(h-i<S||n-h<w)break e;for(P=0;P<w;++P)r[h+P]=r[h+P-S];for(h+=w,c+=w;c>=s;)c-=s,++l,null!=o&&l<=a&&!(l%16)&&o(e,l);if(t(h<=n),c&y&&(v=be(u,c,l)),null!=x)for(;p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<f))break e;for(b=w-280,t(null!=x);p<h;)w=r[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(b>>>(S=x).Xa)),r[w]=S.X[b],b=!0}b||t(d.h==N(d))}if(e.Pb&&d.h&&h<n)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&E(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>a?a:l),e.a=0,e.$=h-i}return 1}return e.a=3,0}function Pe(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Le(){var t=new nr;return null==t?null:(t.a=0,t.xb=ps,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),$r=V,Yr=G,Jr=K,Xr=Y,ei=J,ti=X,ri=ee,e.VP8LMapColor32b=Zr,e.VP8LMapColor8b=Qr,t)}function Ae(e,r,i,o,l){var c=1,h=[e],m=[r],f=o.m,g=o.s,x=null,y=0;e:for(;;){if(i)for(;c&&v(f,1);){var b=h,w=m,N=o,S=1,P=N.m,L=N.gc[N.ab],A=v(P,2);if(N.Oc&1<<A)c=0;else{switch(N.Oc|=1<<A,L.hc=A,L.Ea=b[0],L.nc=w[0],L.K=[null],++N.ab,t(4>=N.ab),A){case 0:case 1:L.b=v(P,3)+2,S=Ae(R(L.Ea,L.b),R(L.nc,L.b),0,N,L.K),L.K=L.K[0];break;case 3:var C,I=v(P,8)+1,T=16<I?0:4<I?1:2<I?2:3;if(b[0]=R(L.Ea,T),L.b=T,C=S=Ae(I,1,0,N,L.K)){var E,O=I,M=L,B=1<<(8>>M.b),z=n(B);if(null==z)C=0;else{var q=M.K[0],U=M.w;for(z[0]=M.K[0][0],E=1;E<1*O;++E)z[E]=D(q[U+E],z[E-1]);for(;E<4*B;++E)z[E]=0;M.K[0]=null,M.K[0]=z,C=1}}S=C;break;case 2:break;default:t(0)}c=S}}if(h=h[0],m=m[0],c&&v(f,1)&&!(c=1<=(y=v(f,4))&&11>=y)){o.a=3;break e}var H;if(H=c)t:{var W,$,V,Z=o,G=h,Q=m,K=y,Y=i,J=Z.m,X=Z.s,ee=[null],te=1,re=0,ie=Yi[K];r:for(;;){if(Y&&v(J,1)){var se=v(J,3)+2,ne=R(G,se),ae=R(Q,se),oe=ne*ae;if(!Ae(ne,ae,0,Z,ee))break r;for(ee=ee[0],X.xc=se,W=0;W<oe;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(J.h)break r;for($=0;5>$;++$){var ce=Zi[$];!$&&0<K&&(ce+=1<<K),re<ce&&(re=ce)}var de=a(te*ie,u),ue=te,he=a(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=n(re);if(null==pe||null==me||null==de){Z.a=1;break r}var fe=de;for(W=V=0;W<te;++W){var ge=pe[W],xe=ge.G,ye=ge.H,be=0,we=1,_e=0;for($=0;5>$;++$){ce=Zi[$],xe[$]=fe,ye[$]=V,!$&&0<K&&(ce+=1<<K);i:{var Ne,ke=ce,je=Z,Le=me,Ce=fe,Ie=V,Te=0,Fe=je.m,Ee=v(Fe,1);if(s(Le,0,0,ke),Ee){var Oe=v(Fe,1)+1,Me=v(Fe,1),Re=v(Fe,0==Me?1:8);Le[Re]=1,2==Oe&&(Le[Re=v(Fe,8)]=1);var De=1}else{var Be=n(19),ze=v(Fe,4)+4;if(19<ze){je.a=3;var qe=0;break i}for(Ne=0;Ne<ze;++Ne)Be[Qi[Ne]]=v(Fe,3);var Ue=void 0,He=void 0,We=je,$e=Be,Ve=ke,Ze=Le,Ge=0,Qe=We.m,Ke=8,Ye=a(128,u);s:for(;d(Ye,0,7,$e,19);){if(v(Qe,1)){var Je=2+2*v(Qe,3);if((Ue=2+v(Qe,Je))>Ve)break s}else Ue=Ve;for(He=0;He<Ve&&Ue--;){j(Qe);var Xe=Ye[0+(127&_(Qe))];k(Qe,Qe.u+Xe.g);var et=Xe.value;if(16>et)Ze[He++]=et,0!=et&&(Ke=et);else{var tt=16==et,rt=et-16,it=Vi[rt],st=v(Qe,$i[rt])+it;if(He+st>Ve)break s;for(var nt=tt?Ke:0;0<st--;)Ze[He++]=nt}}Ge=1;break s}Ge||(We.a=3),De=Ge}(De=De&&!Fe.h)&&(Te=d(Ce,Ie,8,Le,ke)),De&&0!=Te?qe=Te:(je.a=3,qe=0)}if(0==qe)break r;if(we&&1==Gi[$]&&(we=0==fe[V].g),be+=fe[V].g,V+=qe,3>=$){var at,ot=me[0];for(at=1;at<ce;++at)me[at]>ot&&(ot=me[at]);_e+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][ye[3]+0].value<<24|xe[1][ye[1]+0].value<<16|xe[2][ye[2]+0].value)>>>0,0==be&&256>xe[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>_e,ge.jc){var lt,ct=ge;for(lt=0;lt<Rr;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ve(ht,8,ut),dt>>=ve(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ve(ct.G[2][ct.H[2]+dt],0,ut),ve(ct.G[3][ct.H[3]+dt],24,ut))}}}X.vc=ee,X.Wb=te,X.Ya=pe,X.yc=de,H=1;break t}H=0}if(!(c=H)){o.a=3;break e}if(0<y){if(g.ua=1<<y,!F(g.Wa,y)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=h,ft=m,gt=pt.s,xt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=R(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,i){o.xb=hs;break e}if(null==(x=n(h*m))){o.a=1,c=0;break e}c=(c=Se(o,x,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(i)),o.$=0,i||Pe(g)):Pe(g),c}function Ce(e,r){var i=e.c*e.i,s=i+r+16*r;return t(e.c<=r),e.V=n(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+i+r,1)}function Ie(e,r){var i=e.C,s=r-i,n=e.V,a=e.Ba+e.c*i;for(t(r<=e.l.o);0<s;){var o=16<s?16:s,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*i,p=e.Ta,m=e.Ua;we(e,o,n,a),ki(p,m,u,h,d),ke(l,i,i+o,u,h,c),s-=o,n+=o*e.c,i+=o}t(i==r),e.C=e.Ma=r}function Te(){this.ub=this.yd=this.td=this.Rb=0}function Fe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ee(){this.Fb=this.Bb=this.Cb=0,this.Zb=n(4),this.Lb=n(4)}function Oe(){var e;this.Yb=(function e(t,r,i){for(var s=i[r],n=0;n<s&&(t.push(i.length>r+1?[]:0),!(i.length<r+1));n++)e(t[n],r+1,i)}(e=[],0,[3,11]),e)}function Me(){this.jb=n(3),this.Wc=o([4,8],Oe),this.Xc=o([4,17],Oe)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new n(4),this.od=new n(4)}function De(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qe(){this.ad=n(384),this.Za=0,this.Ob=n(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new De),this.Y=0,this.ya=Array(new qe),this.aa=0,this.l=new Ve}function He(){this.y=n(16),this.f=n(8),this.ea=n(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Te,this.Kc=new Fe,this.ed=new Re,this.Qa=new Ee,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,b),this.ia=0,this.pb=a(4,ze),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new He),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new De),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qe),this.L=this.aa=0,this.gd=o([4,2],De),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $e(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ze(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ts||(ts=Ye)),e}function Ge(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Qe(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ke(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var i=r.data,n=r.w,a=r.ha;if(4>a)return Ge(e,7,"Truncated header.");var o=i[n+0]|i[n+1]<<8|i[n+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");n+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ge(e,7,"cannot parse picture header");if(!Qe(i,n,a))return Ge(e,3,"Bad code word");c.c=16383&(i[n+4]<<8|i[n+3]),c.Td=i[n+4]>>6,c.i=16383&(i[n+6]<<8|i[n+5]),c.Ud=i[n+6]>>6,n+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,s((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>a)return Ge(e,7,"bad partition length");m(o=e.m,i,n,l.ub),n+=l.ub,a-=l.ub,l.Rb&&(c.Ld=P(o),c.Kd=P(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=P(o),c.Cb){if(c.Bb=P(o),P(o)){for(c.Fb=P(o),d=0;4>d;++d)c.Zb[d]=P(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=P(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=P(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=P(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=P(o),c.Pc&&P(o)){for(u=0;4>u;++u)P(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)P(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ge(e,3,"cannot parse filter header");var h=a;if(a=d=n,n=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))i=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=i[a+0]|i[a+1]<<8|i[a+2]<<16;p>c&&(p=c),m(e.Jc[+h],i,d,p),d+=p,c-=p,a+=3}m(e.Jc[+u],i,d,c),i=d<n?0:5}if(0!=i)return Ge(e,i,"cannot parse partitions");for(i=f(d=e.m,7),a=P(d)?g(d,4):0,n=P(d)?g(d,4):0,c=P(d)?g(d,4):0,u=P(d)?g(d,4):0,d=P(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=i)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=i}var y=e.pb[p];y.Sc[0]=Xi[$e(x+a,127)],y.Sc[1]=es[$e(x+0,127)],y.Eb[0]=2*Xi[$e(x+n,127)],y.Eb[1]=101581*es[$e(x+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=Xi[$e(x+u,117)],y.Qc[1]=es[$e(x+d,127)],y.lc=x+d}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(P(o),l=e.Pa,i=0;4>i;++i){for(a=0;8>a;++a)for(n=0;3>n;++n)for(c=0;11>c;++c)u=L(o,os[i][a][n][c])?f(o,8):ns[i][a][n][c],l.Wc[i][a].Yb[n][c]=u;for(a=0;17>a;++a)l.Xc[i][a]=l.Wc[i][ls[a]]}return e.kc=P(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Ye(e,t,r,i,s,n,a){var o=t[s].Yb[r];for(r=0;16>s;++s){if(!L(e,o[r+0]))return s;for(;!L(e,o[r+1]);)if(o=t[++s].Yb[0],r=0,16==s)return 16;var l=t[s+1].Yb;if(L(e,o[r+2])){var c=e,d=0;if(L(c,(h=o)[(u=r)+3]))if(L(c,h[u+6])){for(o=0,u=2*(d=L(c,h[u+8]))+(h=L(c,h[u+9+d])),d=0,h=rs[u];h[o];++o)d+=d+L(c,h[o]);d+=3+(8<<u)}else L(c,h[u+7])?(d=7+2*L(c,165),d+=L(c,145)):d=5+L(c,159);else d=L(c,h[u+4])?3+L(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=a+is[s],0>(c=e).b&&S(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,n[l]=((d^p)-p)*i[(0<s)+0]}return 16}function Je(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function Xe(e,t,r,i,s){s=e[t+r+32*i]+(s>>3),e[t+r+32*i]=-256&s?0>s?0:255:s}function et(e,t,r,i,s,n){Xe(e,t,0,r,i+s),Xe(e,t,1,r,i+n),Xe(e,t,2,r,i-n),Xe(e,t,3,r,i-s)}function tt(e){return(20091*e>>16)+e}function rt(e,t,r,i){var s,a=0,o=n(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[a+0]=l+u,o[a+1]=c+d,o[a+2]=c-d,o[a+3]=l-u,a+=4,t++}for(s=a=0;4>s;++s)l=(e=o[a+0]+4)+o[a+8],c=e-o[a+8],d=(35468*o[a+4]>>16)-tt(o[a+12]),Xe(r,i,0,0,l+(u=tt(o[a+4])+(35468*o[a+12]>>16))),Xe(r,i,1,0,c+d),Xe(r,i,2,0,c-d),Xe(r,i,3,0,l-u),a++,i+=32}function it(e,t,r,i){var s=e[t+0]+4,n=35468*e[t+4]>>16,a=tt(e[t+4]),o=35468*e[t+1]>>16;et(r,i,0,s+a,e=tt(e[t+1]),o),et(r,i,1,s+n,e,o),et(r,i,2,s-n,e,o),et(r,i,3,s-a,e,o)}function st(e,t,r,i,s){rt(e,t,r,i),s&&rt(e,t+16,r,i+4)}function nt(e,t,r,i){si(e,t+0,r,i,1),si(e,t+32,r,i+128,1)}function at(e,t,r,i){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)Xe(r,i,t,s,e)}function ot(e,t,r,i){e[t+0]&&oi(e,t+0,r,i),e[t+16]&&oi(e,t+16,r,i+4),e[t+32]&&oi(e,t+32,r,i+128),e[t+48]&&oi(e,t+48,r,i+128+4)}function lt(e,t,r,i){var s,a=n(16);for(s=0;4>s;++s){var o=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],c=e[t+4+s]-e[t+8+s],d=e[t+0+s]-e[t+12+s];a[0+s]=o+l,a[8+s]=o-l,a[4+s]=d+c,a[12+s]=d-c}for(s=0;4>s;++s)o=(e=a[0+4*s]+3)+a[3+4*s],l=a[1+4*s]+a[2+4*s],c=a[1+4*s]-a[2+4*s],d=e-a[3+4*s],r[i+0]=o+l>>3,r[i+16]=d+c>>3,r[i+32]=o-l>>3,r[i+48]=d-c>>3,i+=64}function ct(e,t,r){var i,s=t-32,n=Ti,a=255-e[s-1];for(i=0;i<r;++i){var o,l=n,c=a+e[t-1];for(o=0;o<r;++o)e[t+o]=l[c+e[s+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var r;for(r=0;16>r;++r)i(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)s(e,t,e[t-1],16),t+=32}function ft(e,t,r){var i;for(i=0;16>i;++i)s(t,r+32*i,e,16)}function gt(e,t){var r,i=16;for(r=0;16>r;++r)i+=e[t-1+32*r]+e[t+r-32];ft(i>>5,e,t)}function xt(e,t){var r,i=8;for(r=0;16>r;++r)i+=e[t-1+32*r];ft(i>>4,e,t)}function yt(e,t){var r,i=8;for(r=0;16>r;++r)i+=e[t+r-32];ft(i>>4,e,t)}function vt(e,t){ft(128,e,t)}function bt(e,t,r){return e+2*t+r+2>>2}function wt(e,t){var r,s=t-32;for(s=new Uint8Array([bt(e[s-1],e[s+0],e[s+1]),bt(e[s+0],e[s+1],e[s+2]),bt(e[s+1],e[s+2],e[s+3]),bt(e[s+2],e[s+3],e[s+4])]),r=0;4>r;++r)i(e,t+32*r,s,0,s.length)}function _t(e,t){var r=e[t-1],i=e[t-1+32],s=e[t-1+64],n=e[t-1+96];A(e,t+0,16843009*bt(e[t-1-32],r,i)),A(e,t+32,16843009*bt(r,i,s)),A(e,t+64,16843009*bt(i,s,n)),A(e,t+96,16843009*bt(s,n,n))}function Nt(e,t){var r,i=4;for(r=0;4>r;++r)i+=e[t+r-32]+e[t-1+32*r];for(i>>=3,r=0;4>r;++r)s(e,t+32*r,i,4)}function kt(e,t){var r=e[t-1+0],i=e[t-1+32],s=e[t-1+64],n=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=bt(i,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=bt(r,i,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=bt(n,r,i),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=bt(a,n,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=bt(o,a,n),e[t+3+32]=e[t+2+0]=bt(l,o,a),e[t+3+0]=bt(c,l,o)}function jt(e,t){var r=e[t+1-32],i=e[t+2-32],s=e[t+3-32],n=e[t+4-32],a=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=bt(e[t+0-32],r,i),e[t+1+0]=e[t+0+32]=bt(r,i,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=bt(i,s,n),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=bt(s,n,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=bt(n,a,o),e[t+3+64]=e[t+2+96]=bt(a,o,l),e[t+3+96]=bt(o,l,l)}function St(e,t){var r=e[t-1+0],i=e[t-1+32],s=e[t-1+64],n=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=n+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=bt(s,i,r),e[t+0+64]=bt(i,r,n),e[t+0+32]=e[t+1+96]=bt(r,n,a),e[t+1+32]=e[t+2+96]=bt(n,a,o),e[t+2+32]=e[t+3+96]=bt(a,o,l),e[t+3+32]=bt(o,l,c)}function Pt(e,t){var r=e[t+0-32],i=e[t+1-32],s=e[t+2-32],n=e[t+3-32],a=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+i+1>>1,e[t+1+0]=e[t+0+64]=i+s+1>>1,e[t+2+0]=e[t+1+64]=s+n+1>>1,e[t+3+0]=e[t+2+64]=n+a+1>>1,e[t+0+32]=bt(r,i,s),e[t+1+32]=e[t+0+96]=bt(i,s,n),e[t+2+32]=e[t+1+96]=bt(s,n,a),e[t+3+32]=e[t+2+96]=bt(n,a,o),e[t+3+64]=bt(a,o,l),e[t+3+96]=bt(o,l,c)}function Lt(e,t){var r=e[t-1+0],i=e[t-1+32],s=e[t-1+64],n=e[t-1+96];e[t+0+0]=r+i+1>>1,e[t+2+0]=e[t+0+32]=i+s+1>>1,e[t+2+32]=e[t+0+64]=s+n+1>>1,e[t+1+0]=bt(r,i,s),e[t+3+0]=e[t+1+32]=bt(i,s,n),e[t+3+32]=e[t+1+64]=bt(s,n,n),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=n}function At(e,t){var r=e[t-1+0],i=e[t-1+32],s=e[t-1+64],n=e[t-1+96],a=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+a+1>>1,e[t+0+32]=e[t+2+64]=i+r+1>>1,e[t+0+64]=e[t+2+96]=s+i+1>>1,e[t+0+96]=n+s+1>>1,e[t+3+0]=bt(o,l,c),e[t+2+0]=bt(a,o,l),e[t+1+0]=e[t+3+32]=bt(r,a,o),e[t+1+32]=e[t+3+64]=bt(i,r,a),e[t+1+64]=e[t+3+96]=bt(s,i,r),e[t+1+96]=bt(n,s,i)}function Ct(e,t){var r;for(r=0;8>r;++r)i(e,t+32*r,e,t-32,8)}function It(e,t){var r;for(r=0;8>r;++r)s(e,t,e[t-1],8),t+=32}function Tt(e,t,r){var i;for(i=0;8>i;++i)s(t,r+32*i,e,8)}function Ft(e,t){var r,i=8;for(r=0;8>r;++r)i+=e[t+r-32]+e[t-1+32*r];Tt(i>>4,e,t)}function Et(e,t){var r,i=4;for(r=0;8>r;++r)i+=e[t+r-32];Tt(i>>3,e,t)}function Ot(e,t){var r,i=4;for(r=0;8>r;++r)i+=e[t-1+32*r];Tt(i>>3,e,t)}function Mt(e,t){Tt(128,e,t)}function Rt(e,t,r){var i=e[t-r],s=e[t+0],n=3*(s-i)+Ci[1020+e[t-2*r]-e[t+r]],a=Ii[112+(n+4>>3)];e[t-r]=Ti[255+i+Ii[112+(n+3>>3)]],e[t+0]=Ti[255+s-a]}function Dt(e,t,r,i){var s=e[t+0],n=e[t+r];return Fi[255+e[t-2*r]-e[t-r]]>i||Fi[255+n-s]>i}function Bt(e,t,r,i){return 4*Fi[255+e[t-r]-e[t+0]]+Fi[255+e[t-2*r]-e[t+r]]<=i}function zt(e,t,r,i,s){var n=e[t-3*r],a=e[t-2*r],o=e[t-r],l=e[t+0],c=e[t+r],d=e[t+2*r],u=e[t+3*r];return 4*Fi[255+o-l]+Fi[255+a-c]>i?0:Fi[255+e[t-4*r]-n]<=s&&Fi[255+n-a]<=s&&Fi[255+a-o]<=s&&Fi[255+u-d]<=s&&Fi[255+d-c]<=s&&Fi[255+c-l]<=s}function qt(e,t,r,i){var s=2*i+1;for(i=0;16>i;++i)Bt(e,t+i,r,s)&&Rt(e,t+i,r)}function Ut(e,t,r,i){var s=2*i+1;for(i=0;16>i;++i)Bt(e,t+i*r,1,s)&&Rt(e,t+i*r,1)}function Ht(e,t,r,i){var s;for(s=3;0<s;--s)qt(e,t+=4*r,r,i)}function Wt(e,t,r,i){var s;for(s=3;0<s;--s)Ut(e,t+=4,r,i)}function $t(e,t,r,i,s,n,a,o){for(n=2*n+1;0<s--;){if(zt(e,t,r,n,a))if(Dt(e,t,r,o))Rt(e,t,r);else{var l=e,c=t,d=r,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(y=Ci[1020+3*(p-h)+Ci[1020+u-m]])+63>>7,x=18*y+63>>7,y=9*y+63>>7;l[c-3*d]=Ti[255+l[c-3*d]+y],l[c-2*d]=Ti[255+u+x],l[c-d]=Ti[255+h+g],l[c+0]=Ti[255+p-g],l[c+d]=Ti[255+m-x],l[c+2*d]=Ti[255+f-y]}t+=i}}function Vt(e,t,r,i,s,n,a,o){for(n=2*n+1;0<s--;){if(zt(e,t,r,n,a))if(Dt(e,t,r,o))Rt(e,t,r);else{var l=e,c=t,d=r,u=l[c-d],h=l[c+0],p=l[c+d],m=Ii[112+(4+(f=3*(h-u))>>3)],f=Ii[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=Ti[255+l[c-2*d]+g],l[c-d]=Ti[255+u+f],l[c+0]=Ti[255+h-m],l[c+d]=Ti[255+p-g]}t+=i}}function Zt(e,t,r,i,s,n){$t(e,t,r,1,16,i,s,n)}function Gt(e,t,r,i,s,n){$t(e,t,1,r,16,i,s,n)}function Qt(e,t,r,i,s,n){var a;for(a=3;0<a;--a)Vt(e,t+=4*r,r,1,16,i,s,n)}function Kt(e,t,r,i,s,n){var a;for(a=3;0<a;--a)Vt(e,t+=4,1,r,16,i,s,n)}function Yt(e,t,r,i,s,n,a,o){$t(e,t,s,1,8,n,a,o),$t(r,i,s,1,8,n,a,o)}function Jt(e,t,r,i,s,n,a,o){$t(e,t,1,s,8,n,a,o),$t(r,i,1,s,8,n,a,o)}function Xt(e,t,r,i,s,n,a,o){Vt(e,t+4*s,s,1,8,n,a,o),Vt(r,i+4*s,s,1,8,n,a,o)}function er(e,t,r,i,s,n,a,o){Vt(e,t+4,1,s,8,n,a,o),Vt(r,i+4,1,s,8,n,a,o)}function tr(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function nr(){this.xb=this.a=0,this.l=new Ve,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=a(4,ir),this.Oc=0}function ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(e,t,r,i,s,n,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)s[n+t]=e+r[i+t]&255,e=s[n+t]}function lr(e,t,r,i,s,n,a){var o;if(null==e)or(null,null,r,i,s,n,a);else for(o=0;o<a;++o)s[n+o]=e[t+o]+r[i+o]&255}function cr(e,t,r,i,s,n,a){if(null==e)or(null,null,r,i,s,n,a);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<a;++o)c=d+(l=e[t+o])-c,d=r[i+o]+(-256&c?0>c?0:255:c)&255,c=l,s[n+o]=d}}function dr(e,r,s,a){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>s||0>=a||s+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ar,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=n(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,g=h-1,y=c.l;if(t(null!=d&&null!=p&&null!=r),ms[0]=null,ms[1]=or,ms[2]=lr,ms[3]=cr,c.ca=p,c.tb=m,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=h)r=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)r=0;else if(y.put=pe,y.ac=he,y.bc=me,y.ma=c,y.width=r.width,y.height=r.height,y.Da=r.Da,y.v=r.v,y.va=r.va,y.j=r.j,y.o=r.o,c.$a)e:{t(1==c.$a),r=Le();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,x(r.m,d,f,g),!Ae(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&Ne(r.s)?(c.ic=1,d=r.c*r.i,r.Ta=null,r.Ua=0,r.V=n(d),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=Ce(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=g>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-s}t(null!=e.ga),t(s+a<=l);e:{if(r=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+s*r,h=e.mb,p=e.nb+s*r,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=ms[d.Z]),c=0;c<a;++c)ms[d.Z](f,g,y,u,h,p,r),f=h,g=p,p+=r,u+=r;else for(c=0;c<a;++c)i(h,p,y,u,r),f=h,g=p,p+=r,u+=r;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),r=s+a,t(null!=(c=d.mc)),t(r<=c.i),c.C>=r)r=1;else if(d.ic||fr(),d.ic){d=c.V,f=c.Ba,g=c.c;var v=c.i,b=(y=1,u=c.$/g,h=c.$%g,p=c.m,m=c.s,c.$),w=g*v,_=g*r,k=m.wc,S=b<_?be(m,h,u):null;t(b<=w),t(r<=v),t(Ne(m));t:for(;;){for(;!p.h&&b<_;){if(h&k||(S=be(m,h,u)),t(null!=S),j(p),256>(v=ye(S.G[0],S.H[0],p)))d[f+b]=v,++b,++h>=g&&(h=0,++u<=r&&!(u%16)&&je(c,u));else{if(!(280>v)){y=0;break t}v=ge(v-256,p);var P,L=ye(S.G[4],S.H[4],p);if(j(p),!(b>=(L=xe(g,L=ge(L,p)))&&w-b>=v)){y=0;break t}for(P=0;P<v;++P)d[f+b+P]=d[f+b+P-L];for(b+=v,h+=v;h>=g;)h-=g,++u<=r&&!(u%16)&&je(c,u);b<_&&h&k&&(S=be(m,h,u))}t(p.h==N(p))}je(c,u>r?r:u);break t}!y||p.h&&b<w?(y=0,c.a=p.h?5:3):c.$=b,r=y}else r=Se(c,c.V,c.Ba,c.c,c.i,r,Ie);if(!r){a=0;break e}}s+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*o}function ur(e,t,r,i,s,n){for(;0<s--;){var a,o=e,l=t+(r?1:0),c=e,d=t+(r?0:3);for(a=0;a<i;++a){var u=c[d+4*a];255!=u&&(u*=32897,o[l+4*a+0]=o[l+4*a+0]*u>>23,o[l+4*a+1]=o[l+4*a+1]*u>>23,o[l+4*a+2]=o[l+4*a+2]*u>>23)}t+=n}}function hr(e,t,r,i,s){for(;0<i--;){var n;for(n=0;n<r;++n){var a=e[t+2*n+0],o=15&(c=e[t+2*n+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*n+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*n+1]=240&c|o}t+=s}}function pr(e,t,r,i,s,n,a,o){var l,c,d=255;for(c=0;c<s;++c){for(l=0;l<i;++l){var u=e[t+l];n[a+4*l]=u,d&=u}t+=r,a+=o}return 255!=d}function mr(e,t,r,i,s){var n;for(n=0;n<s;++n)r[i+n]=e[t+n]>>8}function fr(){wi=ur,_i=hr,Ni=pr,ki=mr}function gr(r,i,s){e[r]=function(e,r,n,a,o,l,c,d,u,h,p,m,f,g,x,y,v){var b,w=v-1>>1,_=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*_+N+131074>>2;for(i(e[r+0],255&k,k>>16,f,g),null!=n&&(k=3*N+_+131074>>2,i(n[a+0],255&k,k>>16,x,y)),b=1;b<=w;++b){var j=o[l+b]|c[d+b]<<16,S=u[h+b]|p[m+b]<<16,P=_+j+N+S+524296,L=P+2*(j+N)>>3;k=L+_>>1,_=(P=P+2*(_+S)>>3)+j>>1,i(e[r+2*b-1],255&k,k>>16,f,g+(2*b-1)*s),i(e[r+2*b-0],255&_,_>>16,f,g+(2*b-0)*s),null!=n&&(k=P+N>>1,_=L+S>>1,i(n[a+2*b-1],255&k,k>>16,x,y+(2*b-1)*s),i(n[a+2*b+0],255&_,_>>16,x,y+(2*b+0)*s)),_=j,N=S}1&v||(k=3*_+N+131074>>2,i(e[r+v-1],255&k,k>>16,f,g+(v-1)*s),null!=n&&(k=3*N+_+131074>>2,i(n[a+v-1],255&k,k>>16,x,y+(v-1)*s)))}}function xr(){fs[Ei]=gs,fs[Oi]=ys,fs[Mi]=xs,fs[Ri]=vs,fs[Di]=bs,fs[Bi]=ws,fs[zi]=_s,fs[qi]=ys,fs[Ui]=vs,fs[Hi]=bs,fs[Wi]=ws}function yr(e){return-16384&e?0>e?0:255:e>>Ps}function vr(e,t){return yr((19077*e>>8)+(26149*t>>8)-14234)}function br(e,t,r){return yr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function wr(e,t){return yr((19077*e>>8)+(33050*t>>8)-17685)}function _r(e,t,r,i,s){i[s+0]=vr(e,r),i[s+1]=br(e,t,r),i[s+2]=wr(e,t)}function Nr(e,t,r,i,s){i[s+0]=wr(e,t),i[s+1]=br(e,t,r),i[s+2]=vr(e,r)}function kr(e,t,r,i,s){var n=br(e,t,r);t=n<<3&224|wr(e,t)>>3,i[s+0]=248&vr(e,r)|n>>5,i[s+1]=t}function jr(e,t,r,i,s){var n=240&wr(e,t)|15;i[s+0]=240&vr(e,r)|br(e,t,r)>>4,i[s+1]=n}function Sr(e,t,r,i,s){i[s+0]=255,_r(e,t,r,i,s+1)}function Pr(e,t,r,i,s){Nr(e,t,r,i,s),i[s+3]=255}function Lr(e,t,r,i,s){_r(e,t,r,i,s),i[s+3]=255}function $e(e,t){return 0>e?0:e>t?t:e}function Ar(t,r,i){e[t]=function(e,t,s,n,a,o,l,c,d){for(var u=c+(-2&d)*i;c!=u;)r(e[t+0],s[n+0],a[o+0],l,c),r(e[t+1],s[n+0],a[o+0],l,c+i),t+=2,++n,++o,c+=2*i;1&d&&r(e[t+0],s[n+0],a[o+0],l,c)}}function Cr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Ir(e,t,r,i,s){switch(e>>>30){case 3:si(t,r,i,s,0);break;case 2:ni(t,r,i,s);break;case 1:oi(t,r,i,s)}}function Tr(e,t){var r,n,a=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(r=0;16>r;++r)l[c+32*r-1]=129;for(r=0;8>r;++r)d[u+32*r-1]=129,h[p+32*r-1]=129;for(0<a?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(s(l,c-32-1,127,21),s(d,u-32-1,127,9),s(h,p-32-1,127,9)),n=0;n<e.za;++n){var m=t.ya[t.aa+n];if(0<n){for(r=-1;16>r;++r)i(l,c+32*r-4,l,c+32*r+12,4);for(r=-1;8>r;++r)i(d,u+32*r-4,d,u+32*r+4,4),i(h,p+32*r-4,h,p+32*r+4,4)}var f=e.Gd,g=e.Hd+n,x=m.ad,y=m.Hc;if(0<a&&(i(l,c-32,f[g].y,0,16),i(d,u-32,f[g].f,0,8),i(h,p-32,f[g].ea,0,8)),m.Za){var v=l,b=c-32+16;for(0<a&&(n>=e.za-1?s(v,b,f[g].y[15],4):i(v,b,f[g+1].y,0,4)),r=0;4>r;r++)v[b+128+r]=v[b+256+r]=v[b+384+r]=v[b+0+r];for(r=0;16>r;++r,y<<=2)v=l,b=c+Os[r],ds[m.Ob[r]](v,b),Ir(y,x,16*+r,v,b)}else if(v=Cr(n,a,m.Ob[0]),cs[v](l,c),0!=y)for(r=0;16>r;++r,y<<=2)Ir(y,x,16*+r,l,c+Os[r]);for(r=m.Gc,v=Cr(n,a,m.Dd),us[v](d,u),us[v](h,p),y=x,v=d,b=u,255&(m=r|0)&&(170&m?ai(y,256,v,b):li(y,256,v,b)),m=h,y=p,255&(r>>=8)&&(170&r?ai(x,320,m,y):li(x,320,m,y)),a<e.Ub-1&&(i(f[g].y,0,l,c+480,16),i(f[g].f,0,d,u+224,8),i(f[g].ea,0,h,p+224,8)),r=8*o*e.B,f=e.sa,g=e.ta+16*n+16*o*e.R,x=e.qa,m=e.ra+8*n+r,y=e.Ha,v=e.Ia+8*n+r,r=0;16>r;++r)i(f,g+r*e.R,l,c+32*r,16);for(r=0;8>r;++r)i(x,m+r*e.B,d,u+32*r,8),i(y,v+r*e.B,h,p+32*r,8)}}function Fr(e,i,s,n,a,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new rr;if(null==e||12>s)return 7;f.data=e,f.w=i,f.ha=s,i=[i],s=[s],f.gb=[f.gb];e:{var g=i,y=s,v=f.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!r(e,g[0],"RIFF")){if(r(e,g[0]+8,"WEBP")){v=3;break e}var b=T(e,g[0]+4);if(12>b||4294967286<b){v=3;break e}if(m&&b>y[0]-8){v=7;break e}v[0]=b,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(b=0<f.gb[0],s=s[0];;){e:{var _=e;y=i,v=s;var N=u,k=h,j=g=[0];if((L=p=[p])[0]=0,8>v[0])v=7;else{if(!r(_,y[0],"VP8X")){if(10!=T(_,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var S=T(_,y[0]+8),P=1+I(_,y[0]+12);if(2147483648<=P*(_=1+I(_,y[0]+15))){v=3;break e}null!=j&&(j[0]=S),null!=N&&(N[0]=P),null!=k&&(k[0]=_),y[0]+=18,v[0]-=18,L[0]=1}v=0}}if(p=p[0],g=g[0],0!=v)return v;if(y=!!(2&g),!b&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&y&&null==d){v=0;break}if(4>s){v=7;break}if(b&&p||!b&&!p&&!r(e,i[0],"ALPH")){s=[s],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{S=e,v=i,b=s;var L=f.gb;N=f.na,k=f.P,j=f.Sa,P=22,t(null!=S),t(null!=b),_=v[0];var A=b[0];for(t(null!=N),t(null!=j),N[0]=null,k[0]=null,j[0]=0;;){if(v[0]=_,b[0]=A,8>A){v=7;break e}var C=T(S,_+4);if(4294967286<C){v=3;break e}var F=8+C+1&-2;if(P+=F,0<L&&P>L){v=3;break e}if(!r(S,_,"VP8 ")||!r(S,_,"VP8L")){v=0;break e}if(A[0]<F){v=7;break e}r(S,_,"ALPH")||(N[0]=S,k[0]=_+8,j[0]=C),_+=F,A-=F}}if(s=s[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=v)break}s=[s],f.Ja=[f.Ja],f.xa=[f.xa];e:if(L=e,v=i,b=s,N=f.gb[0],k=f.Ja,j=f.xa,S=v[0],_=!r(L,S,"VP8 "),P=!r(L,S,"VP8L"),t(null!=L),t(null!=b),t(null!=k),t(null!=j),8>b[0])v=7;else{if(_||P){if(L=T(L,S+4),12<=N&&L>N-12){v=3;break e}if(m&&L>b[0]-8){v=7;break e}k[0]=L,v[0]+=8,b[0]-=8,j[0]=P}else j[0]=5<=b[0]&&47==L[S+0]&&!(L[S+4]>>5),k[0]=b[0];v=0}if(s=s[0],f.Ja=f.Ja[0],f.xa=f.xa[0],i=i[0],0!=v)break;if(4294967286<f.Ja)return 3;if(null==c||y||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>s){v=7;break}c=l,m=g,y=o,null==e||5>s?e=0:5<=s&&47==e[i+0]&&!(e[i+4]>>5)?(b=[0],L=[0],N=[0],x(k=new w,e,i,s),fe(k,b,L,N)?(null!=c&&(c[0]=b[0]),null!=m&&(m[0]=L[0]),null!=y&&(y[0]=N[0]),e=1):e=0):e=0}else{if(10>s){v=7;break}c=g,null==e||10>s||!Qe(e,i+3,s-3)?e=0:(m=e[i+0]|e[i+1]<<8|e[i+2]<<16,y=16383&(e[i+7]<<8|e[i+6]),e=16383&(e[i+9]<<8|e[i+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=i-d.w,t(4294967286>i-d.w),t(d.offset==d.ha-s));break}return 0==v||7==v&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=n&&(n[0]=l),null!=a&&(a[0]=g),0):v}function Er(e,t,r){var i=t.width,s=t.height,n=0,a=0,o=i,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,n=e.v,a=e.j,11>r||(n&=-2,a&=-2),0>n||0>a||0>=o||0>=l||n+o>i||a+l>s))return 0;if(t.v=n,t.j=a,t.va=n+o,t.o=a+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(o,l,r=[e.ib],n=[e.hb]))return 0;t.ib=r[0],t.hb=n[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*i/4&&t.hb<3*s/4,t.Kb=0),1}function Or(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Mr(e,t,r,i){if(null==i||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var s=r.cd,a=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=s||0>=a||o+s>e||l+a>t)return 2;e=s,t=a}if(r.da){if(!M(e,t,s=[r.ib],a=[r.hb]))return 2;e=s[0],t=a[0]}}i.width=e,i.height=t;e:{var c=i.width,d=i.height;if(e=i.S,0>=c||0>=d||!(e>=Ei&&13>e))e=2;else{if(0>=i.Rd&&null==i.sd){o=a=s=t=0;var u=(l=c*Bs[e])*d;if(11>e||(a=(d+1)/2*(t=(c+1)/2),12==e&&(o=(s=c)*d)),null==(d=n(u+2*a+o))){e=1;break e}i.sd=d,11>e?((c=i.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=i.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=a,c.ea=d,c.W=0+u+a,c.Db=t,c.Ed=a,12==e&&(c.F=d,c.J=0+u+2*a),c.Tc=o,c.lb=s)}if(t=1,s=i.S,a=i.width,o=i.height,s>=Ei&&13>s)if(11>s)e=i.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+a<=e.size,t&=l>=a*Bs[s],t&=null!=e.eb;else{e=i.f.kb,l=(a+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+a;t&=c*(o-1)+a<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=a&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=p>=a,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Or(i)),e}var Rr=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Br=24,zr=32,qr=8,Ur=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return q(q(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return q(e,t[r-1])},e.Predictor7=function(e,t,r){return q(e,t[r+0])},e.Predictor8=function(e,t,r){return q(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return q(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return q(q(e,t[r-1]),q(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var i=t[r+0];return 0>=W(i>>24&255,e>>24&255,(t=t[r-1])>>24&255)+W(i>>16&255,e>>16&255,t>>16&255)+W(i>>8&255,e>>8&255,t>>8&255)+W(255&i,255&e,255&t)?i:e},e.Predictor12=function(e,t,r){var i=t[r+0];return(U((e>>24&255)+(i>>24&255)-((t=t[r-1])>>24&255))<<24|U((e>>16&255)+(i>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(i>>8&255)-(t>>8&255))<<8|U((255&e)+(255&i)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var i=t[r-1];return(H((e=q(e,t[r+0]))>>24&255,i>>24&255)<<24|H(e>>16&255,i>>16&255)<<16|H(e>>8&255,i>>8&255)<<8|H(255&e,255&i))>>>0};var Hr=e.PredictorAdd0;e.PredictorAdd1=$,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Wr=e.PredictorAdd2;Q("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Q("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var $r,Vr=e.ColorIndexInverseTransform,Zr=e.MapARGB,Gr=e.VP8LColorIndexInverseTransformAlpha,Qr=e.MapAlpha,Kr=e.VP8LPredictorsAdd=[];Kr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Yr,Jr,Xr,ei,ti,ri,ii,si,ni,ai,oi,li,ci,di,ui,hi,pi,mi,fi,gi,xi,yi,vi,bi,wi,_i,Ni,ki,ji=n(511),Si=n(2041),Pi=n(225),Li=n(767),Ai=0,Ci=Si,Ii=Pi,Ti=Li,Fi=ji,Ei=0,Oi=1,Mi=2,Ri=3,Di=4,Bi=5,zi=6,qi=7,Ui=8,Hi=9,Wi=10,$i=[2,3,7],Vi=[3,3,11],Zi=[280,256,256,256,40],Gi=[0,1,1,1,0],Qi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ki=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ji=8,Xi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],es=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ts=null,rs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],is=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ss=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ns=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],as=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],os=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ls=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],ds=[],us=[],hs=1,ps=2,ms=[],fs=[];gr("UpsampleRgbLinePair",_r,3),gr("UpsampleBgrLinePair",Nr,3),gr("UpsampleRgbaLinePair",Lr,4),gr("UpsampleBgraLinePair",Pr,4),gr("UpsampleArgbLinePair",Sr,4),gr("UpsampleRgba4444LinePair",jr,2),gr("UpsampleRgb565LinePair",kr,2);var gs=e.UpsampleRgbLinePair,xs=e.UpsampleBgrLinePair,ys=e.UpsampleRgbaLinePair,vs=e.UpsampleBgraLinePair,bs=e.UpsampleArgbLinePair,ws=e.UpsampleRgba4444LinePair,_s=e.UpsampleRgb565LinePair,Ns=16,ks=1<<Ns-1,js=-227,Ss=482,Ps=6,Ls=0,As=n(256),Cs=n(256),Is=n(256),Ts=n(256),Fs=n(Ss-js),Es=n(Ss-js);Ar("YuvToRgbRow",_r,3),Ar("YuvToBgrRow",Nr,3),Ar("YuvToRgbaRow",Lr,4),Ar("YuvToBgraRow",Pr,4),Ar("YuvToArgbRow",Sr,4),Ar("YuvToRgba4444Row",jr,2),Ar("YuvToRgb565Row",kr,2);var Os=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ms=[0,2,8],Rs=[8,7,6,4,4,2,2,2,1,1,1,1],Ds=1;this.WebPDecodeRGBA=function(e,r,o,l,c){var d=Oi,u=new tr,h=new ae;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=Fr(e,r,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ve,(c=new rr).data=e,c.w=r,c.ha=o,c.kd=1,r=[0],t(null!=c),(0==(e=Fr(c.data,c.w,c.ha,null,null,null,r,null,c))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=Le())){u=1;break e}if(function(e,r){var i=[0],s=[0],n=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,x(e.m,r.data,r.w,r.ha),!fe(e.m,i,s,n)){e.a=3;break t}if(e.xb=ps,r.width=i[0],r.height=s[0],!Ae(i[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(r=Mr(l.width,l.height,u.Oa,u.ba))){t:{l=e;r:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Er(c.Oa,o,Ri)){l.a=2;break r}if(!Ce(l,o.width))break r;if(o.da)break r;if((o.da||ie(l.ca.S))&&fr(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&fr()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!F(l.s.vb,l.s.Wa.Xa)){l.a=1;break r}l.xb=0}if(!Se(l,l.V,l.Ba,l.c,l.i,o.o,_e))break r;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(r=e.a)}else r=e.a}else{if(null==(e=new Ze)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Ke(e,l)){if(0==(r=Mr(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*Rs[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,r){if(null==e)return 0;if(null==r)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ke(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=Ms[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ge(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=Ds);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Ms[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=n(u),e.Fc=0,null==e.Ec){o=Ge(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=a(m,He),e.Hd=0,e.rb=a(f+1,Be),e.sb=1,e.wa=g?a(g,De):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=a(x,qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Ms[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Je(e),s(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!Ai){for(o=-255;255>=o;++o)ji[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Si[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Pi[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Li[255+o]=0>o?0:255<o?255:o;Ai=1}ii=lt,si=st,ai=nt,oi=at,li=ot,ni=it,ci=Zt,di=Gt,ui=Yt,hi=Jt,pi=Qt,mi=Kt,fi=Xt,gi=er,xi=qt,yi=Ut,vi=Ht,bi=Wt,ds[0]=Nt,ds[1]=dt,ds[2]=wt,ds[3]=_t,ds[4]=kt,ds[5]=St,ds[6]=jt,ds[7]=Pt,ds[8]=At,ds[9]=Lt,cs[0]=gt,cs[1]=ht,cs[2]=pt,cs[3]=mt,cs[4]=xt,cs[5]=yt,cs[6]=vt,us[0]=Ft,us[1]=ut,us[2]=Ct,us[3]=It,us[4]=Ot,us[5]=Et,us[6]=Mt,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var a,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var d=l,u=c,h=u.Ac,p=u.Bc+4*a,m=u.zc,f=u.ya[u.aa+a];if(u.Qa.Bb?f.$b=L(d,u.Pa.jb[0])?2+L(d,u.Pa.jb[2]):L(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=L(d,u.Bd)),f.Za=!L(d,145)+0,f.Za){var g=f.Ob,x=0;for(u=0;4>u;++u){var y,v=m[0+u];for(y=0;4>y;++y){v=as[h[p+y]][v];for(var b=ss[L(d,v[0])];0<b;)b=ss[2*b+L(d,v[b])];v=-b,h[p+y]=v}i(g,x,h,p,4),x+=4,m[0+u]=v}}else v=L(d,156)?L(d,128)?1:3:L(d,163)?2:0,f.Ob[0]=v,s(h,p,v,4),s(m,0,v,4);f.Dd=L(d,142)?L(d,114)?L(d,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],p=l.kc?a.Ad:0)d.la=h.la=0,a.Za||(d.Na=h.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,_;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],v=y=0,s(u,g,0,384),m.Za)var N=0,k=p[3];else{b=n(16);var j=d.Na+x.Na;if(j=ts(h,p[1],j,f.Eb,0,b,0),d.Na=x.Na=(0<j)+0,1<j)ii(b,0,u,g);else{var S=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=S}N=1,k=p[0]}var P=15&d.la,A=15&x.la;for(b=0;4>b;++b){var C=1&A;for(S=_=0;4>S;++S)P=P>>1|(C=(j=ts(h,k,j=C+(1&P),f.Sc,N,u,g))>N)<<7,_=_<<2|(3<j?3:1<j?2:0!=u[g+0]),g+=16;P>>=4,A=A>>1|C<<7,y=(y<<8|_)>>>0}for(k=P,N=A>>4,w=0;4>w;w+=2){for(_=0,P=d.la>>4+w,A=x.la>>4+w,b=0;2>b;++b){for(C=1&A,S=0;2>S;++S)j=C+(1&P),P=P>>1|(C=0<(j=ts(h,p[2],j,f.Qc,0,u,g)))<<3,_=_<<2|(3<j?3:1<j?2:0!=u[g+0]),g+=16;P>>=2,A=A>>1|C<<5}v|=_<<4*w,k|=P<<4<<w,N|=(240&A)<<w}d.la=k,x.la=N,m.Hc=y,m.Gc=v,m.ia=43690&v?0:f.ia,p=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Je(e),l=r,c=1,a=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(a.M=o.M,a.uc=d,Tr(o,a),c=1,a=(_=o.D).Nb,d=(v=Ms[o.L])*o.R,h=v/2*o.B,b=16*a*o.R,S=8*a*o.B,p=o.sa,m=o.ta-d+b,f=o.qa,u=o.ra-h+S,g=o.Ha,x=o.Ia-h+S,A=0==(P=_.M),y=P>=o.Va-1,2==o.Aa&&Tr(o,_),_.uc)for(C=(j=o).D.M,t(j.D.uc),_=j.yb;_<j.Hb;++_){N=_,k=C;var I=(T=(q=j).D).Nb;w=q.R;var T=T.wa[T.Y+N],F=q.sa,E=q.ta+16*I*w+16*N,O=T.dd,M=T.tc;if(0!=M)if(t(3<=M),1==q.L)0<N&&yi(F,E,w,M+4),T.La&&bi(F,E,w,M),0<k&&xi(F,E,w,M+4),T.La&&vi(F,E,w,M);else{var R=q.B,D=q.qa,B=q.ra+8*I*R+8*N,z=q.Ha,q=q.Ia+8*I*R+8*N;I=T.ld,0<N&&(di(F,E,w,M+4,O,I),hi(D,B,z,q,R,M+4,O,I)),T.La&&(mi(F,E,w,M,O,I),gi(D,B,z,q,R,M,O,I)),0<k&&(ci(F,E,w,M+4,O,I),ui(D,B,z,q,R,M+4,O,I)),T.La&&(pi(F,E,w,M,O,I),fi(D,B,z,q,R,M,O,I))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(_=16*P,P=16*(P+1),A?(l.y=o.sa,l.O=o.ta+b,l.f=o.qa,l.N=o.ra+S,l.ea=o.Ha,l.W=o.Ia+S):(_-=v,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=x),y||(P-=v),P>l.o&&(P=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&_<P&&(l.J=dr(o,l,_,P-_),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ge(o,3,"Could not decode alpha data.");break t}_<l.j&&(v=l.j-_,_=l.j,t(!(1&v)),l.O+=o.R*v,l.N+=o.B*(v>>1),l.W+=o.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),_<P&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=_-l.j,l.U=l.va-l.v,l.T=P-_,c=l.put(l))}a+1!=o.Ic||y||(i(o.sa,o.ta-d,p,m+16*o.R,d),i(o.qa,o.ra-h,f,u+8*o.B,h),i(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0})(e,l)||(r=e.a)}}else r=e.a}0==r&&null!=u.Oa&&u.Oa.fd&&(r=Or(u.ba))}u=r}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Bs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",i=0;i<4;i++)r+=String.fromCharCode(e[t++]);return r}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],f=new l,g=e,x=function(e,t){var r={},i=0,s=!1,n=0,a=0;if(r.frames=[],!
/** @license
       * Copyright (c) 2017 Dominik Homberger
      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      https://webpjs.appspot.com
      WebPRiffParser dominikhlbg@gmail.com
      */
function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){var o,l;for(u(e,t+=4),t+=8;t<e.length;){var h=c(e,t),p=u(e,t+=4);t+=4;var m=p+(1&p);switch(h){case"VP8 ":case"VP8L":void 0===r.frames[i]&&(r.frames[i]={}),(x=r.frames[i]).src_off=s?a:t-8,x.src_size=n+p+8,i++,s&&(s=!1,n=0,a=0);break;case"VP8X":(x=r.header={}).feature_flags=e[t];var f=t+4;x.canvas_width=1+d(e,f),f+=3,x.canvas_height=1+d(e,f),f+=3;break;case"ALPH":s=!0,n=m+8,a=t-8;break;case"ANIM":(x=r.header).bgcolor=u(e,t),f=t+4,x.loop_count=(o=e)[(l=f)+0]|o[l+1]<<8,f+=2;break;case"ANMF":var g,x;(x=r.frames[i]={}).offset_x=2*d(e,t),t+=3,x.offset_y=2*d(e,t),t+=3,x.width=1+d(e,t),t+=3,x.height=1+d(e,t),t+=3,x.duration=d(e,t),t+=3,g=e[t++],x.dispose=1&g,x.blend=g>>1&1}"ANMF"!=h&&(t+=m)}return r}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,v=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],_=f.WebPDecodeRGBA(g,w.src_off,w.src_size,p,h);w.rgba=_,w.imgwidth=p[0],w.imgheight=h[0];for(var N=0;N<p[0]*h[0]*4;N++)m[N]=_[N];return this.width=p,this.height=h,this.data=m,this}!function(e){var t=function(t,i,l,c){var d=4,u=n;switch(c){case e.image_compression.FAST:d=1,u=s;break;case e.image_compression.MEDIUM:d=6,u=a;break;case e.image_compression.SLOW:d=9,u=o}var h=Qa(t=r(t,i,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},r=function(e,t,r,i){for(var s,n,a,o=e.length/t,l=new Uint8Array(e.length+o),u=c(),h=0;h<o;h+=1){if(a=h*t,s=e.subarray(a,a+t),i)l.set(i(s,r,n),a+h);else{for(var p,m=u.length,f=[];p<m;p+=1)f[p]=u[p](s,r,n);var g=d(f.concat());l.set(f[g],a+h)}n=s}return l},i=function(e){var t=Array.apply([],e);return t.unshift(0),t},s=function(e,t){var r,i=[],s=e.length;i[0]=1;for(var n=0;n<s;n+=1)r=e[n-t]||0,i[n+1]=e[n]-r+256&255;return i},n=function(e,t,r){var i,s=[],n=e.length;s[0]=2;for(var a=0;a<n;a+=1)i=r&&r[a]||0,s[a+1]=e[a]-i+256&255;return s},a=function(e,t,r){var i,s,n=[],a=e.length;n[0]=3;for(var o=0;o<a;o+=1)i=e[o-t]||0,s=r&&r[o]||0,n[o+1]=e[o]+256-(i+s>>>1)&255;return n},o=function(e,t,r){var i,s,n,a,o=[],c=e.length;o[0]=4;for(var d=0;d<c;d+=1)i=e[d-t]||0,s=r&&r[d]||0,n=r&&r[d-t]||0,a=l(i,s,n),o[d+1]=e[d]-a+256&255;return o},l=function(e,t,r){if(e===t&&t===r)return e;var i=Math.abs(t-r),s=Math.abs(e-r),n=Math.abs(e+t-r-r);return i<=s&&i<=n?e:s<=n?t:r},c=function(){return[i,s,n,a,o]},d=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,i,s,n){var a,o,l,c,d,u,h,p,m,f,g,x,y,v,b,w=this.decode.FLATE_DECODE,_="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(l=new Vl(r)).imgData,o=l.bits,a=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){m=(p=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(m*l.colors),f=new Uint8Array(m);var N,k=l.pixelBitlength-l.bits;for(v=0,b=0;v<m;v++){for(y=p[v],N=0;N<k;)g[b++]=y>>>N&255,N+=l.bits;f[v]=y>>>N&255}}if(16===l.bits){m=(p=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(m*(32/l.pixelBitlength)*l.colors),f=new Uint8Array(m*(32/l.pixelBitlength)),x=l.colors>1,v=0,b=0;for(var j=0;v<m;)y=p[v++],g[b++]=y>>>0&255,x&&(g[b++]=y>>>16&255,y=p[v++],g[b++]=y>>>0&255),f[j++]=y>>>16&255;o=8}n!==e.image_compression.NONE?(r=t(g,l.width*l.colors,l.colors,n),h=t(f,l.width,1,n)):(r=g,h=f,w=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var S=l.transparency.indexed,P=0;for(v=0,m=S.length;v<m;++v)P+=S[v];if((P/=255)==m-1&&-1!==S.indexOf(0))c=[S.indexOf(0)];else if(P!==m){for(p=l.decodePixels(),f=new Uint8Array(p.length),v=0,m=p.length;v<m;v++)f[v]=S[p[v]];h=t(f,l.width,1)}}var L=function(t){var r;switch(t){case e.image_compression.FAST:r=11;break;case e.image_compression.MEDIUM:r=13;break;case e.image_compression.SLOW:r=14;break;default:r=12}return r}(n);return w===this.decode.FLATE_DECODE&&(_="/Predictor "+L+" "),_+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:s,data:r,index:i,filter:w,decodeParameters:_,transparency:c,palette:u,sMask:h,predictor:L,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:a}}}}(To.API),function(e){e.processGIF89A=function(t,r,i,s){var n=new Zl(t),a=n.width,o=n.height,l=[];n.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new Ql(100).encode(c,100);return e.processJPEG.call(this,d,r,i,s)},e.processGIF87A=e.processGIF89A}(To.API),Kl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:r,quad:n}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Kl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){eo.log("bit decode error:"+r)}},Kl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var n=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[n>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==r&&(this.pos+=4-r)}},Kl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var n=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*s*4,o=n>>4,l=15&n,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Kl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),n=r*this.width*4+4*i;if(s<this.palette.length){var a=this.palette[s];this.data[n]=a.red,this.data[n+1]=a.green,this.data[n+2]=a.blue,this.data[n+3]=255}else this.data[n]=255,this.data[n+1]=255,this.data[n+2]=255,this.data[n+3]=255}0!==e&&(this.pos+=4-e)}},Kl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var n=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(n&t)/t*255|0,o=(n>>5&t)/t*255|0,l=(n>>10&t)/t*255|0,c=n>>15?255:0,d=i*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},Kl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/t*255|0,d=s*this.width*4+4*n;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Kl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=n,this.data[a+1]=s,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Kl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=n,this.data[o+1]=s,this.data[o+2]=i,this.data[o+3]=a}},Kl.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processBMP=function(t,r,i,s){var n=new Kl(t,!1),a=n.width,o=n.height,l={data:n.getData(),width:a,height:o},c=new Ql(100).encode(l,100);return e.processJPEG.call(this,c,r,i,s)}}(To.API),Yl.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processWEBP=function(t,r,i,s){var n=new Yl(t),a=n.width,o=n.height,l={data:n.getData(),width:a,height:o},c=new Ql(100).encode(l,100);return e.processJPEG.call(this,c,r,i,s)}}(To.API),To.API.processRGBA=function(e,t,r){for(var i=e.data,s=i.length,n=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var d=i[c],u=i[c+1],h=i[c+2],p=i[c+3];n[o++]=d,n[o++]=u,n[o++]=h,a[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(n);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},To.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ql=To.API,Ul=ql.getCharWidthsArray=function(e,t){var r,i,s=(t=t||{}).font||this.internal.getFont(),n=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,g=[];for(r=0;r<p;r++)i=e.charCodeAt(r),"function"==typeof s.metadata.widthOfString?g.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+a*(1e3/n)||0)/1e3):(h=u&&"object"===na(c[i])&&!isNaN(parseInt(c[i][m],10))?c[i][m]/d:0,g.push((o[i]||f)/l+h)),m=i;return g},Hl=ql.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return ql.processArabic&&(e=ql.processArabic(e)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,r,s)/r:Ul.apply(this,arguments).reduce(function(e,t){return e+t},0)},Wl=function(e,t,r,i){for(var s=[],n=0,a=e.length,o=0;n!==a&&o+t[n]<r;)o+=t[n],n++;s.push(e.slice(0,n));var l=n;for(o=0;n!==a;)o+t[n]>i&&(s.push(e.slice(l,n)),o=0,l=n),o+=t[n],n++;return l!==n&&s.push(e.slice(l,n)),s},$l=function(e,t,r){r||(r={});var i,s,n,a,o,l,c,d=[],u=[d],h=r.textIndent||0,p=0,m=0,f=e.split(" "),g=Ul.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?f[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),f=y,l=Hl.apply(this,[x,r])}for(n=0,a=f.length;n<a;n++){var v=0;if(i=f[n],l&&"\n"==i[0]&&(i=i.substr(1),v=1),h+p+(m=(s=Ul.apply(this,[i,r])).reduce(function(e,t){return e+t},0))>t||v){if(m>t){for(o=Wl.apply(this,[i,s,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=s.slice(i.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[i];u.push(d),h=m+l,p=g}else d.push(i),h+=p+m,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},ql.splitTextToSize=function(e,t,r){var i,s=(r=r||{}).fontSize||this.internal.getFontSize(),n=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;n.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,n.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat($l.apply(this,[i[o],a,n]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]="0123456789abcdef"[s],i["0123456789abcdef"[s]]=t[s];var n=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,r,s,o,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?r="'"+c+"'":(c=parseInt(c,10),r=(r=n(c).slice(2)).slice(0,-1)+i[r.slice(-1)]),"number"==typeof t)t<0?(s=n(t).slice(3),o="-"):(s=n(t).slice(2),o=""),s=o+s.slice(0,-1)+i[s.slice(-1)];else{if("object"!==na(t))throw new Error("Don't know what to do with value type "+na(t)+".");s=a(t)}l.push(r+s)}return l.push("}"),l.join("")},o=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,i,s,n,a={},o=1,l=a,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(n=e[p])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(n):"{"==n?(c.push([l,s]),l={},s=void 0):"}"==n?((i=c.pop())[0][i[1]]=l,s=void 0,l=i[0]):"-"==n?o=-1:void 0===s?r.hasOwnProperty(n)?(d+=r[n],s=parseInt(d,16)*o,o=1,d=""):d+=n:r.hasOwnProperty(n)?(u+=r[n],l[s]=parseInt(u,16)*o,o=1,s=void 0,u=""):u+=n;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var i=c.Unicode[t.postScriptName];i&&(t.metadata.Unicode.encoding=i,t.encoding=i.codePages[0])}])}(To.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.charCodeAt(i);return r};e.API.events.push(["addFont",function(r){var i,s,n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(n=!1===o.existsFileInVFS(a.postScriptName)?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");i=a,s=/^\x00\x01\x00\x00/.test(s=n)?t(s):t(so(s)),i.metadata=e.API.TTFFont.open(s),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]}}])}(To),To.API.addSvgAsImage=function(e,t,r,i,s,n,a,o){if(isNaN(t)||isNaN(r))throw eo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw eo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(Ja.canvg?Promise.resolve(Ja.canvg):sa(()=>import("./index.es-Dw9ecbxD.js"),__vite__mapDeps([0,1,2,3]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,r,i,s,a,o)})},To.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,r);return this},To.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var i,s,n,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,u=0;function h(e,t){var r,i=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if("object"===na(e))for(s in e)if(n=e[s],h(o,s)&&void 0!==n){if("boolean"===r[s].type&&"boolean"==typeof n)r[s].value=n;else if("name"===r[s].type&&h(r[s].valueSet,n))r[s].value=n;else if("integer"===r[s].type&&Number.isInteger(n))r[s].value=n;else if("array"===r[s].type){for(c=0;c<n.length;c+=1)if(i=!0,1===n[c].length&&"number"==typeof n[c][0])l.push(String(n[c]-1));else if(n[c].length>1){for(d=0;d<n[c].length;d+=1)"number"!=typeof n[c][d]&&(i=!1);!0===i&&l.push([n[c][0]-1,n[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),n=unescape(encodeURIComponent("</x:xmpmeta>")),a=r.length+i.length+s.length+t.length+n.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+r+i+s+n),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(To.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,i=t.metadata.Unicode.widths,s=["","0","00","000","0000"],n=[""],a=0,o=e.length;a<o;++a){if(r=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(a),-1==i.indexOf(r)&&(i.push(r),i.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return n.join("");r=r.toString(16),n.push(s[4-r.length],r)}return n.join("")},i=function(e){var t,r,i,s,n,a,o;for(n="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],a=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;a<o;a++)t=r[a],i.length>=100&&(n+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+s+">"));return i.length&&(n+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),n+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,n=t.newObject,a=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=n();a({data:c,addLength1:!0,objectId:u}),s("endobj");var h=n();a({data:i(r.metadata.toUnicode),addLength1:!0,objectId:h}),s("endobj");var p=n();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+So(r.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/Flags "+r.metadata.flags),s("/StemV "+r.metadata.stemV),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s(">>"),s("endobj");var m=n();s("<<"),s("/Type /Font"),s("/BaseFont /"+So(r.fontName)),s("/FontDescriptor "+p+" 0 R"),s("/W "+e.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+r.encoding+")"),s(">>"),s(">>"),s("endobj"),r.objectNumber=n(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+h+" 0 R"),s("/BaseFont /"+So(r.fontName)),s("/Encoding /"+r.encoding),s("/DescendantFonts ["+m+" 0 R]"),s(">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,n=t.newObject,a=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=n();a({data:l,addLength1:!0,objectId:d}),s("endobj");var u=n();a({data:i(r.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var h=n();s("<<"),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s("/StemV "+r.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+d+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/FontName /"+So(r.fontName)),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s(">>"),s("endobj"),r.objectNumber=n();for(var p=0;p<r.metadata.hmtx.widths.length;p++)r.metadata.hmtx.widths[p]=parseInt(r.metadata.hmtx.widths[p]*(1e3/r.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+So(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,i=e.text||"",s=e.x,n=e.y,a=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:i,x:s,y:n,options:a,mutex:o};for(m=i,u=c,Array.isArray(i)&&(m=i[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=r(h,d[u])),o.isHex=!0,{text:g,x:s,y:n,options:a,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var n=0;for(n=0;n<t.length;n+=1)Array.isArray(t[n])&&3===t[n].length?r.push([s(Object.assign({},i,{text:t[n][0]})).text,t[n][1],t[n][2]]):r.push(s(Object.assign({},i,{text:t[n]})).text);e.text=r}else e.text=s(Object.assign({},i,{text:t})).text}])}(To),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(To.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,i,s,n,a,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),r=t>>8,i=p[r];return void 0!==i?c[256*i+(255&t)]:252===r||253===r?"AL":f.test(r)?"L":8===r?"R":"N"},v=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=y(e.charAt(r))))return!1;if("R"===t)return!0}return!1},b=function(e,t,a,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?a[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(s&&!n){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":a[o-1];break;case"B":g=!1,r=!0,h=x;break;case"S":i=!0,h="N"}return h},w=function(e,t,r){var i=e.split("");return r&&_(i,r,{hiLevel:x}),i.reverse(),t&&t.reverse(),i.join("")},_=function(e,t,s){var n,a,o,l,c,p=-1,m=e.length,f=0,v=[],w=x?u:d,_=[];for(g=!1,r=!1,i=!1,a=0;a<m;a++)_[a]=y(e[a]);for(o=0;o<m;o++){if(c=f,v[o]=b(e,_,v,o),n=240&(f=w[c][h[v[o]]]),f&=15,t[o]=l=w[f][5],n>0)if(16===n){for(a=p;a<o;a++)t[a]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(a=p;a<o;a++)t[a]=l;p=-1}"B"===_[o]&&(t[o]=0),s.hiLevel|=l}i&&function(e,t,r){for(var i=0;i<r;i++)if("S"===e[i]){t[i]=x;for(var s=i-1;s>=0&&"WS"===e[s];s--)t[s]=x}}(_,t,m)},N=function(e,t,i,s,n){if(!(n.hiLevel<e)){if(1===e&&1===x&&!r)return t.reverse(),void(i&&i.reverse());for(var a,o,l,c,d=t.length,u=0;u<d;){if(s[u]>=e){for(l=u+1;l<d&&s[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)a=t[c],t[c]=t[o],t[o]=a,i&&(a=i[c],i[c]=i[o],i[o]=a);u=l}u++}}},k=function(e,t,r){var i=e.split(""),s={hiLevel:x};return r||(r=[]),_(i,r,s),function(e,t,r){if(0!==r.hiLevel&&l)for(var i,s=0;s<e.length;s++)1===t[s]&&(i=m.indexOf(e[s]))>=0&&(e[s]=m[i+1])}(i,r,s),N(2,i,t,r,s),N(1,i,t,r,s),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===n&&(n=v(e)),void 0===o&&(o=v(e))}(e,t),s||!a||o)if(s&&a&&n^o)x=n?1:0,e=w(e,t,r);else if(!s&&a&&o)x=n?1:0,e=k(e,t,r),e=w(e,t);else if(!s||n||a||o){if(s&&!a&&n^o)e=w(e,t),n?(x=0,e=k(e,t,r)):(x=1,e=k(e,t,r),e=w(e,t));else if(s&&n&&!a&&o)x=1,e=k(e,t,r),e=w(e,t);else if(!s&&!a&&n^o){var i=l;n?(x=1,e=k(e,t,r),x=0,l=!1,e=k(e,t,r),l=i):(x=0,e=k(e,t,r),e=w(e,t),x=1,l=!1,e=k(e,t,r),l=i,e=w(e,t))}}else x=0,e=k(e,t,r);else x=n?1:0,e=k(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,a=e.isOutputVisual,n=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=(e.x,e.y,e.options||{}),s=(e.mutex,i.lang,[]);if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,r.setOptions(i),"[object Array]"===Object.prototype.toString.call(t)){var n=0;for(s=[],n=0;n<t.length;n+=1)"[object Array]"===Object.prototype.toString.call(t[n])?s.push([r.doBidiReorder(t[n][0]),t[n][1],t[n][2]]):s.push([r.doBidiReorder(t[n])]);e.text=s}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(To),To.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Xl(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new yc(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ec(this.contents),this.head=new ic(this),this.name=new dc(this),this.cmap=new nc(this),this.toUnicode={},this.hhea=new ac(this),this.maxp=new uc(this),this.hmtx=new hc(this),this.post=new lc(this),this.os2=new oc(this),this.loca=new xc(this),this.glyf=new mc(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,i,s;for(s=[],t=0,r=(i=this.bbox).length;t<r;t++)e=i[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),!!(32768&(t=i>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var i,s,n,a;for(n=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),n+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return n*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var Jl,Xl=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,i,s,n,a,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^n)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*n+256*a+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},e}(),ec=function(){var e;function t(e){var t,r,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,i=this.tableCount;0<=i?r<i:r>i;r=0<=i?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,i,s,n,a,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),n=Math.floor(d/o),c=16*h-d,(i=new Xl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(n),i.writeShort(c),s=16*h,l=i.pos+s,a=null,p=[],t)for(u=t[m],i.writeString(m),i.writeInt(e(u)),i.writeInt(l),i.writeInt(u.length),p=p.concat(u),"head"===m&&(a=l),l+=u.length;l%4;)p.push(0),l++;return i.write(p),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(e){var t,r,i,s;for(e=pc.call(e);e.length%4;)e.push(0);for(i=new Xl(e),r=0,t=0,s=e.length;t<s;t=t+=4)r+=i.readUInt32();return 4294967295&r},t}(),tc={}.hasOwnProperty,rc=function(e,t){for(var r in t)tc.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Jl=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var ic=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Xl).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),sc=function(){function e(e,t){var r,i,s,n,a,o,l,c,d,u,h,p,m,f,g,x,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,s=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,m=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),i=(this.length-e.pos+this.offset)/2,a=function(){var t,r;for(r=[],o=t=0;0<=i?t<i:t>i;o=0<=i?++t:--t)r.push(e.readUInt16());return r}(),o=g=0,y=s.length;g<y;o=++g)for(f=s[o],r=x=p=m[o];p<=f?x<=f:x>=f;r=p<=f?++x:--x)0===c[o]?n=r+l[o]:0!==(n=a[c[o]/2+(r-p)-(u-o)]||0)&&(n+=l[o]),this.codeMap[r]=65535&n}e.pos=d}return e.encode=function(e,t){var r,i,s,n,a,o,l,c,d,u,h,p,m,f,g,x,y,v,b,w,_,N,k,j,S,P,L,A,C,I,T,F,E,O,M,R,D,B,z,q,U,H,W,$,V,Z;switch(A=new Xl,n=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},s={},C=0,E=n.length;C<E;C++)null==x[W=e[i=n[C]]]&&(x[W]=++m),s[i]={old:e[i],new:x[e[i]]},f[i]=x[e[i]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(f),{charMap:s,subtable:A.data,maxGlyphID:m+1};case"unicode":for(P=[],d=[],y=0,x={},r={},g=l=null,I=0,O=n.length;I<O;I++)null==x[b=e[i=n[I]]]&&(x[b]=++y),r[i]={old:b,new:x[b]},a=x[b]-i,null!=g&&a===l||(g&&d.push(g),P.push(i),l=a),g=i;for(g&&d.push(g),d.push(65535),P.push(65535),j=2*(k=P.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,_=2*k-N,o=[],w=[],h=[],p=T=0,M=P.length;T<M;p=++T){if(S=P[p],c=d[p],65535===S){o.push(0),w.push(0);break}if(S-(L=r[S].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),i=F=S;S<=c?F<=c:F>=c;i=S<=c?++F:--F)h.push(r[i].new);else o.push(L-S),w.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*k+2*h.length),A.writeUInt16(0),A.writeUInt16(j),A.writeUInt16(N),A.writeUInt16(u),A.writeUInt16(_),U=0,R=d.length;U<R;U++)i=d[U],A.writeUInt16(i);for(A.writeUInt16(0),H=0,D=P.length;H<D;H++)i=P[H],A.writeUInt16(i);for($=0,B=o.length;$<B;$++)a=o[$],A.writeUInt16(a);for(V=0,z=w.length;V<z;V++)v=w[V],A.writeUInt16(v);for(Z=0,q=h.length;Z<q;Z++)m=h[Z],A.writeUInt16(m);return{charMap:r,subtable:A.data,maxGlyphID:y+1}}},e}(),nc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new sc(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,i;return null==t&&(t="macroman"),r=sc.encode(e,t),(i=new Xl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),ac=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),oc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),lc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,i;for(i=[],s=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;s=0<=r?++t:--t)i.push(e.readUInt32());return i}.call(this)}},e}(),cc=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},dc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,i,s,n,a,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,l=e.readString(i.length),n=new cc(l,i),null==o[u=i.nameID]&&(o[u]=[]),o[i.nameID].push(n);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(h){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),uc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),hc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,i,s,n,a,o;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,s;for(s=[],t=r=0;0<=i?r<i:r>i;t=0<=i?++r:--r)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,r,i;for(i=[],e=0,t=(r=this.metrics).length;e<t;e++)s=r[e],i.push(s.advance);return i}.call(this),r=this.widths[this.widths.length-1],o=[],t=n=0;0<=i?n<i:n>i;t=0<=i?++n:--n)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),pc=[].slice,mc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,i,s,n,a,o,l,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),0===(i=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,n=(a=new Xl(t.read(i))).readShort(),l=a.readShort(),d=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[e]=-1===n?new gc(a,l,d,o,c):new fc(a,n,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,r){var i,s,n,a,o;for(n=[],s=[],a=0,o=t.length;a<o;a++)i=e[t[a]],s.push(n.length),i&&(n=n.concat(i.encode(r)));return s.push(n.length),{table:n,offsets:s}},e}(),fc=function(){function e(e,t,r,i,s,n){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=n,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gc=function(){function e(e,t,r,i,s){var n,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],n=this.raw;a=n.readShort(),this.glyphOffsets.push(n.pos),this.glyphIDs.push(n.readUInt16()),32&a;)n.pos+=1&a?4:2,128&a?n.pos+=8:64&a?n.pos+=4:8&a&&(n.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new Xl(pc.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),xc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rc(e,Jl),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,i;for(i=[],r=0,t=this.length;r<t;r+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var t,i;for(i=[],r=0,t=this.length;r<t;r+=4)i.push(e.readUInt32());return i}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,n=0;n<r.length;++n)if(r[n]=i,s<t.length&&t[s]==n){++s,r[n]=i;var a=this.offsets[n],o=this.offsets[n+1]-a;o>0&&(i+=o)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},e}(),yc=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},e.prototype.glyphsFor=function(e){var t,r,i,s,n,a,o;for(i={},n=0,a=e.length;n<a;n++)i[s=e[n]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(null!=(r=i[s])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in o=this.glyphsFor(t))r=o[s],i[s]=r;return i},e.prototype.encode=function(e,t){var r,i,s,n,a,o,l,c,d,u,h,p,m,f,g;for(i in r=nc.encode(this.generateCmap(),"unicode"),n=this.glyphsFor(e),h={0:0},g=r.charMap)h[(o=g[i]).old]=o.new;for(p in u=r.maxGlyphID,n)p in h||(h[p]=u++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,r;for(r=[],e=0,t=d.length;e<t;e++)a=d[e],r.push(c[a]);return r}(),s=this.font.glyf.encode(n,m,h),l=this.font.loca.encode(s.offsets,m),f={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();To.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var i,s,n,a;if(Array.isArray(r))return"["+function(){var e,s,n;for(n=[],e=0,s=r.length;e<s;e++)i=r[e],n.push(t.convert(i));return n}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(s in n=["<<"],r)a=r[s],n.push("/"+s+" "+t.convert(a));return n.push(">>"),n.join("\n")}return""+r},t}();const vc=a(Object.freeze(Object.defineProperty({__proto__:null,AcroForm:_l,AcroFormAppearance:yl,AcroFormButton:ul,AcroFormCheckBox:fl,AcroFormChoiceField:ol,AcroFormComboBox:cl,AcroFormEditBox:dl,AcroFormListBox:ll,AcroFormPasswordField:xl,AcroFormPushButton:hl,AcroFormRadioButton:pl,AcroFormTextField:gl,GState:Lo,ShadingPattern:Co,TilingPattern:Io,default:To,jsPDF:To},Symbol.toStringTag,{value:"Module"})));
/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var bc;"undefined"!=typeof globalThis?globalThis:void 0!==o||("undefined"!=typeof window?window:"undefined"!=typeof self&&self),bc=function(e){return function(){var t={172:function(e,t){var r=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CellHookData=t.HookData=void 0;var i=function(){return function(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.pageCount=this.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}}();t.HookData=i;var s=function(e){function t(t,r,i,s,n,a){var o=e.call(this,t,r,a)||this;return o.cell=i,o.row=s,o.column=n,o.section=s.section,o}return r(t,e),t}(i);t.CellHookData=s},340:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(136),n=r(744),a=r(776),o=r(664),l=r(972);t.default=function(e){e.API.autoTable=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];1===t.length?e=t[0]:(console.error("Use of deprecated autoTable initiation"),(e=t[2]||{}).columns=t[0],e.body=t[1]);var i=(0,a.parseInput)(this,e),s=(0,l.createTable)(this,i);return(0,o.drawTable)(this,s),this},e.API.lastAutoTable=!1,e.API.previousAutoTable=!1,e.API.autoTable.previous=!1,e.API.autoTableText=function(e,t,r,i){(0,s.default)(e,t,r,i,this)},e.API.autoTableSetDefaults=function(e){return n.DocHandler.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){n.DocHandler.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var r;if(void 0===t&&(t=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new n.DocHandler(this),a=(0,i.parseHtml)(s,e,window,t,!1),o=a.head,l=a.body;return{columns:(null===(r=o[0])||void 0===r?void 0:r.map(function(e){return e.content}))||[],rows:l,data:l}},e.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var e=this.lastAutoTable;return e&&e.finalY?e.finalY:0},e.API.autoTableAddPageContent=function(t){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),e.API.autoTable.globalDefaults||(e.API.autoTable.globalDefaults={}),e.API.autoTable.globalDefaults.addPageContent=t,this},e.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i,s){i=i||{};var n=s.internal.scaleFactor,a=s.internal.getFontSize()/n,o=a*(s.getLineHeightFactor?s.getLineHeightFactor():1.15),l="",c=1;if("middle"!==i.valign&&"bottom"!==i.valign&&"center"!==i.halign&&"right"!==i.halign||(c=(l="string"==typeof e?e.split(/\r\n|\r|\n/g):e).length||1),r+=a*(2-1.15),"middle"===i.valign?r-=c/2*o:"bottom"===i.valign&&(r-=c*o),"center"===i.halign||"right"===i.halign){var d=a;if("center"===i.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)s.text(l[u],t-s.getStringUnitWidth(l[u])*d,r),r+=o;return s}t-=s.getStringUnitWidth(e)*d}return"justify"===i.halign?s.text(e,t,r,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(e,t,r),s}},420:function(e,t){function r(e,t){var r=e>0,i=t||0===t;return r&&i?"DF":r?"S":i?"F":null}function i(e,t){var r,i,s,n;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"==typeof e?("number"==typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"==typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(r=e.left)&&void 0!==r?r:t,top:null!==(i=e.top)&&void 0!==i?i:t,right:null!==(s=e.right)&&void 0!==s?s:t,bottom:null!==(n=e.bottom)&&void 0!==n?n:t}):("number"!=typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageAvailableWidth=t.parseSpacing=t.getFillStyle=t.addTableBorder=t.getStringWidth=void 0,t.getStringWidth=function(e,t,r){return r.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return r.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)},t.addTableBorder=function(e,t,i,s){var n=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:a});var o=r(n,!1);o&&e.rect(i.x,i.y,t.getWidth(e.pageSize().width),s.y-i.y,o)},t.getFillStyle=r,t.parseSpacing=i,t.getPageAvailableWidth=function(e,t){var r=i(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}},796:function(e,t){var r=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getTheme=t.defaultStyles=t.HtmlRowInput=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r}return r(t,e),t}(Array);t.HtmlRowInput=i,t.defaultStyles=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},t.getTheme=function(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[e]}},903:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=void 0;var i=r(420);function s(e,t){var r=n(e,t);if(!r)return null;var i=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])];return 0===parseInt(i[4])||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function n(e,t){var r=t(e);return"rgba(0, 0, 0, 0)"===r||"transparent"===r||"initial"===r||"inherit"===r?null==e.parentElement?null:n(e.parentElement,t):r}t.parseCss=function(e,t,r,n,a){var o={},l=96/72,c=s(t,function(e){return a.getComputedStyle(e).backgroundColor});null!=c&&(o.fillColor=c);var d=s(t,function(e){return a.getComputedStyle(e).color});null!=d&&(o.textColor=d);var u=function(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],s=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(e){return parseInt(e||"0")/s}),o=(0,i.parseSpacing)(a,0);return n>o.top&&(o.top=n),n>o.bottom&&(o.bottom=n),o}(n,r);u&&(o.cellPadding=u);var h="borderTopColor",p=l*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var f=(parseFloat(m)||0)/p;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},o.lineWidth.top||(o.lineWidth.right?h="borderRightColor":o.lineWidth.bottom?h="borderBottomColor":o.lineWidth.left&&(h="borderLeftColor"));var g=s(t,function(e){return a.getComputedStyle(e)[h]});null!=g&&(o.lineColor=g);var x=["left","right","center","justify"];-1!==x.indexOf(n.textAlign)&&(o.halign=n.textAlign),-1!==(x=["middle","bottom","top"]).indexOf(n.verticalAlign)&&(o.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(o.fontSize=y/l);var v=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(n);v&&(o.fontStyle=v);var b=(n.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(o.font=b),o}},744:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocHandler=void 0;var r={},i=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:r=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e,e]:"string"==typeof e?[e]:null},e.prototype.applyStyles=function(t,r){var i,s,n;void 0===r&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(i=this.jsPDFDocument).setFillColor.apply(i,d),(d=e.unifyColor(t.textColor))&&(s=this.jsPDFDocument).setTextColor.apply(s,d),(d=e.unifyColor(t.lineColor))&&(n=this.jsPDFDocument).setDrawColor.apply(n,d),"number"==typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},e.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return r||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}();t.DocHandler=i},4:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=void 0;var i=r(903),s=r(796);function n(e,t,r,n,o,l){for(var c=new s.HtmlRowInput(n),d=0;d<n.cells.length;d++){var u=n.cells[d],h=r.getComputedStyle(u);if(o||"none"!==h.display){var p=void 0;l&&(p=(0,i.parseCss)(e,u,t,h,r)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:a(u)})}}var m=r.getComputedStyle(n);if(c.length>0&&(o||"none"!==m.display))return c}function a(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}t.parseHtml=function(e,t,r,i,s){var a,o,l;void 0===i&&(i=!1),void 0===s&&(s=!1),l="string"==typeof t?r.document.querySelector(t):t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:p};for(var m=0;m<l.rows.length;m++){var f=l.rows[m],g=null===(o=null===(a=null==f?void 0:f.parentElement)||void 0===a?void 0:a.tagName)||void 0===o?void 0:o.toLowerCase(),x=n(c,d,r,f,i,s);x&&("thead"===g?u.push(x):"tfoot"===g?p.push(x):h.push(x))}return{head:u,body:h,foot:p}}},776:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=void 0;var i=r(4),s=r(356),n=r(420),a=r(744),o=r(792);t.parseInput=function(e,t){var r=new a.DocHandler(e),l=r.getDocumentOptions(),c=r.getGlobalOptions();(0,o.default)(r,c,l,t);var d,u=(0,s.assign)({},c,l,t);"undefined"!=typeof window&&(d=window);var h=function(e,t,r){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(n){if("columnStyles"===n){var a=e[n],o=t[n],l=r[n];i.columnStyles=(0,s.assign)({},a,o,l)}else{var c=[e,t,r].map(function(e){return e[n]||{}});i[n]=(0,s.assign)({},c[0],c[1],c[2])}},a=0,o=Object.keys(i);a<o.length;a++)n(o[a]);return i}(c,l,t),p=function(e,t,r){for(var i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,n=[e,t,r];s<n.length;s++){var a=n[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}(c,l,t),m=function(e,t){var r,i,s,a,o,l,c,d,u,h,p,m,f,g,x=(0,n.parseSpacing)(t.margin,40/e.scaleFactor()),y=null!==(r=function(e,t){var r=e.getLastAutoTable(),i=e.scaleFactor(),s=e.pageNumber(),n=!1;return r&&r.startPageNumber&&(n=r.startPageNumber+r.pageNumber-1===s),"number"==typeof t?t:null!=t&&!1!==t||!n||null==(null==r?void 0:r.finalY)?null:r.finalY+20/i}(e,t.startY))&&void 0!==r?r:x.top;f=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(i=t.showFoot)&&void 0!==i?i:"everyPage",g=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(s=t.showHead)&&void 0!==s?s:"everyPage";var v=null!==(a=t.useCss)&&void 0!==a&&a,b=t.theme||(v?"plain":"striped"),w=!!t.horizontalPageBreak,_=null!==(o=t.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=t.includeHiddenHtml)&&void 0!==l&&l,useCss:v,theme:b,startY:y,margin:x,pageBreak:null!==(c=t.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(d=t.rowPageBreak)&&void 0!==d?d:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:f,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(p=t.tableLineColor)&&void 0!==p?p:200,horizontalPageBreak:w,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:null!==(m=t.horizontalPageBreakBehaviour)&&void 0!==m?m:"afterAllRows"}}(r,u),f=function(e,t,r){var s=t.head||[],n=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=(0,i.parseHtml)(e,t.html,r,o,t.useCss)||{};s=l.head||s,n=l.body||s,a=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=t.columns||function(e,t,r){var i=e[0]||t[0]||r[0]||[],s=[];return Object.keys(i).filter(function(e){return"_element"!==e}).forEach(function(e){var t,r=1;"object"!=typeof(t=Array.isArray(i)?i[parseInt(e)]:i[e])||Array.isArray(t)||(r=(null==t?void 0:t.colSpan)||1);for(var n=0;n<r;n++){var a={dataKey:Array.isArray(i)?s.length:e+(n>0?"_".concat(n):"")};s.push(a)}}),s}(s,n,a);return{columns:c,head:s,body:n,foot:a}}(r,u,d);return{id:t.tableId,content:f,hooks:p,styles:h,settings:m}}},792:function(e,t){function r(e){e.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),e.minCellHeight||(e.minCellHeight=e.rowHeight)):e.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),e.cellWidth||(e.cellWidth=e.columnWidth))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,s){for(var n=function(t){t&&"object"!=typeof t&&console.error("The options parameter should be of type object, is: "+typeof t),void 0!==t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==t.margins&&(void 0===t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&"number"!=typeof t.startY&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(r){e.applyStyles(e.userStyles),t.beforePageContent&&t.beforePageContent(r),e.applyStyles(e.userStyles),t.afterPageContent&&t.afterPageContent(r),e.applyStyles(e.userStyles),t.afterPageAdd&&r.pageNumber>1&&r.afterPageAdd(r),e.applyStyles(e.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(e){t[e]&&console.error('The "'.concat(e,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(e){var r=e[0],i=e[1];t[i]&&(console.error("Use of deprecated option ".concat(i,". Use ").concat(r," instead")),t[r]=t[i])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(e){var r="string"==typeof e?e:e[0],i="string"==typeof e?e:e[1];void 0!==t[r]&&(void 0===t.styles[i]&&(t.styles[i]=t[r]),console.error("Use of deprecated option: "+r+", use the style "+i+" instead."))});for(var i=0,s=["styles","bodyStyles","headStyles","footStyles"];i<s.length;i++)r(t[s[i]]||{});for(var n=t.columnStyles||{},a=0,o=Object.keys(n);a<o.length;a++)r(n[o[a]]||{})},a=0,o=[t,i,s];a<o.length;a++)n(o[a])}},260:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Column=t.Cell=t.Row=t.Table=void 0;var i=r(796),s=r(172),n=r(420),a=function(){function e(e,t){this.pageNumber=1,this.pageCount=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,r,i,n,a){for(var o=0,l=t;o<l.length;o++){var c=!1===(0,l[o])(new s.CellHookData(e,this,r,i,n,a));if(r.text=Array.isArray(r.text)?r.text:[r.text],c)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++)(0,i[r])(new s.HookData(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++)(0,i[r])(new s.HookData(e,this,t))},e.prototype.getWidth=function(e){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}();t.Table=a;var o=function(){function e(e,t,r,s,n){void 0===n&&(n=!1),this.height=0,this.raw=e,e instanceof i.HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=n}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,r){var i;return Math.max(e,(null===(i=t.cells[r.index])||void 0===i?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var r=t.cells[e.index];return!!r&&r.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(e,i){var s=r.cells[i.index];if(!s)return 0;var n=t.getLineHeight(s.styles.fontSize),a=s.padding("vertical")+n;return a>e?a:e},0)},e}();t.Row=o;var l=function(){function e(e,t,r){var i,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var n=e;null==e||"object"!=typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,n=null!==(s=null!==(i=e.content)&&void 0!==i?i:e.title)&&void 0!==s?s:e,e._element&&(this.raw=e._element));var a=null!=n?""+n:"";this.text=a.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var i=this.width-this.padding("horizontal");t=this.x+i/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var r=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=(0,n.parseSpacing)(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}();t.Cell=l;var c=function(){function e(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r].cells[this.index];s&&"number"==typeof s.styles.cellWidth&&(t=Math.max(t,s.styles.cellWidth))}return t},e}();t.Column=c},356:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assign=void 0,t.assign=function(e,t,r,i,s){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n}},972:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=void 0;var i=r(744),s=r(260),n=r(324),a=r(796),o=r(356);function l(e,t,r,i,n,a){var o={};return t.map(function(t,l){for(var c=0,u={},h=0,p=0,m=0,f=r;m<f.length;m++){var g=f[m];if(null==o[g.index]||0===o[g.index].left)if(0===p){var x=void 0,y={};"object"!=typeof(x=Array.isArray(t)?t[g.index-h-c]:t[g.dataKey])||Array.isArray(x)||(y=(null==x?void 0:x.styles)||{});var v=d(e,g,l,n,i,a,y),b=new s.Cell(x,v,e);u[g.dataKey]=b,u[g.index]=b,p=b.colSpan-1,o[g.index]={left:b.rowSpan-1,times:p}}else p--,h++;else o[g.index].left--,p=o[g.index].times,c++}return new s.Row(t,l,e,u)})}function c(e,t){var r={};return e.forEach(function(e){if(null!=e.raw){var i=function(e,t){if("head"===e){if("object"==typeof t)return t.header||t.title||null;if("string"==typeof t||"number"==typeof t)return t}else if("foot"===e&&"object"==typeof t)return t.footer;return null}(t,e.raw);null!=i&&(r[e.dataKey]=i)}}),Object.keys(r).length>0?r:null}function d(e,t,r,i,s,n,l){var c,d=(0,a.getTheme)(i);"head"===e?c=s.headStyles:"body"===e?c=s.bodyStyles:"foot"===e&&(c=s.footStyles);var u=(0,o.assign)({},d.table,d[e],s.styles,c),h=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},p="body"===e?h:{},m="body"===e&&r%2==0?(0,o.assign)({},d.alternateRow,s.alternateRowStyles):{},f=(0,a.defaultStyles)(n),g=(0,o.assign)({},f,u,m,p);return(0,o.assign)(g,l)}t.createTable=function(e,t){var r=new i.DocHandler(e),a=function(e,t){var r,i=e.content,n=function(e){return e.map(function(e,t){var r,i,n;return n="object"==typeof e&&null!==(i=null!==(r=e.dataKey)&&void 0!==r?r:e.key)&&void 0!==i?i:t,new s.Column(n,e,t)})}(i.columns);0===i.head.length&&(r=c(n,"head"))&&i.head.push(r),0===i.foot.length&&(r=c(n,"foot"))&&i.foot.push(r);var a=e.settings.theme,o=e.styles;return{columns:n,head:l("head",i.head,n,o,a,t),body:l("body",i.body,n,o,a,t),foot:l("foot",i.foot,n,o,a,t)}}(t,r.scaleFactor()),o=new s.Table(t,a);return(0,n.calculateWidths)(r,o),r.applyStyles(r.userStyles),o}},664:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=t.drawTable=void 0;var i=r(420),s=r(260),n=r(744),a=r(356),o=r(136),l=r(224);function c(e,t,r,i){var s=t.settings;e.applyStyles(e.userStyles),"firstPage"!==s.showHead&&"everyPage"!==s.showHead||t.head.forEach(function(s){return m(e,t,s,r,i)})}function d(e,t,r,i,s,n){e.applyStyles(e.userStyles),n=null!=n?n:t.body.length;var a=Math.min(r+n,t.body.length),o=-1;return t.body.slice(r,a).forEach(function(n,a){var l=r+a===t.body.length-1,c=g(e,t,l,i);n.canEntireRowFit(c,s)&&(m(e,t,n,i,s),o=r+a)}),o}function u(e,t,r,i){var s=t.settings;e.applyStyles(e.userStyles),"lastPage"!==s.showFoot&&"everyPage"!==s.showFoot||t.foot.forEach(function(s){return m(e,t,s,r,i)})}function h(e,t,r){var i=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),n=Math.floor((t-s)/i);return Math.max(0,n)}function p(e,t,r,i,n,o,l){var c=g(e,t,i,o);if(r.canEntireRowFit(c,l))m(e,t,r,o,l);else if(function(e,t,r,i){var s=e.pageSize().height,n=i.settings.margin,a=s-(n.top+n.bottom);"body"===t.section&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var o=t.getMinimumRowHeight(i.columns,e),l=o<r;if(o>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(i.columns);return t.getMaxCellHeight(i.columns)>a?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==i.settings.rowPageBreak}(e,r,c,t)){var d=function(e,t,r,i){var n={};e.spansMultiplePages=!0,e.height=0;for(var o=0,l=0,c=r.columns;l<c.length;l++){var d=c[l];if(v=e.cells[d.index]){Array.isArray(v.text)||(v.text=[v.text]);var u=new s.Cell(v.raw,v.styles,v.section);(u=(0,a.assign)(u,v)).text=[];var p=h(v,t,i);v.text.length>p&&(u.text=v.text.splice(p,v.text.length));var m=i.scaleFactor(),f=i.getLineHeightFactor();v.contentHeight=v.getContentHeight(m,f),v.contentHeight>=t&&(v.contentHeight=t,u.styles.minCellHeight-=t),v.contentHeight>e.height&&(e.height=v.contentHeight),u.contentHeight=u.getContentHeight(m,f),u.contentHeight>o&&(o=u.contentHeight),n[d.index]=u}}var g=new s.Row(e.raw,-1,e.section,n,!0);g.height=o;for(var x=0,y=r.columns;x<y.length;x++){var v;d=y[x],(u=g.cells[d.index])&&(u.height=g.height),(v=e.cells[d.index])&&(v.height=e.height)}return g}(r,c,t,e);m(e,t,r,o,l),x(e,t,n,o,l),p(e,t,d,i,n,o,l)}else x(e,t,n,o,l),p(e,t,r,i,n,o,l)}function m(e,t,r,i,s){i.x=t.settings.margin.left;for(var n=0,a=s;n<a.length;n++){var l=a[n],c=r.cells[l.index];if(c)if(e.applyStyles(c.styles),c.x=i.x,c.y=i.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,i)){f(e,c,i);var d=c.getTextPos();(0,o.default)(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,i),i.x+=l.width}else i.x+=l.width;else i.x+=l.width}i.y+=r.height}function f(e,t,r){var s=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"==typeof s.lineWidth){var n=(0,i.getFillStyle)(s.lineWidth,s.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else"object"==typeof s.lineWidth&&(s.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),function(e,t,r,i){var s,n,a,o;function l(t,r,i,s,n){e.getDocument().setLineWidth(t),e.getDocument().line(r,i,s,n,"S")}i.top&&(s=r.x,n=r.y,a=r.x+t.width,o=r.y,i.right&&(a+=.5*i.right),i.left&&(s-=.5*i.left),l(i.top,s,n,a,o)),i.bottom&&(s=r.x,n=r.y+t.height,a=r.x+t.width,o=r.y+t.height,i.right&&(a+=.5*i.right),i.left&&(s-=.5*i.left),l(i.bottom,s,n,a,o)),i.left&&(s=r.x,n=r.y,a=r.x,o=r.y+t.height,i.top&&(n-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.left,s,n,a,o)),i.right&&(s=r.x+t.width,n=r.y,a=r.x+t.width,o=r.y+t.height,i.top&&(n-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.right,s,n,a,o))}(e,t,r,s.lineWidth))}function g(e,t,r,i){var s=t.settings.margin.bottom,n=t.settings.showFoot;return("everyPage"===n||"lastPage"===n&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-s}function x(e,t,r,s,n,a){void 0===n&&(n=[]),void 0===a&&(a=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||a||t.foot.forEach(function(r){return m(e,t,r,s,n)}),t.callEndPageHooks(e,s);var o=t.settings.margin;(0,i.addTableBorder)(e,t,r,s),y(e),t.pageNumber++,t.pageCount++,s.x=o.left,s.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,s),"everyPage"===t.settings.showHead&&(t.head.forEach(function(r){return m(e,t,r,s,n)}),e.applyStyles(e.userStyles))}function y(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}t.drawTable=function(e,t){var r=t.settings,s=r.startY,o=r.margin,h={x:o.left,y:s},f=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),g=s+o.bottom+f;"avoid"===r.pageBreak&&(g+=t.body.reduce(function(e,t){return e+t.height},0));var v=new n.DocHandler(e);("always"===r.pageBreak||null!=r.startY&&g>v.pageSize().height)&&(y(v),h.y=o.top),t.callWillDrawPageHooks(v,h);var b=(0,a.assign)({},h);t.startPageNumber=v.pageNumber(),r.horizontalPageBreak?function(e,t,r,i){var s=(0,l.calculateAllColumnsCanFitInPage)(e,t),n=t.settings;if("afterAllRows"===n.horizontalPageBreakBehaviour)s.forEach(function(s,n){e.applyStyles(e.userStyles),n>0?x(e,t,r,i,s.columns,!0):c(e,t,i,s.columns),function(e,t,r,i,s){e.applyStyles(e.userStyles),t.body.forEach(function(n,a){var o=a===t.body.length-1;p(e,t,n,o,r,i,s)})}(e,t,r,i,s.columns),u(e,t,i,s.columns)});else for(var a=-1,o=s[0],h=function(){var n=a;if(o){e.applyStyles(e.userStyles);var l=o.columns;a>=0?x(e,t,r,i,l,!0):c(e,t,i,l),n=d(e,t,a+1,i,l),u(e,t,i,l)}var h=n-a;s.slice(1).forEach(function(s){e.applyStyles(e.userStyles),x(e,t,r,i,s.columns,!0),d(e,t,a+1,i,s.columns,h),u(e,t,i,s.columns)}),a=n};a<t.body.length-1;)h()}(v,t,b,h):(v.applyStyles(v.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||t.head.forEach(function(e){return m(v,t,e,h,t.columns)}),v.applyStyles(v.userStyles),t.body.forEach(function(e,r){var i=r===t.body.length-1;p(v,t,e,i,b,h,t.columns)}),v.applyStyles(v.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||t.foot.forEach(function(e){return m(v,t,e,h,t.columns)})),(0,i.addTableBorder)(v,t,b,h),t.callEndPageHooks(v,h),t.finalY=h.y,e.lastAutoTable=t,e.previousAutoTable=t,e.autoTable&&(e.autoTable.previous=t),v.applyStyles(v.userStyles)},t.addPage=x},224:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAllColumnsCanFitInPage=void 0;var i=r(420);function s(e,t,r){var s;void 0===r&&(r={});var n=(0,i.getPageAvailableWidth)(e,t),a=new Map,o=[],l=[],c=[];t.settings.horizontalPageBreakRepeat,Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:"string"!=typeof t.settings.horizontalPageBreakRepeat&&"number"!=typeof t.settings.horizontalPageBreakRepeat||(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(e){var r=t.columns.find(function(t){return t.dataKey===e||t.index===e});r&&!a.has(r.index)&&(a.set(r.index,!0),o.push(r.index),l.push(t.columns[r.index]),n-=r.wrappedWidth)});for(var d=!0,u=null!==(s=null==r?void 0:r.start)&&void 0!==s?s:0;u<t.columns.length;)if(a.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(d||n>=h))break;d=!1,o.push(u),l.push(t.columns[u]),n-=h,u++}return{colIndexes:o,columns:l,lastIndex:u-1}}t.calculateAllColumnsCanFitInPage=function(e,t){for(var r=[],i=0;i<t.columns.length;i++){var n=s(e,t,{start:i});n.columns.length&&(r.push(n),i=n.lastIndex)}return r}},324:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ellipsize=t.resizeColumns=t.calculateWidths=void 0;var i=r(420);function s(e,t,r){for(var i=t,n=e.reduce(function(e,t){return e+t.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],l=i*(o.wrappedWidth/n),c=o.width+l,d=r(o),u=c<d?d:c;t-=u-o.width,o.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter(function(e){return!(t<0)||e.width>r(e)});h.length&&(t=s(h,t,r))}return t}function n(e,t,r,s,n){return e.map(function(e){return function(e,t,r,s,n){var a=1e4*s.scaleFactor();if((t=Math.ceil(t*a)/a)>=(0,i.getStringWidth)(e,r,s))return e;for(;t<(0,i.getStringWidth)(e+n,r,s)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}(e,t,r,s,n)})}t.calculateWidths=function(e,t){!function(e,t){var r=e.scaleFactor(),s=t.settings.horizontalPageBreak,n=(0,i.getPageAvailableWidth)(e,t);t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,a,c,null);var h=d.padding("horizontal");d.contentWidth=(0,i.getStringWidth)(d.text,d.styles,e)+h;var p=(0,i.getStringWidth)(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),"number"==typeof d.styles.cellWidth)d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if("wrap"===d.styles.cellWidth||!0===s)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/r;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(e){for(var r=0,i=t.columns;r<i.length;r++){var s=i[r],n=e.cells[s.index];if(n&&1===n.colSpan)s.wrappedWidth=Math.max(s.wrappedWidth,n.wrappedWidth),s.minWidth=Math.max(s.minWidth,n.minWidth),s.minReadableWidth=Math.max(s.minReadableWidth,n.minReadableWidth);else{var a=t.styles.columnStyles[s.dataKey]||t.styles.columnStyles[s.index]||{},o=a.cellWidth||a.minCellWidth;o&&"number"==typeof o&&(s.minWidth=o,s.wrappedWidth=o)}n&&(n.colSpan>1&&!s.minWidth&&(s.minWidth=n.minWidth),n.colSpan>1&&!s.wrappedWidth&&(s.wrappedWidth=n.minWidth))}})}(e,t);var r=[],a=0;t.columns.forEach(function(e){var i=e.getMaxCustomCellWidth(t);i?e.width=i:(e.width=e.wrappedWidth,r.push(e)),a+=e.width});var o=t.getWidth(e.pageSize().width)-a;o&&(o=s(r,o,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),o&&(o=s(r,o,function(e){return e.minWidth})),o=Math.abs(o),!t.settings.horizontalPageBreak&&o>.1/e.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var i=t[r],s=null,n=0,a=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((a-=1)>1&&e.columns[o+1])n+=l.width,delete i.cells[l.index];else if(s){var c=s;delete i.cells[l.index],s=null,c.width=l.width+n}else{if(!(c=i.cells[l.index]))continue;if(a=c.colSpan,n=0,c.colSpan>1){s=c,n+=l.width;continue}c.width=l.width+n}}}(t),function(e,t){for(var r={count:0,height:0},i=0,s=e.allRows();i<s.length;i++){for(var a=s[i],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if("linebreak"===d.styles.overflow)d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if("ellipsize"===d.styles.overflow)d.text=n(d.text,u,d.styles,t,"...");else if("hidden"===d.styles.overflow)d.text=n(d.text,u,d.styles,t,"");else if("function"==typeof d.styles.overflow){var h=d.styles.overflow(d.text,u);d.text="string"==typeof h?[h]:h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<p*d.rowSpan?r={height:p,count:d.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>a.height&&(a.height=p)}}r.count--}}(t,e),function(e){for(var t={},r=1,i=e.allRows(),s=0;s<i.length;s++)for(var n=i[s],a=0,o=e.columns;a<o.length;a++){var l=o[a],c=t[l.index];if(r>1)r--,delete n.cells[l.index];else if(c)c.cell.height+=n.height,r=c.cell.colSpan,delete n.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=n.cells[l.index];if(!d)continue;if(d.height=n.height,d.rowSpan>1){var u=i.length-s,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:n}}}}}(t)},t.resizeColumns=s,t.ellipsize=n},964:function(t){if(void 0===e){var r=new Error("Cannot find module 'undefined'");throw r.code="MODULE_NOT_FOUND",r}t.exports=e}},r={};function i(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}};return t[e].call(n.exports,n,n.exports,i),n.exports}var s={};return function(){var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.Cell=e.Column=e.Row=e.Table=e.CellHookData=e.__drawTable=e.__createTable=e.applyPlugin=void 0;var t=i(340),r=i(776),n=i(664),a=i(972),o=i(260);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return o.Table}});var l=i(172);Object.defineProperty(e,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=i(260);function d(e){(0,t.default)(e)}Object.defineProperty(e,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(e,"Row",{enumerable:!0,get:function(){return c.Row}}),e.applyPlugin=d,e.__createTable=function(e,t){var i=(0,r.parseInput)(e,t);return(0,a.createTable)(e,i)},e.__drawTable=function(e,t){(0,n.drawTable)(e,t)};try{var u=i(964);u.jsPDF&&(u=u.jsPDF),d(u)}catch(uu){}e.default=function(e,t){var i=(0,r.parseInput)(e,t),s=(0,a.createTable)(e,i);(0,n.drawTable)(e,s)}}(),s}()},bc(function(){try{return vc}catch(wl){}}());const wc=(e,t)=>{try{const t=(e=>{var t;try{const r=new To;r.setFontSize(20),r.setFont("helvetica","bold"),r.text("BAAZAR DOST",105,20,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text("Your Trusted Local Marketplace",105,28,{align:"center"}),r.text("Email: support@baazardost.com | Phone: +91-9876543210",105,35,{align:"center"}),r.line(20,40,190,40),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("INVOICE",20,50),r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Invoice No: INV-${e.id.slice(-8).toUpperCase()}`,20,60),r.text(`Date: ${e.createdAt?e.createdAt.toLocaleDateString():(new Date).toLocaleDateString()}`,20,67),r.text(`Status: ${e.status.toUpperCase()}`,20,74),r.text(`Payment: ${(null==(t=e.paymentMethod)?void 0:t.replace("_"," ").toUpperCase())||"CASH ON DELIVERY"}`,20,81),r.text("BILL TO:",120,60),r.text(`Customer ID: ${e.userId.slice(-8).toUpperCase()}`,120,67),r.text(`Email: ${e.userEmail||"N/A"}`,120,74),r.text(`Address: ${e.deliveryAddress||"Default Address"}`,120,81);const i=95,s=e.items.map(e=>[e.name,e.quantity.toString(),e.unit||"piece",`₹${e.price.toFixed(2)}`,`₹${(e.price*e.quantity).toFixed(2)}`]);r.autoTable({startY:i,head:[["Product","Qty","Unit","Rate","Amount"]],body:s,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:70},1:{cellWidth:20,halign:"center"},2:{cellWidth:25,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:35,halign:"right"}}});const n=r.lastAutoTable.finalY+10;r.rect(120,n,70,35),r.setFont("helvetica","normal"),r.text(`Subtotal: ₹${e.summary.subtotal.toFixed(2)}`,125,n+8),r.text(`Tax (${(e.summary.tax/e.summary.subtotal*100).toFixed(1)}%): ₹${e.summary.tax.toFixed(2)}`,125,n+16),r.setFont("helvetica","bold"),r.text(`Total: ₹${e.summary.total.toFixed(2)}`,125,n+28);const a=n+50;return r.setFontSize(8),r.setFont("helvetica","italic"),r.text("Thank you for choosing Baazar Dost!",105,a,{align:"center"}),r.text("Terms: Payment due within 30 days. Late payments may incur charges.",105,a+7,{align:"center"}),r.text("For support, contact us at support@baazardost.com",105,a+14,{align:"center"}),r}catch(uu){return console.error("Error generating bill:",uu),null}})(e);if(!t)return!1;const r=`Invoice_${e.id.slice(-8)}_${(new Date).toISOString().split("T")[0]}.pdf`;return t.save(r),!0}catch(uu){return console.error("Error downloading bill:",uu),!1}},_c=(e,t)=>{try{const r=((e,t)=>{try{const r=new To;r.setFontSize(20),r.setFont("helvetica","bold"),r.text("BAAZAR DOST",105,20,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text("Supplier Commission Statement",105,28,{align:"center"}),r.line(20,40,190,40),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("COMMISSION STATEMENT",20,50),r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Statement No: COMM-${e.id.slice(-8).toUpperCase()}`,20,60),r.text(`Date: ${e.createdAt?e.createdAt.toLocaleDateString():(new Date).toLocaleDateString()}`,20,67),r.text(`Order ID: ${e.id.slice(-8).toUpperCase()}`,20,74),r.text("SUPPLIER:",120,60),r.text(`Business: ${(null==t?void 0:t.businessName)||"N/A"}`,120,67),r.text(`Contact: ${(null==t?void 0:t.phone)||"N/A"}`,120,74),r.text(`Email: ${(null==t?void 0:t.email)||"N/A"}`,120,81);const i=e.items.filter(e=>e.supplierId===(null==t?void 0:t.uid)||e.supplierName===(null==t?void 0:t.businessName)),s=95,n=.15,a=i.map(e=>{const t=e.price*e.quantity,r=t*n,i=t-r;return[e.name,e.quantity.toString(),`₹${e.price.toFixed(2)}`,`₹${t.toFixed(2)}`,`₹${r.toFixed(2)}`,`₹${i.toFixed(2)}`]});r.autoTable({startY:s,head:[["Product","Qty","Rate","Total","Commission (15%)","Your Earning"]],body:a,theme:"grid",headStyles:{fillColor:[46,125,50],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3}});const o=r.lastAutoTable.finalY+10,l=i.reduce((e,t)=>e+t.price*t.quantity,0),c=l*n,d=l-c;r.rect(120,o,70,35),r.setFont("helvetica","normal"),r.text(`Total Sales: ₹${l.toFixed(2)}`,125,o+8),r.text(`Commission: ₹${c.toFixed(2)}`,125,o+16),r.setFont("helvetica","bold"),r.text(`Your Earning: ₹${d.toFixed(2)}`,125,o+28);const u=o+50;return r.setFontSize(8),r.setFont("helvetica","italic"),r.text("Commission will be credited to your account within 3-5 business days.",105,u,{align:"center"}),r.text("For queries, contact us at suppliers@baazardost.com",105,u+7,{align:"center"}),r}catch(uu){return console.error("Error generating supplier bill:",uu),null}})(e,t);if(!r)return!1;const i=`Commission_${e.id.slice(-8)}_${(new Date).toISOString().split("T")[0]}.pdf`;return r.save(i),!0}catch(uu){return console.error("Error downloading supplier bill:",uu),!1}},Nc=()=>{const{t:e}=yi(),{user:t,userProfile:i}=hn(),[s,n]=r.useState([]),[a,o]=r.useState(!0),[l,d]=r.useState("all"),[h,p]=r.useState(null),g=e=>{try{let t;t="supplier"===(null==i?void 0:i.role)?_c(e,i):wc(e),t?c.success("Bill downloaded successfully!"):c.error("Failed to download bill")}catch(uu){console.error("Error downloading bill:",uu),c.error("Failed to download bill")}};r.useEffect(()=>{t&&i?(console.log("OrdersPage: Loading orders for user:",t.uid,"Role:",null==i?void 0:i.role),x()):console.log("OrdersPage: Waiting for user and userProfile to load")},[t,i]);const x=async()=>{try{o(!0),console.log("Loading orders for user:",t.uid,"Role:",null==i?void 0:i.role);const e=xt(on,"orders");let r;"supplier"===(null==i?void 0:i.role)?(console.log("Loading all orders for supplier filtering"),r=yt(e)):(console.log("Loading customer orders only"),r=yt(e,vt("userId","==",t.uid)));const s=await bt(r);console.log("Raw query results:",s.docs.length,"documents");let a=s.docs.map(e=>{var t,r;const i=e.data();return console.log("Order document:",e.id,i),{id:e.id,...i,createdAt:(null==(t=i.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=i.updatedAt)?void 0:r.toDate())||new Date}});"supplier"===(null==i?void 0:i.role)&&(console.log("Supplier filtering orders. Total orders:",a.length),console.log("Supplier ID:",t.uid),console.log("Business Name:",null==i?void 0:i.businessName),a=a.filter(e=>{const r=e.items&&e.items.some(e=>e.supplierId===t.uid||e.supplierName===(null==i?void 0:i.businessName));return console.log(`Order ${e.id} has supplier items:`,r),r}).map(e=>({...e,items:e.items.filter(e=>e.supplierId===t.uid||e.supplierName===(null==i?void 0:i.businessName))})),console.log("Filtered orders for supplier:",a.length)),a.sort((e,t)=>{const r=e.createdAt||new Date(0);return(t.createdAt||new Date(0)).getTime()-r.getTime()}),n(a),console.log("Final orders set:",a.length)}catch(uu){console.error("Error loading orders:",uu),console.error("Error details:",uu.message),"permission-denied"===uu.code?c.error("Permission denied. Please check your account access."):"unavailable"===uu.code?c.error("Service temporarily unavailable. Please try again."):c.error(`Failed to load orders: ${uu.message}`),n([]),null==i||i.role}finally{o(!1)}},y=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},v=e=>{switch(e){case"pending":return Dt.jsx(N,{className:"w-4 h-4"});case"confirmed":default:return Dt.jsx(m,{className:"w-4 h-4"});case"delivered":return Dt.jsx(w,{className:"w-4 h-4"});case"cancelled":return Dt.jsx(ue,{className:"w-4 h-4"})}},b=s.filter(e=>"all"===l||e.status===l);return a?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsx("div",{className:"flex justify-center items-center h-64",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Dt.jsxs("div",{children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"supplier"===(null==i?void 0:i.role)?"Product Orders":e("orders.title")}),"supplier"===(null==i?void 0:i.role)&&Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Orders containing your products"})]}),Dt.jsxs("div",{className:"flex items-center space-x-4",children:["supplier"===(null==i?void 0:i.role)&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("button",{onClick:async()=>{try{console.log("Creating test order for supplier:",t.uid,null==i?void 0:i.businessName);const e={userId:"test-customer-"+Date.now(),userEmail:"customer@test.com",items:[{productId:"panipuri-kit-complete",name:"Complete Panipuri Kit",price:150,quantity:2,orderType:"unit",unit:"kit (100 pieces)",supplierId:t.uid,supplierName:(null==i?void 0:i.businessName)||"Test Supplier"},{productId:"wheat-flour-10kg",name:"Wheat Flour (10kg)",price:750,quantity:1,orderType:"bulk",unit:"10kg",supplierId:t.uid,supplierName:(null==i?void 0:i.businessName)||"Test Supplier"}],summary:{subtotal:1050,tax:52.5,total:1102.5,itemCount:3},status:"pending",createdAt:ot(),updatedAt:ot(),deliveryAddress:"Test Address, Test City, Test State - 123456",paymentMethod:"cash_on_delivery",estimatedDelivery:new Date(Date.now()+864e5)};console.log("Test order data:",e);const r=await wt(xt(on,"orders"),e);console.log("Test order created with ID:",r.id),c.success("Test order created successfully!"),setTimeout(()=>{x()},1e3)}catch(uu){console.error("Error creating test order:",uu),c.error(`Failed to create test order: ${uu.message}`)}},className:"flex items-center space-x-2 text-green-600 hover:text-green-700 bg-green-50 px-3 py-2 rounded-lg",children:[Dt.jsx(m,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Create Test Order"})]}),Dt.jsxs("button",{onClick:()=>{console.log("=== DEBUG USER INFO ==="),console.log("User:",t),console.log("User Profile:",i),console.log("User Role:",null==i?void 0:i.role),console.log("Business Name:",null==i?void 0:i.businessName),console.log("Firebase DB:",on),c.info("Check console for debug information")},className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 bg-blue-50 px-3 py-2 rounded-lg",children:[Dt.jsx(oe,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Debug Info"})]}),Dt.jsxs("button",{onClick:()=>{const e={id:"test-order-"+Date.now(),userId:"test-customer",userEmail:"customer@test.com",items:[{name:"Test Product 1",quantity:2,unit:"kg",price:100,supplierId:t.uid,supplierName:(null==i?void 0:i.businessName)||"Test Supplier"},{name:"Test Product 2",quantity:1,unit:"piece",price:50,supplierId:t.uid,supplierName:(null==i?void 0:i.businessName)||"Test Supplier"}],summary:{subtotal:250,tax:12.5,total:262.5,itemCount:3},status:"completed",createdAt:new Date,deliveryAddress:"Test Address, Test City",paymentMethod:"cash_on_delivery"};null==i||i.role,g(e)},className:"flex items-center space-x-2 text-purple-600 hover:text-purple-700 bg-purple-50 px-3 py-2 rounded-lg",children:[Dt.jsx(le,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Test Bill"})]})]}),Dt.jsxs("button",{onClick:x,className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700",children:[Dt.jsx(u,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Refresh"})]})]})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Dt.jsx(K,{className:"w-5 h-5 text-gray-400"}),Dt.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by status:"})]}),Dt.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","confirmed","delivered","cancelled"].map(e=>Dt.jsx("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(l===e?"bg-primary-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),0===b.length?Dt.jsxs("div",{className:"card text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"all"===l?"No orders found":`No ${l} orders`}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"supplier"===(null==i?void 0:i.role)?"all"===l?"No orders containing your products yet":`No ${l} orders for your products`:"all"===l?"Start shopping to see your orders here":`You don't have any ${l} orders`}),"supplier"!==(null==i?void 0:i.role)&&Dt.jsx("button",{onClick:()=>window.location.href="/products",className:"btn-primary",children:"Browse Products"})]}):Dt.jsx("div",{className:"space-y-4",children:b.map(e=>{var t;return Dt.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(m,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Order #",e.id.slice(-6)]}),Dt.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx(ce,{className:"w-4 h-4 mr-1"}),e.createdAt.toLocaleDateString()]}),Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx(de,{className:"w-4 h-4 mr-1"}),e.summary.total.toFixed(2)]}),Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx(m,{className:"w-4 h-4 mr-1"}),e.summary.itemCount," items"]})]})]})]}),Dt.jsx("div",{className:"flex items-center space-x-3",children:Dt.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${y(e.status)}`,children:[v(e.status),Dt.jsx("span",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})})]}),Dt.jsxs("div",{className:"mb-4",children:[Dt.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Items (",e.items.length,"):"]}),Dt.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.items.slice(0,3).map((e,t)=>Dt.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded text-xs",children:[e.name," x ",e.quantity]},t)),e.items.length>3&&Dt.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.items.length-3," more"]})]})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-2",children:[Dt.jsxs("button",{onClick:()=>p(h===e.id?null:e.id),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-700",children:[Dt.jsx(oe,{className:"w-4 h-4"}),Dt.jsx("span",{children:h===e.id?"Hide Details":"View Details"})]}),Dt.jsxs("button",{onClick:()=>g(e),className:"flex items-center space-x-1 text-sm text-green-600 hover:text-green-700",children:[Dt.jsx(le,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Download Bill"})]}),"delivered"===e.status&&Dt.jsxs("button",{onClick:()=>{c.info("Reorder functionality will be implemented with cart integration")},className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700",children:[Dt.jsx(u,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Reorder"})]})]}),h===e.id&&Dt.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),Dt.jsx("div",{className:"space-y-2",children:e.items.map((e,t)=>Dt.jsxs("div",{className:"flex justify-between items-center text-sm",children:[Dt.jsxs("div",{children:[Dt.jsx("span",{className:"font-medium",children:e.name}),Dt.jsxs("span",{className:"text-gray-500 ml-2",children:["x ",e.quantity]})]}),Dt.jsxs("span",{className:"font-medium",children:["₹",(e.price*e.quantity).toFixed(2)]})]},t))})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Order Summary"}),Dt.jsxs("div",{className:"space-y-2 text-sm",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Subtotal:"}),Dt.jsxs("span",{children:["₹",e.summary.subtotal.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"GST (18%):"}),Dt.jsxs("span",{children:["₹",e.summary.tax.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between font-medium pt-2 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsx("span",{children:"Total:"}),Dt.jsxs("span",{children:["₹",e.summary.total.toFixed(2)]})]})]})]})]}),Dt.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:Dt.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[Dt.jsx(f,{className:"w-4 h-4 text-gray-500"}),Dt.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Payment Method: ",(null==(t=e.paymentMethod)?void 0:t.replace("_"," ").toUpperCase())||"Cash on Delivery"]})]})})]})]},e.id)})})]})})},kc=()=>{const{t:e}=yi(),[t,i]=r.useState(""),[s,n]=r.useState(""),[a,o]=r.useState("rating"),l=Pn.filter(e=>{const r=e.name.toLowerCase().includes(t.toLowerCase())||e.address.toLowerCase().includes(t.toLowerCase())||e.specialties.some(e=>e.toLowerCase().includes(t.toLowerCase())),i=!s||e.type===s;return r&&i}).sort((e,t)=>{switch(a){case"rating":return t.rating-e.rating;case"distance":return(e.distance||0)-(t.distance||0);case"name":return e.name.localeCompare(t.name);default:return 0}}),c=({supplier:t})=>{var r,i;return Dt.jsxs("div",{className:"card hover:shadow-lg transition-all duration-300",children:[Dt.jsx("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden mb-4",children:Dt.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"}})}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-start justify-between",children:[Dt.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white leading-tight",children:t.name}),t.verified&&Dt.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/20 px-2 py-1 rounded-full",children:[Dt.jsx(he,{className:"w-4 h-4 text-blue-600"}),Dt.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Verified"})]})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("span",{className:"text-lg",children:null==(r=Ln[t.type])?void 0:r.icon}),Dt.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:null==(i=Ln[t.type])?void 0:i.name})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center space-x-1",children:[Dt.jsx(x,{className:"w-4 h-4 text-yellow-400 fill-current"}),Dt.jsx("span",{className:"text-sm font-medium",children:t.rating}),Dt.jsxs("span",{className:"text-xs text-gray-500",children:["(",Math.floor(100*Math.random())+20," reviews)"]})]}),t.distance&&Dt.jsxs("span",{className:"text-sm text-gray-500",children:[t.distance," km away"]})]}),Dt.jsxs("div",{className:"flex items-start space-x-2",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),Dt.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 leading-tight line-clamp-2",children:t.address})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(W,{className:"w-4 h-4 text-gray-500"}),Dt.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.phone})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(N,{className:"w-4 h-4 text-gray-500"}),Dt.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.openHours})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.specialties.slice(0,3).map((t,r)=>Dt.jsx("span",{className:"px-2 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 text-xs rounded-full",children:e(`categories.${t}`,t)},r)),t.specialties.length>3&&Dt.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs rounded-full",children:["+",t.specialties.length-3," more"]})]}),Dt.jsxs("div",{className:"flex space-x-2 pt-2",children:[Dt.jsxs("a",{href:`tel:${t.phone}`,className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center space-x-1",children:[Dt.jsx(W,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Call"})]}),Dt.jsxs(ei,{to:"/stores",className:"flex-1 btn-primary text-sm py-2 flex items-center justify-center space-x-1",children:[Dt.jsx(G,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Locate"})]})]})]})]})};return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e("suppliers.title")}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect with verified suppliers and wholesalers in your area"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:Dt.jsx($,{className:"w-6 h-6 text-blue-600"})}),Dt.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Pn.length}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Suppliers"})]}),Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:Dt.jsx(he,{className:"w-6 h-6 text-green-600"})}),Dt.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Pn.filter(e=>e.verified).length}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified"})]}),Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:Dt.jsx(x,{className:"w-6 h-6 text-yellow-600"})}),Dt.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(Pn.reduce((e,t)=>e+t.rating,0)/Pn.length).toFixed(1)}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Rating"})]}),Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:Dt.jsx(m,{className:"w-6 h-6 text-purple-600"})}),Dt.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"12"}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Categories"})]})]}),Dt.jsx("div",{className:"mb-6 space-y-4",children:Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Dt.jsxs("div",{className:"flex-1 relative",children:[Dt.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),Dt.jsx("input",{type:"text",placeholder:"Search suppliers, locations, or specialties...",value:t,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(K,{className:"w-4 h-4 text-gray-500"}),Dt.jsxs("select",{value:s,onChange:e=>n(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[Dt.jsx("option",{value:"",children:"All Types"}),Object.entries(Ln).map(([e,t])=>Dt.jsxs("option",{value:e,children:[t.icon," ",t.name]},e))]})]}),Dt.jsxs("select",{value:a,onChange:e=>o(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[Dt.jsx("option",{value:"rating",children:"Sort by Rating"}),Dt.jsx("option",{value:"distance",children:"Sort by Distance"}),Dt.jsx("option",{value:"name",children:"Sort by Name"})]})]})}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>Dt.jsx(c,{supplier:e},e.id))}),0===l.length&&Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No suppliers found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]}),Dt.jsx("div",{className:"mt-12 card bg-gradient-to-r from-primary-500 to-primary-600 text-white",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h3",{className:"text-xl font-bold mb-2",children:"Want to become a supplier?"}),Dt.jsx("p",{className:"mb-4 opacity-90",children:"Join our network of trusted suppliers and reach thousands of street vendors"}),Dt.jsx("button",{className:"bg-white text-primary-600 px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Apply Now"})]})})]})})};var jc={exports:{}};
/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */!function(e){var t="1.9.4";function r(e){var t,r,i,s;for(r=1,i=arguments.length;r<i;r++)for(t in s=arguments[r])e[t]=s[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function s(e,t){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var i=r.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(r.call(arguments)):arguments)}}var n=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++n),e._leaflet_id}function o(e,t,r){var i,s,n,a;return a=function(){i=!1,s&&(n.apply(r,s),s=!1)},n=function(){i?s=arguments:(e.apply(r,arguments),setTimeout(a,t),i=!0)},n}function l(e,t,r){var i=t[1],s=t[0],n=i-s;return e===i&&r?e:((e-s)%n+n)%n+s}function c(){return!1}function d(e,t){if(!1===t)return e;var r=Math.pow(10,void 0===t?6:t);return Math.round(e*r)/r}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function p(e,t){for(var r in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[r]=t[r];return e.options}function m(e,t,r){var i=[];for(var s in e)i.push(encodeURIComponent(r?s.toUpperCase():s)+"="+encodeURIComponent(e[s]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(f,function(e,r){var i=t[r];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i})}var x=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function _(e){var t=+new Date,r=Math.max(0,16-(t-w));return w=t+r,window.setTimeout(e,r)}var N=window.requestAnimationFrame||b("RequestAnimationFrame")||_,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function j(e,t,r){if(!r||N!==_)return N.call(window,s(e,t));e.call(t)}function S(e){e&&k.call(window,e)}var P={__proto__:null,extend:r,create:i,bind:s,get lastId(){return n},stamp:a,throttle:o,wrapNum:l,falseFn:c,formatNum:d,trim:u,splitWords:h,setOptions:p,getParamString:m,template:g,isArray:x,indexOf:y,emptyImageUrl:v,requestFn:N,cancelFn:k,requestAnimFrame:j,cancelAnimFrame:S};function A(){}function C(e){if("undefined"!=typeof L&&L&&L.Mixin){e=x(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}A.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=t.__super__=this.prototype,n=i(s);for(var a in n.constructor=t,t.prototype=n,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&r(t,e.statics),e.includes&&(C(e.includes),r.apply(null,[n].concat(e.includes))),r(n,e),delete n.statics,delete n.includes,n.options&&(n.options=s.options?i(s.options):{},r(n.options,e.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=n._initHooks.length;e<t;e++)n._initHooks[e].call(this)}},t},A.include=function(e){var t=this.prototype.options;return r(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},A.mergeOptions=function(e){return r(this.prototype.options,e),this},A.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),r="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};var I={on:function(e,t,r){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var s=0,n=(e=h(e)).length;s<n;s++)this._on(e[s],t,r);return this},off:function(e,t,r){if(arguments.length)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=h(e);for(var s=1===arguments.length,n=0,a=e.length;n<a;n++)s?this._off(e[n]):this._off(e[n],t,r)}else delete this._events;return this},_on:function(e,t,r,i){if("function"==typeof t){if(!1===this._listens(e,t,r)){r===this&&(r=void 0);var s={fn:t,ctx:r};i&&(s.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(s)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,r){var i,s,n;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var a=this._listens(e,t,r);if(!1!==a){var o=i[a];this._firingCount&&(o.fn=c,this._events[e]=i=i.slice()),i.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(s=0,n=i.length;s<n;s++)i[s].fn=c;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var s=r({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var n=this._events[e];if(n){this._firingCount=this._firingCount+1||1;for(var a=0,o=n.length;a<o;a++){var l=n[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,s)}this._firingCount--}}return i&&this._propagateEvent(s),this},listens:function(e,t,r,i){"string"!=typeof e&&console.warn('"string" type argument expected');var s=t;"function"!=typeof t&&(i=!!t,s=void 0,r=void 0);var n=this._events&&this._events[e];if(n&&n.length&&!1!==this._listens(e,s,r))return!0;if(i)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,r,i))return!0;return!1},_listens:function(e,t,r){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;r===this&&(r=void 0);for(var s=0,n=i.length;s<n;s++)if(i[s].fn===t&&i[s].ctx===r)return s;return!1},once:function(e,t,r){if("object"==typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var s=0,n=(e=h(e)).length;s<n;s++)this._on(e[s],t,r,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var T=A.extend(I);function F(e,t,r){this.x=r?Math.round(e):e,this.y=r?Math.round(t):t}var E=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function O(e,t,r){return e instanceof F?e:x(e)?new F(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new F(e.x,e.y):new F(e,t,r)}function M(e,t){if(e)for(var r=t?[e,t]:e,i=0,s=r.length;i<s;i++)this.extend(r[i])}function R(e,t){return!e||e instanceof M?e:new M(e,t)}function D(e,t){if(e)for(var r=t?[e,t]:e,i=0,s=r.length;i<s;i++)this.extend(r[i])}function B(e,t){return e instanceof D?e:new D(e,t)}function z(e,t,r){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==r&&(this.alt=+r)}function q(e,t,r){return e instanceof z?e:x(e)&&"object"!=typeof e[0]?3===e.length?new z(e[0],e[1],e[2]):2===e.length?new z(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new z(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new z(e,t,r)}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new F(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new F(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=E(this.x),this.y=E(this.y),this},distanceTo:function(e){var t=(e=O(e)).x-this.x,r=e.y-this.y;return Math.sqrt(t*t+r*r)},equals:function(e){return(e=O(e)).x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},M.prototype={extend:function(e){var t,r;if(!e)return this;if(e instanceof F||"number"==typeof e[0]||"x"in e)t=r=O(e);else if(t=(e=R(e)).min,r=e.max,!t||!r)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)):(this.min=t.clone(),this.max=r.clone()),this},getCenter:function(e){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,r;return(e="number"==typeof e[0]||e instanceof F?O(e):R(e))instanceof M?(t=e.min,r=e.max):t=r=e,t.x>=this.min.x&&r.x<=this.max.x&&t.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=R(e);var t=this.min,r=this.max,i=e.min,s=e.max,n=s.x>=t.x&&i.x<=r.x,a=s.y>=t.y&&i.y<=r.y;return n&&a},overlaps:function(e){e=R(e);var t=this.min,r=this.max,i=e.min,s=e.max,n=s.x>t.x&&i.x<r.x,a=s.y>t.y&&i.y<r.y;return n&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,r=this.max,i=Math.abs(t.x-r.x)*e,s=Math.abs(t.y-r.y)*e;return R(O(t.x-i,t.y-s),O(r.x+i,r.y+s))},equals:function(e){return!!e&&(e=R(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},D.prototype={extend:function(e){var t,r,i=this._southWest,s=this._northEast;if(e instanceof z)t=e,r=e;else{if(!(e instanceof D))return e?this.extend(q(e)||B(e)):this;if(t=e._southWest,r=e._northEast,!t||!r)return this}return i||s?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),s.lat=Math.max(r.lat,s.lat),s.lng=Math.max(r.lng,s.lng)):(this._southWest=new z(t.lat,t.lng),this._northEast=new z(r.lat,r.lng)),this},pad:function(e){var t=this._southWest,r=this._northEast,i=Math.abs(t.lat-r.lat)*e,s=Math.abs(t.lng-r.lng)*e;return new D(new z(t.lat-i,t.lng-s),new z(r.lat+i,r.lng+s))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof z||"lat"in e?q(e):B(e);var t,r,i=this._southWest,s=this._northEast;return e instanceof D?(t=e.getSouthWest(),r=e.getNorthEast()):t=r=e,t.lat>=i.lat&&r.lat<=s.lat&&t.lng>=i.lng&&r.lng<=s.lng},intersects:function(e){e=B(e);var t=this._southWest,r=this._northEast,i=e.getSouthWest(),s=e.getNorthEast(),n=s.lat>=t.lat&&i.lat<=r.lat,a=s.lng>=t.lng&&i.lng<=r.lng;return n&&a},overlaps:function(e){e=B(e);var t=this._southWest,r=this._northEast,i=e.getSouthWest(),s=e.getNorthEast(),n=s.lat>t.lat&&i.lat<r.lat,a=s.lng>t.lng&&i.lng<r.lng;return n&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(e,t){return!!e&&(e=q(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return W.distance(this,q(e))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-r],[this.lat+t,this.lng+r])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var U,H={latLngToPoint:function(e,t){var r=this.projection.project(e),i=this.scale(t);return this.transformation._transform(r,i)},pointToLatLng:function(e,t){var r=this.scale(t),i=this.transformation.untransform(e,r);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,r=this.scale(e);return new M(this.transformation.transform(t.min,r),this.transformation.transform(t.max,r))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new z(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),r=this.wrapLatLng(t),i=t.lat-r.lat,s=t.lng-r.lng;if(0===i&&0===s)return e;var n=e.getSouthWest(),a=e.getNorthEast();return new D(new z(n.lat-i,n.lng-s),new z(a.lat-i,a.lng-s))}},W=r({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var r=Math.PI/180,i=e.lat*r,s=t.lat*r,n=Math.sin((t.lat-e.lat)*r/2),a=Math.sin((t.lng-e.lng)*r/2),o=n*n+Math.cos(i)*Math.cos(s)*a*a,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),$=6378137,V={R:$,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,r=this.MAX_LATITUDE,i=Math.max(Math.min(r,e.lat),-r),s=Math.sin(i*t);return new F(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new z((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(U=$*Math.PI,new M([-U,-U],[U,U]))};function Z(e,t,r,i){if(x(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=r,this._d=i}function G(e,t,r,i){return new Z(e,t,r,i)}Z.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new F((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Q,K=r({},W,{code:"EPSG:3857",projection:V,transformation:(Q=.5/(Math.PI*V.R),G(Q,.5,-Q,.5))}),Y=r({},K,{code:"EPSG:900913"});function J(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var r,i,s,n,a,o,l="";for(r=0,s=e.length;r<s;r++){for(i=0,n=(a=e[r]).length;i<n;i++)l+=(i?"L":"M")+(o=a[i]).x+" "+o.y;l+=t?Be.svg?"z":"x":""}return l||"M0 0"}var ee,te=document.documentElement.style,re="ActiveXObject"in window,ie=re&&!document.addEventListener,se="msLaunchUri"in navigator&&!("documentMode"in document),ne=De("webkit"),ae=De("android"),oe=De("android 2")||De("android 3"),le=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ce=ae&&De("Google")&&le<537&&!("AudioNode"in window),de=!!window.opera,ue=!se&&De("chrome"),he=De("gecko")&&!ne&&!de&&!re,pe=!ue&&De("safari"),me=De("phantom"),fe="OTransition"in te,ge=0===navigator.platform.indexOf("Win"),xe=re&&"transition"in te,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oe,ve="MozPerspective"in te,be=!window.L_DISABLE_3D&&(xe||ye||ve)&&!fe&&!me,we="undefined"!=typeof orientation||De("mobile"),_e=we&&ne,Ne=we&&ye,ke=!window.PointerEvent&&window.MSPointerEvent,je=!(!window.PointerEvent&&!ke),Se="ontouchstart"in window||!!window.TouchEvent,Pe=!window.L_NO_TOUCH&&(Se||je),Le=we&&de,Ae=we&&he,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(wl){}return e}(),Te=!!document.createElement("canvas").getContext,Fe=!(!document.createElementNS||!J("svg").createSVGRect),Ee=!!Fe&&((ee=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(ee.firstChild&&ee.firstChild.namespaceURI)),Oe=!Fe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(wl){return!1}}(),Me=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function De(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Be={ie:re,ielt9:ie,edge:se,webkit:ne,android:ae,android23:oe,androidStock:ce,opera:de,chrome:ue,gecko:he,safari:pe,phantom:me,opera12:fe,win:ge,ie3d:xe,webkit3d:ye,gecko3d:ve,any3d:be,mobile:we,mobileWebkit:_e,mobileWebkit3d:Ne,msPointer:ke,pointer:je,touch:Pe,touchNative:Se,mobileOpera:Le,mobileGecko:Ae,retina:Ce,passiveEvents:Ie,canvas:Te,svg:Fe,vml:Oe,inlineSvg:Ee,mac:Me,linux:Re},ze=Be.msPointer?"MSPointerDown":"pointerdown",qe=Be.msPointer?"MSPointerMove":"pointermove",Ue=Be.msPointer?"MSPointerUp":"pointerup",He=Be.msPointer?"MSPointerCancel":"pointercancel",We={touchstart:ze,touchmove:qe,touchend:Ue,touchcancel:He},$e={touchstart:tt,touchmove:et,touchend:et,touchcancel:et},Ve={},Ze=!1;function Ge(e,t,r){return"touchstart"===t&&Xe(),$e[t]?(r=$e[t].bind(this,r),e.addEventListener(We[t],r,!1),r):(console.warn("wrong event specified:",t),c)}function Qe(e,t,r){We[t]?e.removeEventListener(We[t],r,!1):console.warn("wrong event specified:",t)}function Ke(e){Ve[e.pointerId]=e}function Ye(e){Ve[e.pointerId]&&(Ve[e.pointerId]=e)}function Je(e){delete Ve[e.pointerId]}function Xe(){Ze||(document.addEventListener(ze,Ke,!0),document.addEventListener(qe,Ye,!0),document.addEventListener(Ue,Je,!0),document.addEventListener(He,Je,!0),Ze=!0)}function et(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var r in t.touches=[],Ve)t.touches.push(Ve[r]);t.changedTouches=[t],e(t)}}function tt(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Kt(t),et(e,t)}function rt(e){var t,r,i={};for(r in e)t=e[r],i[r]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var it=200;function st(e,t){e.addEventListener("dblclick",t);var r,i=0;function s(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var s=Jt(e);if(!s.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||s.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var n=Date.now();n-i<=it?2===++r&&t(rt(e)):r=1,i=n}}}else r=e.detail}return e.addEventListener("click",s),{dblclick:t,simDblclick:s}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var at,ot,lt,ct,dt,ut=Lt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ht=Lt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pt="webkitTransition"===ht||"OTransition"===ht?ht+"End":"transitionend";function mt(e){return"string"==typeof e?document.getElementById(e):e}function ft(e,t){var r=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!r||"auto"===r)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);r=i?i[t]:null}return"auto"===r?null:r}function gt(e,t,r){var i=document.createElement(e);return i.className=t||"",r&&r.appendChild(i),i}function xt(e){var t=e.parentNode;t&&t.removeChild(e)}function yt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function vt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function bt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function wt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var r=jt(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}function _t(e,t){if(void 0!==e.classList)for(var r=h(t),i=0,s=r.length;i<s;i++)e.classList.add(r[i]);else if(!wt(e,t)){var n=jt(e);kt(e,(n?n+" ":"")+t)}}function Nt(e,t){void 0!==e.classList?e.classList.remove(t):kt(e,u((" "+jt(e)+" ").replace(" "+t+" "," ")))}function kt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function jt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function St(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Pt(e,t)}function Pt(e,t){var r=!1,i="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(i)}catch(wl){if(1===t)return}t=Math.round(100*t),r?(r.Enabled=100!==t,r.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function Lt(e){for(var t=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in t)return e[r];return!1}function At(e,t,r){var i=t||new F(0,0);e.style[ut]=(Be.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(r?" scale("+r+")":"")}function Ct(e,t){e._leaflet_pos=t,Be.any3d?At(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new F(0,0)}if("onselectstart"in document)at=function(){zt(window,"selectstart",Kt)},ot=function(){Ut(window,"selectstart",Kt)};else{var Tt=Lt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);at=function(){if(Tt){var e=document.documentElement.style;lt=e[Tt],e[Tt]="none"}},ot=function(){Tt&&(document.documentElement.style[Tt]=lt,lt=void 0)}}function Ft(){zt(window,"dragstart",Kt)}function Et(){Ut(window,"dragstart",Kt)}function Ot(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Mt(),ct=e,dt=e.style.outlineStyle,e.style.outlineStyle="none",zt(window,"keydown",Mt))}function Mt(){ct&&(ct.style.outlineStyle=dt,ct=void 0,dt=void 0,Ut(window,"keydown",Mt))}function Rt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Dt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Bt={__proto__:null,TRANSFORM:ut,TRANSITION:ht,TRANSITION_END:pt,get:mt,getStyle:ft,create:gt,remove:xt,empty:yt,toFront:vt,toBack:bt,hasClass:wt,addClass:_t,removeClass:Nt,setClass:kt,getClass:jt,setOpacity:St,testProp:Lt,setTransform:At,setPosition:Ct,getPosition:It,get disableTextSelection(){return at},get enableTextSelection(){return ot},disableImageDrag:Ft,enableImageDrag:Et,preventOutline:Ot,restoreOutline:Mt,getSizedParentNode:Rt,getScale:Dt};function zt(e,t,r,i){if(t&&"object"==typeof t)for(var s in t)$t(e,s,t[s],r);else for(var n=0,a=(t=h(t)).length;n<a;n++)$t(e,t[n],r,i);return this}var qt="_leaflet_events";function Ut(e,t,r,i){if(1===arguments.length)Ht(e),delete e[qt];else if(t&&"object"==typeof t)for(var s in t)Vt(e,s,t[s],r);else if(t=h(t),2===arguments.length)Ht(e,function(e){return-1!==y(t,e)});else for(var n=0,a=t.length;n<a;n++)Vt(e,t[n],r,i);return this}function Ht(e,t){for(var r in e[qt]){var i=r.split(/\d/)[0];t&&!t(i)||Vt(e,i,null,null,r)}}var Wt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $t(e,t,r,i){var s=t+a(r)+(i?"_"+a(i):"");if(e[qt]&&e[qt][s])return this;var n=function(t){return r.call(i||e,t||window.event)},o=n;!Be.touchNative&&Be.pointer&&0===t.indexOf("touch")?n=Ge(e,t,n):Be.touch&&"dblclick"===t?n=st(e,n):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Wt[t]||t,n,!!Be.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(n=function(t){t=t||window.event,rr(e,t)&&o(t)},e.addEventListener(Wt[t],n,!1)):e.addEventListener(t,o,!1):e.attachEvent("on"+t,n),e[qt]=e[qt]||{},e[qt][s]=n}function Vt(e,t,r,i,s){s=s||t+a(r)+(i?"_"+a(i):"");var n=e[qt]&&e[qt][s];if(!n)return this;!Be.touchNative&&Be.pointer&&0===t.indexOf("touch")?Qe(e,t,n):Be.touch&&"dblclick"===t?nt(e,n):"removeEventListener"in e?e.removeEventListener(Wt[t]||t,n,!1):e.detachEvent("on"+t,n),e[qt][s]=null}function Zt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Gt(e){return $t(e,"wheel",Zt),this}function Qt(e){return zt(e,"mousedown touchstart dblclick contextmenu",Zt),e._leaflet_disable_click=!0,this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Yt(e){return Kt(e),Zt(e),this}function Jt(e){if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;)t.push(r),r=r.parentNode;return t}function Xt(e,t){if(!t)return new F(e.clientX,e.clientY);var r=Dt(t),i=r.boundingClientRect;return new F((e.clientX-i.left)/r.x-t.clientLeft,(e.clientY-i.top)/r.y-t.clientTop)}var er=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tr(e){return Be.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/er:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function rr(e,t){var r=t.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch(i){return!1}return r!==e}var ir={__proto__:null,on:zt,off:Ut,stopPropagation:Zt,disableScrollPropagation:Gt,disableClickPropagation:Qt,preventDefault:Kt,stop:Yt,getPropagationPath:Jt,getMousePosition:Xt,getWheelDelta:tr,isExternalTarget:rr,addListener:zt,removeListener:Ut},sr=T.extend({run:function(e,t,r,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,r=1e3*this._duration;t<r?this._runFrame(this._easeOut(t/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var r=this._startPos.add(this._offset.multiplyBy(e));t&&r._round(),Ct(this._el,r),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nr=T.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(q(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ht&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,pt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(q(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=r({animate:i.animate},i.zoom),i.pan=r({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,r){var i=this.getZoomScale(t),s=this.getSize().divideBy(2),n=(e instanceof F?e:this.latLngToContainerPoint(e)).subtract(s).multiplyBy(1-1/i),a=this.containerPointToLatLng(s.add(n));return this.setView(a,t,{zoom:r})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var r=O(t.paddingTopLeft||t.padding||[0,0]),i=O(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,r.add(i));if((s="number"==typeof t.maxZoom?Math.min(t.maxZoom,s):s)===1/0)return{center:e.getCenter(),zoom:s};var n=i.subtract(r).divideBy(2),a=this.project(e.getSouthWest(),s),o=this.project(e.getNorthEast(),s);return{center:this.unproject(a.add(o).divideBy(2).add(n),s),zoom:s}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,t);return this.setView(r.center,r.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=O(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,r){if(!1===(r=r||{}).animate||!Be.any3d)return this.setView(e,t,r);this._stop();var i=this.project(this.getCenter()),s=this.project(e),n=this.getSize(),a=this._zoom;e=q(e),t=void 0===t?a:t;var o=Math.max(n.x,n.y),l=o*this.getZoomScale(a,t),c=s.distanceTo(i)||1,d=1.42,u=d*d;function h(e){var t=(l*l-o*o+(e?-1:1)*u*u*c*c)/(2*(e?l:o)*u*c),r=Math.sqrt(t*t+1)-t;return r<1e-9?-18:Math.log(r)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function f(e){return p(e)/m(e)}var g=h(0);function x(e){return o*(m(g)/m(g+d*e))}function y(e){return o*(m(g)*f(g+d*e)-p(g))/u}function v(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(h(1)-g)/d,_=r.duration?1e3*r.duration:1e3*w*.8;function N(){var r=(Date.now()-b)/_,n=v(r)*w;r<=1?(this._flyToFrame=j(N,this),this._move(this.unproject(i.add(s.subtract(i).multiplyBy(y(n)/c)),a),this.getScaleZoom(o/x(n),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),N.call(this),this},flyToBounds:function(e,t){var r=this._getBoundsCenterZoom(e,t);return this.flyTo(r.center,r.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var r=this.getCenter(),i=this._limitCenter(r,this._zoom,B(e));return r.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var r=O((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=O(t.paddingBottomRight||t.padding||[0,0]),s=this.project(this.getCenter()),n=this.project(e),a=this.getPixelBounds(),o=R([a.min.add(r),a.max.subtract(i)]),l=o.getSize();if(!o.contains(n)){this._enforcingBounds=!0;var c=n.subtract(o.getCenter()),d=o.extend(n).getSize().subtract(l);s.x+=c.x<0?-d.x:d.x,s.y+=c.y<0?-d.y:d.y,this.panTo(this.unproject(s),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=t.divideBy(2).round(),a=i.divideBy(2).round(),o=n.subtract(a);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=s(this._handleGeolocationResponse,this),i=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,r=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new z(e.coords.latitude,e.coords.longitude),r=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var s=this.getBoundsZoom(r);this.setView(t,i.maxZoom?Math.min(s,i.maxZoom):s)}var n={latlng:t,bounds:r,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(n[a]=e.coords[a]);this.fire("locationfound",n)}},addHandler:function(e,t){if(!t)return this;var r=this[e]=new t(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(wl){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)xt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var r=gt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,r){e=B(e),r=O(r||[0,0]);var i=this.getZoom()||0,s=this.getMinZoom(),n=this.getMaxZoom(),a=e.getNorthWest(),o=e.getSouthEast(),l=this.getSize().subtract(r),c=R(this.project(o,i),this.project(a,i)).getSize(),d=Be.any3d?this.options.zoomSnap:1,u=l.x/c.x,h=l.y/c.y,p=t?Math.max(u,h):Math.min(u,h);return i=this.getScaleZoom(p,i),d&&(i=Math.round(i/(d/100))*(d/100),i=t?Math.ceil(i/d)*d:Math.floor(i/d)*d),Math.max(s,Math.min(n,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var r=this._getTopLeftPoint(e,t);return new M(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var r=this.options.crs;return t=void 0===t?this._zoom:t,r.scale(e)/r.scale(t)},getScaleZoom:function(e,t){var r=this.options.crs;t=void 0===t?this._zoom:t;var i=r.zoom(e*r.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(q(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(O(e),t)},layerPointToLatLng:function(e){var t=O(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(q(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(q(e),q(t))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return Xt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=mt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");zt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,_t(e,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ft(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,r){Ct(this._mapPane,new F(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s,r)._move(e,t)._moveEnd(s),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,r,i){void 0===t&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?r&&r.pinch&&this.fire("zoom",r):((s||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Ut:zt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var r,i=[],s="mouseout"===t||"mouseover"===t,n=e.target||e.srcElement,o=!1;n;){if((r=this._targets[a(n)])&&("click"===t||"preclick"===t)&&this._draggableMoved(r)){o=!0;break}if(r&&r.listens(t,!0)){if(s&&!rr(n,e))break;if(i.push(r),s)break}if(n===this._container)break;n=n.parentNode}return i.length||o||s||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var r=e.type;"mousedown"===r&&Ot(t),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var s=r({},e);s.type="preclick",this._fireDOMEvent(s,s.type,i)}var n=this._findEventTargets(e,t);if(i){for(var a=[],o=0;o<i.length;o++)i[o].listens(t,!0)&&a.push(i[o]);n=a.concat(n)}if(n.length){"contextmenu"===t&&Kt(e);var l=n[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var d=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=d?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(o=0;o<n.length;o++)if(n[o].fire(t,c,!0),c.originalEvent._stopped||!1===n[o].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new F(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var r=this.getSize()._divideBy(2);return this.project(e,t)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,r){var i=this._getNewPixelOrigin(r,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,r){var i=this._getNewPixelOrigin(r,t);return R([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,r){if(!r)return e;var i=this.project(e,t),s=this.getSize().divideBy(2),n=new M(i.subtract(s),i.add(s)),a=this._getBoundsOffset(n,r,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(i.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var r=this.getPixelBounds(),i=new M(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,r){var i=R(this.project(t.getNorthEast(),r),this.project(t.getSouthWest(),r)),s=i.min.subtract(e.min),n=i.max.subtract(e.max);return new F(this._rebound(s.x,-n.x),this._rebound(s.y,-n.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),r=this.getMaxZoom(),i=Be.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var r=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(r)||(this.panBy(r,t),0))},_createAnimProxy:function(){var e=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=ut,r=this._proxy.style[t];At(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),r===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();At(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||!1===r.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==r.animate&&!this.getSize().contains(s)||(j(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,t,!0)},this),0))},_animateZoom:function(e,t,r,i){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ar(e,t){return new nr(e,t)}var or=A.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),r=this.getPosition(),i=e._controlCorners[r];return _t(t,"leaflet-control"),-1!==r.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),lr=function(e){return new or(e)};nr.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",r=this._controlContainer=gt("div",t+"control-container",this._container);function i(i,s){var n=t+i+" "+t+s;e[i+s]=gt("div",n,r)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)xt(this._controlCorners[e]);xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cr=or.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,r,i){return r<i?-1:i<r?1:0}},initialize:function(e,t,r){for(var i in p(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return or.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=gt("div",e),r=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Qt(t),Gt(t);var i=this._section=gt("section",e+"-list");r&&(this._map.on("click",this.collapse,this),zt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=gt("a",e+"-toggle",t);s.href="#",s.title="Layers",s.setAttribute("role","button"),zt(s,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Kt(e),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=gt("div",e+"-base",i),this._separator=gt("div",e+"-separator",i),this._overlaysList=gt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:r}),this.options.sortLayers&&this._layers.sort(s(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yt(this._baseLayersList),yt(this._overlaysList),this._layerControlInputs=[];var e,t,r,i,s=0;for(r=0;r<this._layers.length;r++)i=this._layers[r],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,s+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),r=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;r&&this._map.fire(r,t)},_createRadioElement:function(e,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=r,i.firstChild},_addItem:function(e){var t,r=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),zt(t,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+e.name;var n=document.createElement("span");return r.appendChild(n),n.appendChild(t),n.appendChild(s),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e,t,r=this._layerControlInputs,i=[],s=[];this._handlingClick=!0;for(var n=r.length-1;n>=0;n--)e=r[n],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||s.push(t);for(n=0;n<s.length;n++)this._map.hasLayer(s[n])&&this._map.removeLayer(s[n]);for(n=0;n<i.length;n++)this._map.hasLayer(i[n])||this._map.addLayer(i[n]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,r=this._layerControlInputs,i=this._map.getZoom(),s=r.length-1;s>=0;s--)e=r[s],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,zt(e,"click",Kt),this.expand();var t=this;setTimeout(function(){Ut(e,"click",Kt),t._preventClick=!1})}}),dr=function(e,t,r){return new cr(e,t,r)},ur=or.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",r=gt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,r,i,s){var n=gt("a",r,i);return n.innerHTML=e,n.href="#",n.title=t,n.setAttribute("role","button"),n.setAttribute("aria-label",t),Qt(n),zt(n,"click",Yt),zt(n,"click",s,this),zt(n,"click",this._refocusOnMap,this),n},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";Nt(this._zoomInButton,t),Nt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nr.mergeOptions({zoomControl:!0}),nr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ur,this.addControl(this.zoomControl))});var hr=function(e){return new ur(e)},pr=or.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",r=gt("div",t),i=this.options;return this._addScales(i,t+"-line",r),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,r){e.metric&&(this._mScale=gt("div",t,r)),e.imperial&&(this._iScale=gt("div",t,r))},_update:function(){var e=this._map,t=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),r=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,r,t/e)},_updateImperial:function(e){var t,r,i,s=3.2808399*e;s>5280?(t=s/5280,r=this._getRoundNum(t),this._updateScale(this._iScale,r+" mi",r/t)):(i=this._getRoundNum(s),this._updateScale(this._iScale,i+" ft",i/s))},_updateScale:function(e,t,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),r=e/t;return t*(r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1)}}),mr=function(e){return new pr(e)},fr='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gr=or.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?fr+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Qt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});nr.mergeOptions({attributionControl:!0}),nr.addInitHook(function(){this.options.attributionControl&&(new gr).addTo(this)});var xr=function(e){return new gr(e)};or.Layers=cr,or.Zoom=ur,or.Scale=pr,or.Attribution=gr,lr.layers=dr,lr.zoom=hr,lr.scale=mr,lr.attribution=xr;var yr=A.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yr.addTo=function(e,t){return e.addHandler(t,this),this};var vr={Events:I},br=Be.touch?"touchstart mousedown":"mousedown",wr=T.extend({options:{clickTolerance:3},initialize:function(e,t,r,i){p(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=r},enable:function(){this._enabled||(zt(this._dragStartTarget,br,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,br,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!wt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)wr._dragging===this&&this.finishDrag();else if(!(wr._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(wr._dragging=this,this._preventOutline&&Ot(this._element),Ft(),at(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,r=Rt(this._element);this._startPoint=new F(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Dt(r);var i="mousedown"===e.type;zt(document,i?"mousemove":"touchmove",this._onMove,this),zt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,r=new F(t.clientX,t.clientY)._subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),Et(),ot();var t=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function _r(e,t,r){var i,s,n,a,o,l,c,d,u,h=[1,4,2,8];for(s=0,c=e.length;s<c;s++)e[s]._code=Or(e[s],t);for(a=0;a<4;a++){for(d=h[a],i=[],s=0,n=(c=e.length)-1;s<c;n=s++)o=e[s],l=e[n],o._code&d?l._code&d||((u=Er(l,o,d,t,r))._code=Or(u,t),i.push(u)):(l._code&d&&((u=Er(l,o,d,t,r))._code=Or(u,t),i.push(u)),i.push(o));e=i}return e}function Nr(e,t){var r,i,s,n,a,o,l,c,d;if(!e||0===e.length)throw new Error("latlngs not passed");Dr(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=q([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=kr(e));var p=e.length,m=[];for(r=0;r<p;r++){var f=q(e[r]);m.push(t.project(q([f.lat-u.lat,f.lng-u.lng])))}for(o=l=c=0,r=0,i=p-1;r<p;i=r++)s=m[r],n=m[i],a=s.y*n.x-n.y*s.x,l+=(s.x+n.x)*a,c+=(s.y+n.y)*a,o+=3*a;d=0===o?m[0]:[l/o,c/o];var g=t.unproject(O(d));return q([g.lat+u.lat,g.lng+u.lng])}function kr(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var n=q(e[s]);t+=n.lat,r+=n.lng,i++}return q([t/i,r/i])}var jr,Sr={__proto__:null,clipPolygon:_r,polygonCenter:Nr,centroid:kr};function Pr(e,t){if(!t||!e.length)return e.slice();var r=t*t;return e=Cr(e=Tr(e,r),r)}function Lr(e,t,r){return Math.sqrt(Rr(e,t,r,!0))}function Ar(e,t,r){return Rr(e,t,r)}function Cr(e,t){var r=e.length,i=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(r);i[0]=i[r-1]=1,Ir(e,i,t,0,r-1);var s,n=[];for(s=0;s<r;s++)i[s]&&n.push(e[s]);return n}function Ir(e,t,r,i,s){var n,a,o,l=0;for(a=i+1;a<=s-1;a++)(o=Rr(e[a],e[i],e[s],!0))>l&&(n=a,l=o);l>r&&(t[n]=1,Ir(e,t,r,i,n),Ir(e,t,r,n,s))}function Tr(e,t){for(var r=[e[0]],i=1,s=0,n=e.length;i<n;i++)Mr(e[i],e[s])>t&&(r.push(e[i]),s=i);return s<n-1&&r.push(e[n-1]),r}function Fr(e,t,r,i,s){var n,a,o,l=i?jr:Or(e,r),c=Or(t,r);for(jr=c;;){if(!(l|c))return[e,t];if(l&c)return!1;o=Or(a=Er(e,t,n=l||c,r,s),r),n===l?(e=a,l=o):(t=a,c=o)}}function Er(e,t,r,i,s){var n,a,o=t.x-e.x,l=t.y-e.y,c=i.min,d=i.max;return 8&r?(n=e.x+o*(d.y-e.y)/l,a=d.y):4&r?(n=e.x+o*(c.y-e.y)/l,a=c.y):2&r?(n=d.x,a=e.y+l*(d.x-e.x)/o):1&r&&(n=c.x,a=e.y+l*(c.x-e.x)/o),new F(n,a,s)}function Or(e,t){var r=0;return e.x<t.min.x?r|=1:e.x>t.max.x&&(r|=2),e.y<t.min.y?r|=4:e.y>t.max.y&&(r|=8),r}function Mr(e,t){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i}function Rr(e,t,r,i){var s,n=t.x,a=t.y,o=r.x-n,l=r.y-a,c=o*o+l*l;return c>0&&((s=((e.x-n)*o+(e.y-a)*l)/c)>1?(n=r.x,a=r.y):s>0&&(n+=o*s,a+=l*s)),o=e.x-n,l=e.y-a,i?o*o+l*l:new F(n,a)}function Dr(e){return!x(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function Br(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dr(e)}function zr(e,t){var r,i,s,n,a,o,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dr(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=q([0,0]),u=B(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=kr(e));var h=e.length,p=[];for(r=0;r<h;r++){var m=q(e[r]);p.push(t.project(q([m.lat-d.lat,m.lng-d.lng])))}for(r=0,i=0;r<h-1;r++)i+=p[r].distanceTo(p[r+1])/2;if(0===i)c=p[0];else for(r=0,n=0;r<h-1;r++)if(a=p[r],o=p[r+1],(n+=s=a.distanceTo(o))>i){l=(n-i)/s,c=[o.x-l*(o.x-a.x),o.y-l*(o.y-a.y)];break}var f=t.unproject(O(c));return q([f.lat+d.lat,f.lng+d.lng])}var qr={__proto__:null,simplify:Pr,pointToSegmentDistance:Lr,closestPointOnSegment:Ar,clipSegment:Fr,_getEdgeIntersection:Er,_getBitCode:Or,_sqClosestPointOnSegment:Rr,isFlat:Dr,_flat:Br,polylineCenter:zr},Ur={project:function(e){return new F(e.lng,e.lat)},unproject:function(e){return new z(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Hr={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,r=this.R,i=e.lat*t,s=this.R_MINOR/r,n=Math.sqrt(1-s*s),a=n*Math.sin(i),o=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),n/2);return i=-r*Math.log(Math.max(o,1e-10)),new F(e.lng*t*r,i)},unproject:function(e){for(var t,r=180/Math.PI,i=this.R,s=this.R_MINOR/i,n=Math.sqrt(1-s*s),a=Math.exp(-e.y/i),o=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=n*Math.sin(o),t=Math.pow((1-t)/(1+t),n/2),o+=c=Math.PI/2-2*Math.atan(a*t)-o;return new z(o*r,e.x*r/i)}},Wr={__proto__:null,LonLat:Ur,Mercator:Hr,SphericalMercator:V},$r=r({},W,{code:"EPSG:3395",projection:Hr,transformation:function(){var e=.5/(Math.PI*Hr.R);return G(e,.5,-e,.5)}()}),Vr=r({},W,{code:"EPSG:4326",projection:Ur,transformation:G(1/180,1,-1/180,.5)}),Zr=r({},H,{projection:Ur,transformation:G(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var r=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(r*r+i*i)},infinite:!0});H.Earth=W,H.EPSG3395=$r,H.EPSG3857=K,H.EPSG900913=Y,H.EPSG4326=Vr,H.Simple=Zr;var Gr=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var r=this.getEvents();t.on(r,this),this.once("remove",function(){t.off(r,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nr.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},_addLayers:function(e){for(var t=0,r=(e=e?x(e)?e:[e]:[]).length;t<r;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,r=this._getZoomSpan();for(var i in this._zoomBoundLayers){var s=this._zoomBoundLayers[i].options;e=void 0===s.minZoom?e:Math.min(e,s.minZoom),t=void 0===s.maxZoom?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qr=Gr.extend({initialize:function(e,t){var r,i;if(p(this,t),this._layers={},e)for(r=0,i=e.length;r<i;r++)this.addLayer(e[r])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,r,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(r=this._layers[t])[e]&&r[e].apply(r,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Kr=function(e,t){return new Qr(e,t)},Yr=Qr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Qr.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Qr.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var r=this._layers[t];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),Jr=function(e,t){return new Yr(e,t)},Xr=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var r=this._getIconUrl(e);if(!r){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(r,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var r=this.options,i=r[t+"Size"];"number"==typeof i&&(i=[i,i]);var s=O(i),n=O("shadow"===t&&r.shadowAnchor||r.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(r.className||""),n&&(e.style.marginLeft=-n.x+"px",e.style.marginTop=-n.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Be.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function ei(e){return new Xr(e)}var ti=Xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof ti.imagePath&&(ti.imagePath=this._detectIconPath()),(this.options.imagePath||ti.imagePath)+Xr.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,r){var i=t.exec(e);return i&&i[r]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=gt("div","leaflet-default-icon-path",document.body),t=ft(e,"background-image")||ft(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),ri=yr.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wr(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,r=t._map,i=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,n=It(t._icon),a=r.getPixelBounds(),o=r.getPixelOrigin(),l=R(a.min._subtract(o).add(s),a.max._subtract(o).subtract(s));if(!l.contains(n)){var c=O((Math.max(l.max.x,n.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,n.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,n.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,n.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);r.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ct(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=j(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,r=t._shadow,i=It(t._icon),s=t._map.layerPointToLatLng(i);r&&Ct(r,i),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ii=Gr.extend({options:{icon:new ti,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),i=!1;r!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(r.title=e.title),"IMG"===r.tagName&&(r.alt=e.alt||"")),_t(r,t),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(r,"focus",this._panOnFocus,this);var s=e.icon.createShadow(this._shadow),n=!1;s!==this._shadow&&(this._removeShadow(),n=!0),s&&(_t(s,t),s.alt=""),this._shadow=s,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&n&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ri)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ri(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,r=t.iconSize?O(t.iconSize):O(0,0),i=t.iconAnchor?O(t.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:r.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function si(e,t){return new ii(e,t)}var ni=Gr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ai=ni.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ni.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,r=this._clickTolerance(),i=[e+r,t+r];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function oi(e,t){return new ai(e,t)}var li=ai.extend({initialize:function(e,t,i){if("number"==typeof t&&(t=r({},i,{radius:t})),p(this,t),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ni.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,r=this._map,i=r.options.crs;if(i.distance===W.distance){var s=Math.PI/180,n=this._mRadius/W.R/s,a=r.project([t+n,e]),o=r.project([t-n,e]),l=a.add(o).divideBy(2),c=r.unproject(l).lat,d=Math.acos((Math.cos(n*s)-Math.sin(t*s)*Math.sin(c*s))/(Math.cos(t*s)*Math.cos(c*s)))/s;(isNaN(d)||0===d)&&(d=n/Math.cos(Math.PI/180*t)),this._point=l.subtract(r.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-r.project([c,e-d]).x,this._radiusY=l.y-a.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(u).x}this._updateBounds()}});function ci(e,t,r){return new li(e,t,r)}var di=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,r,i=1/0,s=null,n=Rr,a=0,o=this._parts.length;a<o;a++)for(var l=this._parts[a],c=1,d=l.length;c<d;c++){var u=n(e,t=l[c-1],r=l[c],!0);u<i&&(i=u,s=n(e,t,r))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=q(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],r=Dr(e),i=0,s=e.length;i<s;i++)r?(t[i]=q(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new F(e,e);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,r){var i,s,n=e[0]instanceof z,a=e.length;if(n){for(s=[],i=0;i<a;i++)s[i]=this._map.latLngToLayerPoint(e[i]),r.extend(s[i]);t.push(s)}else for(i=0;i<a;i++)this._projectLatlngs(e[i],t,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,r,i,s,n,a,o,l=this._parts;for(t=0,i=0,s=this._rings.length;t<s;t++)for(r=0,n=(o=this._rings[t]).length;r<n-1;r++)(a=Fr(o[r],o[r+1],e,r,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===o[r+1]&&r!==n-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,r=0,i=e.length;r<i;r++)e[r]=Pr(e[r],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var r,i,s,n,a,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,n=this._parts.length;r<n;r++)for(i=0,s=(a=(o=this._parts[r]).length)-1;i<a;s=i++)if((t||0!==i)&&Lr(e,o[s],o[i])<=l)return!0;return!1}});function ui(e,t){return new di(e,t)}di._flat=Br;var hi=di.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=di.prototype._convertLatLngs.call(this,e),r=t.length;return r>=2&&t[0]instanceof z&&t[0].equals(t[r-1])&&t.pop(),t},_setLatLngs:function(e){di.prototype._setLatLngs.call(this,e),Dr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,r=new F(t,t);if(e=new M(e.min.subtract(r),e.max.add(r)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,s=0,n=this._rings.length;s<n;s++)(i=_r(this._rings[s],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,r,i,s,n,a,o,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,o=this._parts.length;s<o;s++)for(n=0,a=(l=(t=this._parts[s]).length)-1;n<l;a=n++)r=t[n],i=t[a],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(c=!c);return c||di.prototype._containsPoint.call(this,e,!0)}});function pi(e,t){return new hi(e,t)}var mi=Yr.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,r,i,s=x(e)?e:e.features;if(s){for(t=0,r=s.length;t<r;t++)((i=s[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var n=this.options;if(n.filter&&!n.filter(e))return this;var a=fi(e,n);return a?(a.feature=_i(e),a.defaultOptions=a.options,this.resetStyle(a),n.onEachFeature&&n.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function fi(e,t){var r,i,s,n,a="Feature"===e.type?e.geometry:e,o=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||xi;if(!o&&!a)return null;switch(a.type){case"Point":return gi(c,e,r=d(o),t);case"MultiPoint":for(s=0,n=o.length;s<n;s++)r=d(o[s]),l.push(gi(c,e,r,t));return new Yr(l);case"LineString":case"MultiLineString":return i=yi(o,"LineString"===a.type?0:1,d),new di(i,t);case"Polygon":case"MultiPolygon":return i=yi(o,"Polygon"===a.type?1:2,d),new hi(i,t);case"GeometryCollection":for(s=0,n=a.geometries.length;s<n;s++){var u=fi({geometry:a.geometries[s],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new Yr(l);case"FeatureCollection":for(s=0,n=a.features.length;s<n;s++){var h=fi(a.features[s],t);h&&l.push(h)}return new Yr(l);default:throw new Error("Invalid GeoJSON object.")}}function gi(e,t,r,i){return e?e(t,r):new ii(r,i&&i.markersInheritOptions&&i)}function xi(e){return new z(e[1],e[0],e[2])}function yi(e,t,r){for(var i,s=[],n=0,a=e.length;n<a;n++)i=t?yi(e[n],t-1,r):(r||xi)(e[n]),s.push(i);return s}function vi(e,t){return void 0!==(e=q(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function bi(e,t,r,i){for(var s=[],n=0,a=e.length;n<a;n++)s.push(t?bi(e[n],Dr(e[n])?0:t-1,r,i):vi(e[n],i));return!t&&r&&s.length>0&&s.push(s[0].slice()),s}function wi(e,t){return e.feature?r({},e.feature,{geometry:t}):_i(t)}function _i(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Ni={toGeoJSON:function(e){return wi(this,{type:"Point",coordinates:vi(this.getLatLng(),e)})}};function ki(e,t){return new mi(e,t)}ii.include(Ni),li.include(Ni),ai.include(Ni),di.include({toGeoJSON:function(e){var t=!Dr(this._latlngs);return wi(this,{type:(t?"Multi":"")+"LineString",coordinates:bi(this._latlngs,t?1:0,!1,e)})}}),hi.include({toGeoJSON:function(e){var t=!Dr(this._latlngs),r=t&&!Dr(this._latlngs[0]),i=bi(this._latlngs,r?2:t?1:0,!0,e);return t||(i=[i]),wi(this,{type:(r?"Multi":"")+"Polygon",coordinates:i})}}),Qr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(r){t.push(r.toGeoJSON(e).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var r="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var s=t.toGeoJSON(e);if(r)i.push(s.geometry);else{var n=_i(s);"FeatureCollection"===n.type?i.push.apply(i,n.features):i.push(n)}}}),r?wi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var ji=ki,Si=Gr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,r){this._url=e,this._bounds=B(t),p(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&vt(this._image),this},bringToBack:function(){return this._map&&bt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:gt("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;At(this._image,r,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=t.getSize();Ct(e,t.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Pi=function(e,t,r){return new Si(e,t,r)},Li=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:gt("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=s(this.fire,this,"load"),e){for(var r=t.getElementsByTagName("source"),i=[],n=0;n<r.length;n++)i.push(r[n].src);this._url=r.length>0?i:[t.src]}else{x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var o=gt("source");o.src=this._url[a],t.appendChild(o)}}}});function Ai(e,t,r){return new Li(e,t,r)}var Ci=Si.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ii(e,t,r){return new Ci(e,t,r)}var Ti=Gr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof z||x(e))?(this._latlng=q(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(s(xt,void 0,this._container),200)):xt(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vt(this._container),this},bringToBack:function(){return this._map&&bt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Yr){t=null;var r=this._source._layers;for(var i in r)if(r[i]._map){t=r[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=O(this.options.offset),r=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(r)):t=t.add(e).add(r);var i=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});nr.include({_initOverlay:function(e,t,r,i){var s=t;return s instanceof e||(s=new e(i).setContent(t)),r&&s.setLatLng(r),s}}),Gr.include({_initOverlay:function(e,t,r,i){var s=r;return s instanceof e?(p(s,i),s._source=this):(s=t&&!i?t:new e(i,this)).setContent(r),s}});var Fi=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ti.prototype.openOn.call(this,e)},onAdd:function(e){Ti.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",Zt))},onRemove:function(e){Ti.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",Zt))},getEvents:function(){var e=Ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=gt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=gt("div",e+"-content-wrapper",t);if(this._contentNode=gt("div",e+"-content",r),Qt(t),Gt(this._contentNode),zt(t,"contextmenu",Zt),this._tipContainer=gt("div",e+"-tip-container",t),this._tip=gt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=gt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',zt(i,"click",function(e){Kt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),t.width=r+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,s=this.options.maxHeight,n="leaflet-popup-scrolled";s&&i>s?(t.height=s+"px",_t(e,n)):Nt(e,n),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();Ct(this._container,t.add(r))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ft(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+t,i=this._containerWidth,s=new F(this._containerLeft,-r-this._containerBottom);s._add(It(this._container));var n=e.layerPointToContainerPoint(s),a=O(this.options.autoPanPadding),o=O(this.options.autoPanPaddingTopLeft||a),l=O(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),d=0,u=0;n.x+i+l.x>c.x&&(d=n.x+i-c.x+l.x),n.x-d-o.x<0&&(d=n.x-o.x),n.y+r+l.y>c.y&&(u=n.y+r-c.y+l.y),n.y-u-o.y<0&&(u=n.y-o.y),(d||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([d,u]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ei=function(e,t){return new Fi(e,t)};nr.mergeOptions({closePopupOnClick:!0}),nr.include({openPopup:function(e,t,r){return this._initOverlay(Fi,e,t,r).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gr.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Fi,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Yr||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Yt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ni?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Oi=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ti.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ti.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ti.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,r,i=this._map,s=this._container,n=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(e),o=this.options.direction,l=s.offsetWidth,c=s.offsetHeight,d=O(this.options.offset),u=this._getAnchor();"top"===o?(t=l/2,r=c):"bottom"===o?(t=l/2,r=0):"center"===o?(t=l/2,r=c/2):"right"===o?(t=0,r=c/2):"left"===o?(t=l,r=c/2):a.x<n.x?(o="right",t=0,r=c/2):(o="left",t=l+2*(d.x+u.x),r=c/2),e=e.subtract(O(t,r,!0)).add(d).add(u),Nt(s,"leaflet-tooltip-right"),Nt(s,"leaflet-tooltip-left"),Nt(s,"leaflet-tooltip-top"),Nt(s,"leaflet-tooltip-bottom"),_t(s,"leaflet-tooltip-"+o),Ct(s,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mi=function(e,t){return new Oi(e,t)};nr.include({openTooltip:function(e,t,r){return this._initOverlay(Oi,e,t,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gr.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oi,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[t](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Yr||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(zt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),zt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,r,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(i)}});var Ri=Xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(yt(t),t.appendChild(r.html)):t.innerHTML=!1!==r.html?r.html:"",r.bgPos){var i=O(r.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Di(e){return new Ri(e)}Xr.Default=ti;var Bi=Gr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),xt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof F?e:new F(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,r=this.getPane().children,i=-e(-1/0,1/0),s=0,n=r.length;s<n;s++)t=r[s].style.zIndex,r[s]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){St(this._container,this.options.opacity);var e=+new Date,t=!1,r=!1;for(var i in this._tiles){var s=this._tiles[i];if(s.current&&s.loaded){var n=Math.min(1,(e-s.loaded)/200);St(s.el,n),n<1?t=!0:(s.active?r=!0:this._onOpaqueTile(s),s.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),t&&(S(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=t-Math.abs(e-r),this._onUpdateLevel(r)):(xt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var i=this._levels[e],s=this._map;return i||((i=this._levels[e]={}).el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=s.project(s.unproject(s.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,s.getCenter(),s.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)xt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,r,i){var s=Math.floor(e/2),n=Math.floor(t/2),a=r-1,o=new F(+s,+n);o.z=+a;var l=this._tileCoordsToKey(o),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(s,n,a,i))},_retainChildren:function(e,t,r,i){for(var s=2*e;s<2*e+2;s++)for(var n=2*t;n<2*t+2;n++){var a=new F(s,n);a.z=r+1;var o=this._tileCoordsToKey(a),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),r+1<i&&this._retainChildren(s,n,r+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,r,i){var s=Math.round(t);s=void 0!==this.options.maxZoom&&s>this.options.maxZoom||void 0!==this.options.minZoom&&s<this.options.minZoom?void 0:this._clampZoom(s);var n=this.options.updateWhenZooming&&s!==this._tileZoom;i&&!n||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==s&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,t)},_setZoomTransform:function(e,t,r){var i=this._map.getZoomScale(r,e.zoom),s=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,r)).round();Be.any3d?At(e.el,s,i):Ct(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,r=this._tileSize=this.getTileSize(),i=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/r.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/r.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/r.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/r.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,r=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(r,this._tileZoom),s=t.project(e,this._tileZoom).floor(),n=t.getSize().divideBy(2*i);return new M(s.subtract(n),s.add(n))},_update:function(e){var t=this._map;if(t){var r=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),s=this._pxBoundsToTileRange(i),n=s.getCenter(),a=[],o=this.options.keepBuffer,l=new M(s.getBottomLeft().subtract([o,-o]),s.getTopRight().add([o,-o]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new F(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(r-this._tileZoom)>1)this._setView(e,r);else{for(var u=s.min.y;u<=s.max.y;u++)for(var h=s.min.x;h<=s.max.x;h++){var p=new F(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:a.push(p)}}if(a.sort(function(e,t){return e.distanceTo(n)-t.distanceTo(n)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var r=this._globalTileRange;if(!t.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!t.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,r=this.getTileSize(),i=e.scaleBy(r),s=i.add(r);return[t.unproject(i,e.z),t.unproject(s,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),r=new D(t[0],t[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),r=new F(+t[0],+t[1]);return r.z=+t[2],r},_removeTile:function(e){var t=this._tiles[e];t&&(xt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Be.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,t){var r=this._getTilePos(e),i=this._tileCoordsToKey(e),n=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(n),this.createTile.length<2&&j(s(this._tileReady,this,e,null,n)),Ct(n,r),this._tiles[i]={el:n,coords:e,current:!0},t.appendChild(n),this.fire("tileloadstart",{tile:n,coords:e})},_tileReady:function(e,t,r){t&&this.fire("tileerror",{error:t,tile:r,coords:e});var i=this._tileCoordsToKey(e);(r=this._tiles[i])&&(r.loaded=+new Date,this._map._fadeAnimated?(St(r.el,0),S(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),t||(_t(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new F(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function zi(e){return new Bi(e)}var qi=Bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Be.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=document.createElement("img");return zt(r,"load",s(this._tileOnLoad,this,t,r)),zt(r,"error",s(this._tileOnError,this,t,r)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var t={r:Be.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return g(this._url,r(t,this.options))},_tileOnLoad:function(e,t){Be.ielt9?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,r){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(r,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=v;var r=this._tiles[e].coords;xt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:r})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",v),Bi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,r){if(this._map&&(!r||r.getAttribute("src")!==v))return Bi.prototype._tileReady.call(this,e,t,r)}});function Ui(e,t){return new qi(e,t)}var Hi=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=r({},this.defaultWmsParams);for(var s in t)s in this.options||(i[s]=t[s]);var n=(t=p(this,t)).detectRetina&&Be.retina?2:1,a=this.getTileSize();i.width=a.x*n,i.height=a.y*n,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,qi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),r=this._crs,i=R(r.project(t[0]),r.project(t[1])),s=i.min,n=i.max,a=(this._wmsVersion>=1.3&&this._crs===Vr?[s.y,s.x,n.y,n.x]:[s.x,s.y,n.x,n.y]).join(","),o=qi.prototype.getTileUrl.call(this,e);return o+m(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return r(this.wmsParams,e),t||this.redraw(),this}});function Wi(e,t){return new Hi(e,t)}qi.WMS=Hi,Ui.wms=Wi;var $i=Gr.extend({options:{padding:.1},initialize:function(e){p(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var r=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),n=i.multiplyBy(-r).add(s).subtract(this._map._getNewPixelOrigin(e,t));Be.any3d?At(this._container,n,r):Ct(this._container,n)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),r=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(r,r.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vi=$i.extend({options:{tolerance:0},getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");zt(e,"mousemove",this._onMouseMove,this),zt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,xt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=this._container,r=e.getSize(),i=Be.retina?2:1;Ct(t,e.min),t.width=i*r.x,t.height=i*r.y,t.style.width=r.x+"px",t.style.height=r.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,r=t.next,i=t.prev;r?r.prev=i:this._drawLast=i,i?i.next=r:this._drawFirst=r,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,r,i=e.options.dashArray.split(/[, ]+/),s=[];for(r=0;r<i.length;r++){if(t=Number(i[r]),isNaN(t))return;s.push(t)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var r=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var r,i,s,n,a=e._parts,o=a.length,l=this._ctx;if(o){for(l.beginPath(),r=0;r<o;r++){for(i=0,s=a[r].length;i<s;i++)n=a[r][i],l[i?"lineTo":"moveTo"](n.x,n.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,r=this._ctx,i=Math.max(Math.round(e._radius),1),s=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==s&&(r.save(),r.scale(1,s)),r.beginPath(),r.arc(t.x,t.y/s,i,0,2*Math.PI,!1),1!==s&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,t){var r=t.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&0!==r.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var t,r,i=this._map.mouseEventToLayerPoint(e),s=this._drawFirst;s;s=s.next)(t=s.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(r=t);this._fireEvent(!!r&&[r],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var r,i,n=this._drawFirst;n;n=n.next)(r=n.layer).options.interactive&&r._containsPoint(t)&&(i=r);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(_t(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,r){this._map._fireDOMEvent(t,r||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var r=t.next,i=t.prev;r&&(r.prev=i,i?i.next=r:r&&(this._drawFirst=r),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var r=t.next,i=t.prev;i&&(i.next=r,r?r.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Zi(e){return Be.canvas?new Vi(e):null}var Gi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(wl){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qi={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gi("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;xt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,r=e._fill,i=e.options,s=e._container;s.stroked=!!i.stroke,s.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Gi("stroke")),s.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=x(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(s.removeChild(t),e._stroke=null),i.fill?(r||(r=e._fill=Gi("fill")),s.appendChild(r),r.color=i.fillColor||i.color,r.opacity=i.fillOpacity):r&&(s.removeChild(r),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),r=Math.round(e._radius),i=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+r+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){vt(e._container)},_bringToBack:function(e){bt(e._container)}},Ki=Be.vml?Gi:J,Yi=$i.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=e.getSize(),r=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,r.setAttribute("width",t.x),r.setAttribute("height",t.y)),Ct(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ki("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){xt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,r=e.options;t&&(r.stroke?(t.setAttribute("stroke",r.color),t.setAttribute("stroke-opacity",r.opacity),t.setAttribute("stroke-width",r.weight),t.setAttribute("stroke-linecap",r.lineCap),t.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?t.setAttribute("stroke-dasharray",r.dashArray):t.removeAttribute("stroke-dasharray"),r.dashOffset?t.setAttribute("stroke-dashoffset",r.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),r.fill?(t.setAttribute("fill",r.fillColor||r.color),t.setAttribute("fill-opacity",r.fillOpacity),t.setAttribute("fill-rule",r.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,r=Math.max(Math.round(e._radius),1),i="a"+r+","+(Math.max(Math.round(e._radiusY),1)||r)+" 0 1,0 ",s=e._empty()?"M0 0":"M"+(t.x-r)+","+t.y+i+2*r+",0 "+i+2*-r+",0 ";this._setPath(e,s)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){vt(e._path)},_bringToBack:function(e){bt(e._path)}});function Ji(e){return Be.svg||Be.vml?new Yi(e):null}Be.vml&&Yi.include(Qi),nr.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Zi(e)||Ji(e)}});var Xi=hi.extend({initialize:function(e,t){hi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function es(e,t){return new Xi(e,t)}Yi.create=Ki,Yi.pointsToPath=X,mi.geometryToLayer=fi,mi.coordsToLatLng=xi,mi.coordsToLatLngs=yi,mi.latLngToCoords=vi,mi.latLngsToCoords=bi,mi.getFeature=wi,mi.asFeature=_i,nr.mergeOptions({boxZoom:!0});var ts=yr.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),at(),Ft(),this._startPoint=this._map.mouseEventToContainerPoint(e),zt(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),r=t.getSize();Ct(this._box,t.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(xt(this._box),Nt(this._container,"leaflet-crosshair")),ot(),Et(),Ut(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nr.addInitHook("addHandler","boxZoom",ts),nr.mergeOptions({doubleClickZoom:!0});var rs=yr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,r=t.getZoom(),i=t.options.zoomDelta,s=e.originalEvent.shiftKey?r-i:r+i;"center"===t.options.doubleClickZoom?t.setZoom(s):t.setZoomAround(e.containerPoint,s)}});nr.addInitHook("addHandler","doubleClickZoom",rs),nr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var is=yr.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wr(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),r=this._initialWorldOffset,i=this._draggable._newPos.x,s=(i-t+r)%e+t-r,n=(i+t+r)%e-t-r,a=Math.abs(s+r)<Math.abs(n+r)?s:n;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,r=t.options,i=!r.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),n=(this._lastTime-this._times[0])/1e3,a=r.easeLinearity,o=s.multiplyBy(a/n),l=o.distanceTo([0,0]),c=Math.min(r.inertiaMaxSpeed,l),d=o.multiplyBy(c/l),u=c/(r.inertiaDeceleration*a),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),j(function(){t.panBy(h,{duration:u,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nr.addInitHook("addHandler","dragging",is),nr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ss=yr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),zt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,r=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,r,i=this._panKeys={},s=this.keyCodes;for(t=0,r=s.left.length;t<r;t++)i[s.left[t]]=[-1*e,0];for(t=0,r=s.right.length;t<r;t++)i[s.right[t]]=[e,0];for(t=0,r=s.down.length;t<r;t++)i[s.down[t]]=[0,e];for(t=0,r=s.up.length;t<r;t++)i[s.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,r,i=this._zoomKeys={},s=this.keyCodes;for(t=0,r=s.zoomIn.length;t<r;t++)i[s.zoomIn[t]]=e;for(t=0,r=s.zoomOut.length;t<r;t++)i[s.zoomOut[t]]=-e},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,r=e.keyCode,i=this._map;if(r in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[r],e.shiftKey&&(t=O(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(O(t),i.options.maxBounds)),i.options.worldCopyJump){var s=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(s)}else i.panBy(t)}else if(r in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else{if(27!==r||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Yt(e)}}});nr.addInitHook("addHandler","keyboard",ss),nr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ns=yr.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=tr(e),r=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),i),Yt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),s=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,n=r?Math.ceil(s/r)*r:s,a=e._limitZoom(t+(this._delta>0?n:-n))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nr.addInitHook("addHandler","scrollWheelZoom",ns);var as=600;nr.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var os=yr.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new F(t.clientX,t.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Kt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),as),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ut(document,"touchend",Kt),Ut(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new F(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});r._simulated=!0,t.target.dispatchEvent(r)}});nr.addInitHook("addHandler","tapHold",os),nr.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var ls=yr.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var r=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(i)._divideBy(2))),this._startDist=r.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,r=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),n=r.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(n,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&n<1||this._zoom>t.getMaxZoom()&&n>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var a=r._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var o=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(o,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nr.addInitHook("addHandler","touchZoom",ls),nr.BoxZoom=ts,nr.DoubleClickZoom=rs,nr.Drag=is,nr.Keyboard=ss,nr.ScrollWheelZoom=ns,nr.TapHold=os,nr.TouchZoom=ls,e.Bounds=M,e.Browser=Be,e.CRS=H,e.Canvas=Vi,e.Circle=li,e.CircleMarker=ai,e.Class=A,e.Control=or,e.DivIcon=Ri,e.DivOverlay=Ti,e.DomEvent=ir,e.DomUtil=Bt,e.Draggable=wr,e.Evented=T,e.FeatureGroup=Yr,e.GeoJSON=mi,e.GridLayer=Bi,e.Handler=yr,e.Icon=Xr,e.ImageOverlay=Si,e.LatLng=z,e.LatLngBounds=D,e.Layer=Gr,e.LayerGroup=Qr,e.LineUtil=qr,e.Map=nr,e.Marker=ii,e.Mixin=vr,e.Path=ni,e.Point=F,e.PolyUtil=Sr,e.Polygon=hi,e.Polyline=di,e.Popup=Fi,e.PosAnimation=sr,e.Projection=Wr,e.Rectangle=Xi,e.Renderer=$i,e.SVG=Yi,e.SVGOverlay=Ci,e.TileLayer=qi,e.Tooltip=Oi,e.Transformation=Z,e.Util=P,e.VideoOverlay=Li,e.bind=s,e.bounds=R,e.canvas=Zi,e.circle=ci,e.circleMarker=oi,e.control=lr,e.divIcon=Di,e.extend=r,e.featureGroup=Jr,e.geoJSON=ki,e.geoJson=ji,e.gridLayer=zi,e.icon=ei,e.imageOverlay=Pi,e.latLng=q,e.latLngBounds=B,e.layerGroup=Kr,e.map=ar,e.marker=si,e.point=O,e.polygon=pi,e.polyline=ui,e.popup=Ei,e.rectangle=es,e.setOptions=p,e.stamp=a,e.svg=Ji,e.svgOverlay=Ii,e.tileLayer=Ui,e.tooltip=Mi,e.transformation=G,e.version=t,e.videoOverlay=Ai;var cs=window.L;e.noConflict=function(){return window.L=cs,this},window.L=e}(jc.exports);const Sc=l(jc.exports);delete Sc.Icon.Default.prototype._getIconUrl,Sc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Pc=e=>{const t=Ln[e]||Ln.wholesale;return Sc.divIcon({html:`\n      <div style="\n        background-color: ${t.color};\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border: 3px solid white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        font-size: 14px;\n      ">\n        ${t.icon}\n      </div>\n    `,className:"custom-marker",iconSize:[30,30],iconAnchor:[15,15]})},Lc=Sc.divIcon({html:'\n    <div style="\n      background-color: #EF4444;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n      animation: pulse 2s infinite;\n    "></div>\n    <style>\n      @keyframes pulse {\n        0% { transform: scale(1); opacity: 1; }\n        50% { transform: scale(1.2); opacity: 0.7; }\n        100% { transform: scale(1); opacity: 1; }\n      }\n    </style>\n  ',className:"user-location-marker",iconSize:[20,20],iconAnchor:[10,10]}),Ac=({selectedStore:e=null,userLocation:t=null,height:i="400px",showUserLocation:s=!0,filteredStores:n=Pn})=>{const{t:a}=yi(),o=r.useRef(null),l=r.useRef(null),c=r.useRef([]);return r.useEffect(()=>{if(!o.current||l.current)return;const e=Sc.map(o.current).setView([19.076,72.8777],12);return Sc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e),l.current=e,()=>{l.current&&(l.current.remove(),l.current=null)}},[]),r.useEffect(()=>{if(l.current){if(c.current.forEach(e=>{l.current.removeLayer(e)}),c.current=[],s&&t){const e=Sc.marker([t.lat,t.lng],{icon:Lc}).addTo(l.current);e.bindPopup('\n        <div class="text-center p-2">\n          <div class="font-semibold text-red-600">Your Location</div>\n          <div class="text-sm text-gray-600">Current position</div>\n        </div>\n      '),c.current.push(e)}n.forEach(e=>{const t=Sc.marker(e.coordinates,{icon:Pc(e.type)}).addTo(l.current);t.bindPopup((e=>{var t,r;return`\n    <div class="p-3 max-w-sm">\n      <div class="w-full h-32 mb-3 rounded-lg overflow-hidden">\n        <img\n          src="${e.image}"\n          alt="${e.name}"\n          class="w-full h-full object-cover"\n          onerror="this.src='https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=200&fit=crop'"\n        />\n      </div>\n\n      <div class="space-y-2">\n        <div class="flex items-start justify-between">\n          <h3 class="font-bold text-lg text-gray-900 leading-tight">\n            ${e.name}\n          </h3>\n          ${e.verified?'<div class="w-5 h-5 text-blue-500 ml-2">✓</div>':""}\n        </div>\n\n        <div class="flex items-center space-x-2">\n          <span class="text-lg">${(null==(t=Ln[e.type])?void 0:t.icon)||"🏪"}</span>\n          <span class="text-sm font-medium text-gray-600">\n            ${(null==(r=Ln[e.type])?void 0:r.name)||"Store"}\n          </span>\n        </div>\n\n        <div class="flex items-center space-x-1">\n          <span class="text-yellow-400">⭐</span>\n          <span class="text-sm font-medium">${e.rating}</span>\n          <span class="text-xs text-gray-500">(${e.distance||0} km away)</span>\n        </div>\n\n        <div class="flex items-start space-x-2">\n          <span class="text-gray-500">📍</span>\n          <span class="text-sm text-gray-600 leading-tight">${e.address}</span>\n        </div>\n\n        <div class="flex items-center space-x-2">\n          <span class="text-gray-500">📞</span>\n          <a href="tel:${e.phone}" class="text-sm text-blue-600 hover:underline">\n            ${e.phone}\n          </a>\n        </div>\n\n        <div class="flex items-center space-x-2">\n          <span class="text-gray-500">🕒</span>\n          <span class="text-sm text-gray-600">${e.openHours}</span>\n        </div>\n\n        <div class="mt-3 pt-2 border-t border-gray-200">\n          <a\n            href="https://www.google.com/maps/dir/?api=1&destination=${e.coordinates[0]},${e.coordinates[1]}"\n            target="_blank"\n            rel="noopener noreferrer"\n            class="flex items-center justify-center space-x-2 w-full bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium"\n          >\n            <span>🧭</span>\n            <span>Get Directions</span>\n          </a>\n        </div>\n      </div>\n    </div>\n  `})(e),{maxWidth:300,className:"store-popup"}),c.current.push(t)}),e?l.current.setView(e.coordinates,15):t&&l.current.setView([t.lat,t.lng],13)}},[e,t,n,s,a]),Dt.jsx("div",{ref:o,style:{height:i},className:"rounded-lg overflow-hidden border border-gray-200"})},Cc=({selectedStore:e=null,userLocation:t=null,height:i="400px",filteredStores:s=Pn})=>{const{t:n}=yi(),[a,o]=r.useState((null==e?void 0:e.id)||null),l=({store:e,isSelected:t})=>{var r,i,s;return Dt.jsx("div",{className:"p-4 border rounded-lg cursor-pointer transition-all "+(t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>o(e.id),children:Dt.jsxs("div",{className:"flex items-start space-x-3",children:[Dt.jsx("div",{className:"flex-shrink-0",children:Dt.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold",style:{backgroundColor:(null==(r=Ln[e.type])?void 0:r.color)||"#3B82F6"},children:(null==(i=Ln[e.type])?void 0:i.icon)||"🏪"})}),Dt.jsxs("div",{className:"flex-1 min-w-0",children:[Dt.jsxs("div",{className:"flex items-start justify-between",children:[Dt.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:e.name}),e.verified&&Dt.jsx(he,{className:"w-4 h-4 text-blue-500 flex-shrink-0 ml-2"})]}),Dt.jsx("p",{className:"text-xs text-gray-600 mt-1",children:null==(s=Ln[e.type])?void 0:s.name}),Dt.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[Dt.jsxs("div",{className:"flex items-center space-x-1",children:[Dt.jsx(x,{className:"w-3 h-3 text-yellow-400 fill-current"}),Dt.jsx("span",{className:"text-xs",children:e.rating})]}),e.distance&&Dt.jsxs("span",{className:"text-xs text-gray-500",children:[e.distance," km"]})]}),Dt.jsxs("div",{className:"flex space-x-2 mt-3",children:[Dt.jsxs("a",{href:`tel:${e.phone}`,className:"flex items-center space-x-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200",onClick:e=>e.stopPropagation(),children:[Dt.jsx(W,{className:"w-3 h-3"}),Dt.jsx("span",{children:"Call"})]}),Dt.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${e.coordinates[0]},${e.coordinates[1]}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",onClick:e=>e.stopPropagation(),children:[Dt.jsx(G,{className:"w-3 h-3"}),Dt.jsx("span",{children:"Directions"})]})]})]})]})})};return Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",style:{height:i},children:[Dt.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 bg-gray-100 flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center p-8",children:[Dt.jsx(A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Interactive Map"}),Dt.jsx("p",{className:"text-gray-600 mb-4",children:"Click on stores below to see their locations"}),t&&Dt.jsx("div",{className:"text-sm text-green-600 mb-4",children:"📍 Your location detected"}),Dt.jsxs("a",{href:`https://www.google.com/maps/search/stores/@${(null==t?void 0:t.lat)||19.076},${(null==t?void 0:t.lng)||72.8777},13z`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Dt.jsx(pe,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Open in Google Maps"})]})]})}),Dt.jsxs("div",{className:"space-y-3 max-h-full overflow-y-auto",children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Nearby Stores (",s.length,")"]}),s.map(e=>Dt.jsx(l,{store:e,isSelected:a===e.id},e.id)),0===s.length&&Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),Dt.jsx("p",{className:"text-gray-600",children:"No stores found"})]})]})]})},Ic=()=>{const{t:e}=yi(),{userProfile:t}=hn(),[i,s]=r.useState(null),[n,a]=r.useState(null),[o,l]=r.useState(Pn),[c,d]=r.useState(null),[u,h]=r.useState(""),[p,m]=r.useState("both"),[f,g]=r.useState("distance"),[y,v]=r.useState(null),[b,w]=r.useState(!1),[_,j]=r.useState(!1),S=()=>{if(w(!0),v(null),!navigator.geolocation)return v("Geolocation is not supported by this browser."),void w(!1);navigator.geolocation.getCurrentPosition(e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};a(t),w(!1);const r=Pn.map(e=>({...e,distance:An(t.lat,t.lng,e.coordinates[0],e.coordinates[1])}));l(r)},e=>{v("Unable to retrieve your location. Please enable location services."),w(!1),console.error("Geolocation error:",e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};r.useEffect(()=>{let e=Pn;var t;c&&(t=c,e=Pn.filter(e=>e.type===t)),u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.address.toLowerCase().includes(u.toLowerCase())||e.specialties.some(e=>e.toLowerCase().includes(u.toLowerCase())))),n&&(e=e.map(e=>({...e,distance:An(n.lat,n.lng,e.coordinates[0],e.coordinates[1])}))),e.sort((e,t)=>{switch(f){case"distance":return(e.distance||999)-(t.distance||999);case"rating":return t.rating-e.rating;case"name":return e.name.localeCompare(t.name);default:return 0}}),l(e)},[c,u,n,f]),r.useEffect(()=>{S()},[]);const P=({store:t})=>{var r,n;return Dt.jsxs("div",{className:"card cursor-pointer transition-all duration-200 hover:shadow-lg "+((null==i?void 0:i.id)===t.id?"ring-2 ring-primary-500":""),onClick:()=>s(t),children:[Dt.jsx("div",{className:"w-full h-40 bg-gray-200 rounded-lg overflow-hidden mb-4",children:Dt.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=200&fit=crop"}})}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-start justify-between",children:[Dt.jsx("h3",{className:"font-bold text-lg text-gray-900 leading-tight",children:t.name}),t.verified&&Dt.jsx(he,{className:"w-5 h-5 text-blue-500 flex-shrink-0 ml-2"})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("span",{className:"text-lg",children:null==(r=Ln[t.type])?void 0:r.icon}),Dt.jsx("span",{className:"text-sm font-medium text-gray-600",children:null==(n=Ln[t.type])?void 0:n.name})]}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{className:"flex items-center space-x-1",children:[Dt.jsx(x,{className:"w-4 h-4 text-yellow-400 fill-current"}),Dt.jsx("span",{className:"text-sm font-medium",children:t.rating})]}),t.distance&&Dt.jsxs("span",{className:"text-sm text-gray-500",children:[t.distance," km away"]})]}),Dt.jsxs("div",{className:"flex items-start space-x-2",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),Dt.jsx("span",{className:"text-sm text-gray-600 leading-tight line-clamp-2",children:t.address})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(W,{className:"w-4 h-4 text-gray-500"}),Dt.jsx("span",{className:"text-sm text-gray-600",children:t.phone})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(N,{className:"w-4 h-4 text-gray-500"}),Dt.jsx("span",{className:"text-sm text-gray-600",children:t.openHours})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.specialties.slice(0,3).map((t,r)=>Dt.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e(`categories.${t}`,t)},r)),t.specialties.length>3&&Dt.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",t.specialties.length-3," more"]})]}),Dt.jsxs("div",{className:"flex space-x-2 pt-2",children:[Dt.jsxs("a",{href:`tel:${t.phone}`,className:"flex-1 btn-secondary text-sm py-2 flex items-center justify-center space-x-1",onClick:e=>e.stopPropagation(),children:[Dt.jsx(W,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Call"})]}),Dt.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${t.coordinates[0]},${t.coordinates[1]}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 btn-primary text-sm py-2 flex items-center justify-center space-x-1",onClick:e=>e.stopPropagation(),children:[Dt.jsx(G,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Directions"})]})]})]})]})};return"supplier"===(null==t?void 0:t.role)?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx(E,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Restricted"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Suppliers cannot access the store locator. Please use your supplier dashboard to manage your business."}),Dt.jsx("button",{onClick:()=>window.location.href="/",className:"btn-primary",children:"Go to Dashboard"})]})})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e("navigation.suppliers")}),Dt.jsxs("div",{className:"mb-4",children:[b&&Dt.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[Dt.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),Dt.jsx("span",{className:"text-sm",children:"Getting your location..."})]}),y&&Dt.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[Dt.jsx("span",{className:"text-sm",children:y}),Dt.jsx("button",{onClick:S,className:"text-sm underline hover:no-underline",children:"Try again"})]}),n&&!b&&Dt.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[Dt.jsx(me,{className:"w-4 h-4"}),Dt.jsx("span",{className:"text-sm",children:"Location found - showing nearest stores"})]})]})]}),Dt.jsxs("div",{className:"mb-6 space-y-4",children:[Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Dt.jsxs("div",{className:"flex-1 relative",children:[Dt.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),Dt.jsx("input",{type:"text",placeholder:"Search stores, locations, or specialties...",value:u,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),Dt.jsxs("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[Dt.jsxs("button",{onClick:()=>m("map"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("map"===p?"bg-white text-gray-900 shadow":"text-gray-600"),children:[Dt.jsx(E,{className:"w-4 h-4 inline mr-1"}),"Map"]}),Dt.jsxs("button",{onClick:()=>m("list"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("list"===p?"bg-white text-gray-900 shadow":"text-gray-600"),children:[Dt.jsx(J,{className:"w-4 h-4 inline mr-1"}),"List"]}),Dt.jsx("button",{onClick:()=>m("both"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("both"===p?"bg-white text-gray-900 shadow":"text-gray-600"),children:"Both"})]})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(K,{className:"w-4 h-4 text-gray-500"}),Dt.jsxs("select",{value:c||"",onChange:e=>d(e.target.value||null),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-primary-500",children:[Dt.jsx("option",{value:"",children:"All Store Types"}),Object.entries(Ln).map(([e,t])=>Dt.jsxs("option",{value:e,children:[t.icon," ",t.name]},e))]})]}),Dt.jsxs("select",{value:f,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-primary-500",children:[Dt.jsx("option",{value:"distance",children:"Sort by Distance"}),Dt.jsx("option",{value:"rating",children:"Sort by Rating"}),Dt.jsx("option",{value:"name",children:"Sort by Name"})]}),Dt.jsxs("button",{onClick:S,disabled:b,className:"btn-secondary text-sm px-3 py-1 flex items-center space-x-1",children:[Dt.jsx(me,{className:"w-4 h-4"}),Dt.jsx("span",{children:b?"Getting...":"Get Location"})]})]})]}),Dt.jsxs("div",{className:"grid gap-6 "+("both"===p?"lg:grid-cols-2":"grid-cols-1"),children:[("map"===p||"both"===p)&&Dt.jsx("div",{className:"order-1 lg:order-1",children:_?Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Store Locations"}),Dt.jsx("button",{onClick:()=>j(!1),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Try Interactive Map"})]}),Dt.jsx(Cc,{selectedStore:i,userLocation:n,height:"both"===p?"500px":"600px",filteredStores:o})]}):Dt.jsxs("div",{className:"relative",children:[Dt.jsx(Ac,{selectedStore:i,userLocation:n,height:"both"===p?"500px":"600px",filteredStores:o}),Dt.jsx("div",{className:"absolute top-2 right-2",children:Dt.jsx("button",{onClick:()=>j(!0),className:"px-3 py-1 bg-white border border-gray-300 rounded text-xs text-gray-600 hover:bg-gray-50",children:"Switch to Simple View"})})]})}),("list"===p||"both"===p)&&Dt.jsxs("div",{className:"order-2 lg:order-2",children:[Dt.jsx("div",{className:"mb-4 flex items-center justify-between",children:Dt.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Nearby Stores (",o.length,")"]})}),Dt.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[o.map(e=>Dt.jsx(P,{store:e},e.id)),0===o.length&&Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No stores found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]})]})]})]})]})})},Tc=()=>{var e,t,i,s;const{t:n,i18n:a}=yi(),{user:o,userProfile:l,updateUserProfile:d,signOut:u}=hn(),{theme:h,toggleTheme:p}=bi(),[m,f]=r.useState(!1),[g,x]=r.useState({name:(null==l?void 0:l.name)||"",phone:(null==l?void 0:l.phone)||"",address:(null==l?void 0:l.address)||"",businessName:(null==l?void 0:l.businessName)||"",businessType:(null==l?void 0:l.businessType)||"street_vendor",deliveryAddress:(null==l?void 0:l.deliveryAddress)||{street:"",city:"",state:"",pincode:"",landmark:""}});return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("navigation.profile")}),Dt.jsxs("button",{onClick:async()=>{window.confirm("Are you sure you want to sign out?")&&await u()},className:"flex items-center space-x-2 text-red-600 hover:text-red-700",children:[Dt.jsx(fe,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Sign Out"})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Dt.jsx("div",{className:"lg:col-span-2",children:Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Dt.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),m?Dt.jsxs("div",{className:"flex space-x-2",children:[Dt.jsxs("button",{onClick:async()=>{try{(await d(g)).success&&(f(!1),c.success("Profile updated successfully!"))}catch(uu){c.error("Failed to update profile")}},className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md",children:[Dt.jsx(xe,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Save"})]}),Dt.jsxs("button",{onClick:()=>{x({name:(null==l?void 0:l.name)||"",phone:(null==l?void 0:l.phone)||"",address:(null==l?void 0:l.address)||"",businessName:(null==l?void 0:l.businessName)||"",businessType:(null==l?void 0:l.businessType)||"street_vendor",deliveryAddress:(null==l?void 0:l.deliveryAddress)||{street:"",city:"",state:"",pincode:"",landmark:""}}),f(!1)},className:"flex items-center space-x-1 bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded-md",children:[Dt.jsx(b,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Cancel"})]})]}):Dt.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700",children:[Dt.jsx(ge,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Edit"})]})]}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsx("div",{className:"w-20 h-20 bg-primary-100 dark:bg-primary-900/20 rounded-full flex items-center justify-center",children:Dt.jsx(I,{className:"w-10 h-10 text-primary-600 dark:text-primary-400"})}),Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g.name||"Street Vendor"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:g.businessName||"Business Name"})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),m?Dt.jsx("input",{type:"text",value:g.name,onChange:e=>x({...g,name:e.target.value}),className:"input-field",placeholder:"Enter your full name"}):Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(I,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{children:g.name||"Not provided"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(V,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{children:null==o?void 0:o.email})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),m?Dt.jsx("input",{type:"tel",value:g.phone,onChange:e=>x({...g,phone:e.target.value}),className:"input-field",placeholder:"Enter your phone number"}):Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(W,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{children:g.phone||"Not provided"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Type"}),m?Dt.jsxs("select",{value:g.businessType,onChange:e=>x({...g,businessType:e.target.value}),className:"input-field",children:[Dt.jsx("option",{value:"street_vendor",children:"Street Vendor"}),Dt.jsx("option",{value:"small_shop",children:"Small Shop"}),Dt.jsx("option",{value:"restaurant",children:"Restaurant"}),Dt.jsx("option",{value:"catering",children:"Catering Service"}),Dt.jsx("option",{value:"other",children:"Other"})]}):Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(ye,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{children:(null==(e=g.businessType)?void 0:e.replace("_"," ").toUpperCase())||"Not specified"})]})]}),Dt.jsxs("div",{className:"md:col-span-2",children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Name"}),m?Dt.jsx("input",{type:"text",value:g.businessName,onChange:e=>x({...g,businessName:e.target.value}),className:"input-field",placeholder:"Enter your business name"}):Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(ye,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{children:g.businessName||"Not provided"})]})]}),Dt.jsxs("div",{className:"md:col-span-2",children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Address"}),m?Dt.jsx("textarea",{value:g.address,onChange:e=>x({...g,address:e.target.value}),className:"input-field",rows:"3",placeholder:"Enter your business address"}):Dt.jsxs("div",{className:"flex items-start space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-400 mt-1"}),Dt.jsx("span",{children:g.address||"Not provided"})]})]}),Dt.jsxs("div",{className:"md:col-span-2",children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Address"}),m?Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsx("input",{type:"text",value:g.deliveryAddress.street,onChange:e=>x({...g,deliveryAddress:{...g.deliveryAddress,street:e.target.value}}),className:"input-field",placeholder:"Street Address"}),Dt.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Dt.jsx("input",{type:"text",value:g.deliveryAddress.city,onChange:e=>x({...g,deliveryAddress:{...g.deliveryAddress,city:e.target.value}}),className:"input-field",placeholder:"City"}),Dt.jsx("input",{type:"text",value:g.deliveryAddress.state,onChange:e=>x({...g,deliveryAddress:{...g.deliveryAddress,state:e.target.value}}),className:"input-field",placeholder:"State"})]}),Dt.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Dt.jsx("input",{type:"text",value:g.deliveryAddress.pincode,onChange:e=>x({...g,deliveryAddress:{...g.deliveryAddress,pincode:e.target.value}}),className:"input-field",placeholder:"Pincode"}),Dt.jsx("input",{type:"text",value:g.deliveryAddress.landmark,onChange:e=>x({...g,deliveryAddress:{...g.deliveryAddress,landmark:e.target.value}}),className:"input-field",placeholder:"Landmark (Optional)"})]})]}):Dt.jsxs("div",{className:"flex items-start space-x-2 text-gray-900 dark:text-white",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-400 mt-1"}),Dt.jsx("div",{children:g.deliveryAddress.street?Dt.jsxs("div",{className:"space-y-1",children:[Dt.jsx("div",{children:g.deliveryAddress.street}),Dt.jsxs("div",{children:[g.deliveryAddress.city,", ",g.deliveryAddress.state," ",g.deliveryAddress.pincode]}),g.deliveryAddress.landmark&&Dt.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Near: ",g.deliveryAddress.landmark]})]}):Dt.jsx("span",{children:"Not provided"})})]})]})]}),Dt.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Account Information"}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(ce,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Member since:"}),Dt.jsx("span",{className:"text-gray-900 dark:text-white",children:(null==(s=null==(i=null==(t=null==l?void 0:l.createdAt)?void 0:t.toDate)?void 0:i.call(t))?void 0:s.toLocaleDateString())||"Recently"})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(ye,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Account status:"}),Dt.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Active"})]})]})]})]})]})}),Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(B,{className:"w-5 h-5 mr-2"}),"Language"]}),Dt.jsx("div",{className:"space-y-2",children:[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"हिंदी",nativeName:"हिंदी"},{code:"te",name:"తెలుగు",nativeName:"తెలుగు"},{code:"ta",name:"தமிழ்",nativeName:"தமிழ்"},{code:"kn",name:"ಕನ್ನಡ",nativeName:"ಕನ್ನಡ"}].map(e=>Dt.jsxs("button",{onClick:()=>(async e=>{try{await a.changeLanguage(e),localStorage.setItem("baazar-dost-language",e),c.success("Language updated!")}catch(uu){c.error("Failed to change language")}})(e.code),className:"w-full text-left p-3 rounded-lg transition-colors "+(a.language===e.code?"bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:[Dt.jsx("div",{className:"font-medium",children:e.name}),Dt.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.nativeName})]},e.code))})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:["dark"===h?Dt.jsx(U,{className:"w-5 h-5 mr-2"}):Dt.jsx(q,{className:"w-5 h-5 mr-2"}),"Theme"]}),Dt.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-3 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[Dt.jsx("span",{children:"dark"===h?"Dark Mode":"Light Mode"}),"dark"===h?Dt.jsx(U,{className:"w-5 h-5"}):Dt.jsx(q,{className:"w-5 h-5"})]})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(v,{className:"w-5 h-5 mr-2"}),"Notifications"]}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("label",{className:"flex items-center",children:[Dt.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),Dt.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Order updates"})]}),Dt.jsxs("label",{className:"flex items-center",children:[Dt.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),Dt.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"New deals & offers"})]}),Dt.jsxs("label",{className:"flex items-center",children:[Dt.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),Dt.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Marketing emails"})]})]})]})]})]})]})})},Fc=()=>{const{t:e}=yi(),{user:t,userProfile:i}=hn(),[s,n]=r.useState("7d"),[a,o]=r.useState("revenue"),[l,c]=r.useState(!0),[d,u]=r.useState({revenue:{current:0,previous:0,change:0,trend:"up"},orders:{current:0,previous:0,change:0,trend:"up"},customers:{current:0,previous:0,change:0,trend:"up"},avgOrder:{current:0,previous:0,change:0,trend:"up"}}),[h,p]=r.useState({totalProducts:0,activeProducts:0,totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,topProducts:[],recentOrders:[]});r.useEffect(()=>{t&&"supplier"===(null==i?void 0:i.role)&&f()},[t,i,s]);const f=async()=>{try{c(!0);const e=xt(on,"supplier_products"),r=yt(e,vt("supplierId","==",t.uid)),n=await bt(r),a=[];n.forEach(e=>{a.push({id:e.id,...e.data()})});const o=xt(on,"orders"),l=yt(o,_t("createdAt","desc")),d=await bt(l),h=[];d.forEach(e=>{var r,s;const n={id:e.id,...e.data()},a=(null==(r=n.items)?void 0:r.filter(e=>e.supplierId===t.uid||e.supplierName===(null==i?void 0:i.businessName)))||[];a.length>0&&h.push({...n,items:a,createdAt:(null==(s=n.createdAt)?void 0:s.toDate())||new Date})});const m=new Date,f=g(s),x=new Date(m.getTime()-f),y=new Date(m.getTime()-2*f),v=h.filter(e=>e.createdAt>=x),b=h.filter(e=>e.createdAt>=y&&e.createdAt<x),w=v.filter(e=>"delivered"===e.status).reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0),_=b.filter(e=>"delivered"===e.status).reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0),N=new Set(v.map(e=>e.userId)).size,k=new Set(b.map(e=>e.userId)).size,j=v.length>0?w/v.length:0,S=b.length>0?_/b.length:0,P={};h.forEach(e=>{e.items.forEach(e=>{P[e.productId]||(P[e.productId]={name:e.name,quantity:0,revenue:0}),P[e.productId].quantity+=e.quantity,P[e.productId].revenue+=e.price*e.quantity})});const L=Object.values(P).sort((e,t)=>t.revenue-e.revenue).slice(0,5);u({revenue:{current:w,previous:_,change:_>0?(w-_)/_*100:0,trend:w>=_?"up":"down"},orders:{current:v.length,previous:b.length,change:b.length>0?(v.length-b.length)/b.length*100:0,trend:v.length>=b.length?"up":"down"},customers:{current:N,previous:k,change:k>0?(N-k)/k*100:0,trend:N>=k?"up":"down"},avgOrder:{current:j,previous:S,change:S>0?(j-S)/S*100:0,trend:j>=S?"up":"down"}}),p({totalProducts:a.length,activeProducts:a.filter(e=>e.isActive&&e.inStock).length,totalOrders:h.length,pendingOrders:h.filter(e=>"pending"===e.status).length,completedOrders:h.filter(e=>"delivered"===e.status).length,totalRevenue:h.filter(e=>"delivered"===e.status).reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0),topProducts:L,recentOrders:h.slice(0,5)})}catch(uu){console.error("Error loading analytics:",uu)}finally{c(!1)}},g=e=>{switch(e){case"24h":return 864e5;case"7d":default:return 6048e5;case"30d":return 2592e6;case"90d":return 7776e6}},y=e=>{switch(e){case"delivered":return"text-green-600 bg-green-100";case"shipped":return"text-blue-600 bg-blue-100";case"processing":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},v=({title:e,value:t,change:r,trend:i,icon:s,prefix:n="",suffix:a=""})=>Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),Dt.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n,t.toLocaleString(),a]})]}),Dt.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(s,{className:"w-6 h-6 text-primary-600"})})]}),Dt.jsxs("div",{className:"mt-4 flex items-center",children:["up"===i?Dt.jsx(S,{className:"w-4 h-4 text-green-500 mr-1"}):Dt.jsx(ie,{className:"w-4 h-4 text-red-500 mr-1"}),Dt.jsxs("span",{className:"text-sm font-medium "+("up"===i?"text-green-600":"text-red-600"),children:[r>0?"+":"",r,"%"]}),Dt.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last period"})]})]});return Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your business performance and insights"})]}),Dt.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[Dt.jsxs("select",{value:s,onChange:e=>n(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[Dt.jsx("option",{value:"7d",children:"Last 7 days"}),Dt.jsx("option",{value:"30d",children:"Last 30 days"}),Dt.jsx("option",{value:"90d",children:"Last 3 months"}),Dt.jsx("option",{value:"1y",children:"Last year"})]}),Dt.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[Dt.jsx(le,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Export"})]})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Dt.jsx(v,{title:"Total Revenue",value:d.revenue.current,change:d.revenue.change,trend:d.revenue.trend,icon:de,prefix:"₹"}),Dt.jsx(v,{title:"Total Orders",value:d.orders.current,change:d.orders.change,trend:d.orders.trend,icon:C}),Dt.jsx(v,{title:"Active Customers",value:d.customers.current,change:d.customers.change,trend:d.customers.trend,icon:$}),Dt.jsx(v,{title:"Avg Order Value",value:d.avgOrder.current,change:d.avgOrder.change,trend:d.avgOrder.trend,icon:S,prefix:"₹"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Products"}),Dt.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All"})]}),Dt.jsx("div",{className:"space-y-4",children:[{name:"Basmati Rice (25kg)",sales:45,revenue:8750,growth:12.5},{name:"Turmeric Powder (1kg)",sales:38,revenue:3420,growth:8.3},{name:"Red Chili Powder (500g)",sales:32,revenue:2880,growth:-2.1},{name:"Cumin Seeds (1kg)",sales:28,revenue:4200,growth:15.7},{name:"Garam Masala (250g)",sales:25,revenue:1875,growth:5.2}].map((e,t)=>Dt.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name}),Dt.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.sales," sales • ₹",e.revenue.toLocaleString()]})]}),Dt.jsx("div",{className:"text-right",children:Dt.jsxs("div",{className:"text-xs font-medium "+(e.growth>0?"text-green-600":"text-red-600"),children:[e.growth>0?"+":"",e.growth,"%"]})})]},t))})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Orders"}),Dt.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All"})]}),Dt.jsx("div",{className:"space-y-3",children:[{id:"ORD-001",customer:"Raj Kumar",amount:450,status:"delivered",time:"2 hours ago"},{id:"ORD-002",customer:"Priya Sharma",amount:320,status:"processing",time:"4 hours ago"},{id:"ORD-003",customer:"Mohammed Ali",amount:680,status:"shipped",time:"6 hours ago"},{id:"ORD-004",customer:"Sunita Devi",amount:290,status:"delivered",time:"8 hours ago"},{id:"ORD-005",customer:"Vikram Singh",amount:520,status:"processing",time:"10 hours ago"}].map((e,t)=>Dt.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[Dt.jsxs("div",{className:"flex-1",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.id}),Dt.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(e.status)}`,children:e.status})]}),Dt.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[e.customer," • ",e.time]})]}),Dt.jsx("div",{className:"text-right",children:Dt.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["₹",e.amount]})})]},t))})]})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(ve,{className:"w-4 h-4"})}),Dt.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(be,{className:"w-4 h-4"})})]})]}),Dt.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:Dt.jsxs("div",{className:"text-center",children:[Dt.jsx(we,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Revenue chart will be displayed here"}),Dt.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Integration with charting library needed"})]})})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Dt.jsx("button",{className:"card hover:shadow-lg transition-shadow text-left",children:Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(m,{className:"w-5 h-5 text-blue-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Add Product"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add new products to catalog"})]})]})}),Dt.jsx("button",{className:"card hover:shadow-lg transition-shadow text-left",children:Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx($,{className:"w-5 h-5 text-green-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Customer Insights"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View customer analytics"})]})]})}),Dt.jsx("button",{className:"card hover:shadow-lg transition-shadow text-left",children:Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(x,{className:"w-5 h-5 text-purple-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Reviews"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage customer reviews"})]})]})})]})]})},Ec=()=>{const{user:e,userProfile:t}=hn(),[i,s]=r.useState([]),[n,a]=r.useState(!0),[o,l]=r.useState(!1),[d,u]=r.useState(null),[h,p]=r.useState(null),[f,g]=r.useState(!1),[x,y]=r.useState({name:"",description:"",category:"",unitPrice:"",bulkPrice:"",unit:"",bulkUnit:"",minBulkQuantity:"",stockQuantity:"",image:"",imageFile:null,imageType:"url",tags:"",gst:""});r.useEffect(()=>{w(),v()},[e]);const v=async()=>{g(!0);try{const e=await Vn();p(e),c.success("Location detected successfully!")}catch(uu){console.error("Error getting location:",uu),c.error(uu.message||"Could not get your location. Please enable location services.")}finally{g(!1)}},w=async()=>{try{a(!0);const t=xt(on,"supplier_products"),r=yt(t,vt("supplierId","==",null==e?void 0:e.uid)),i=await bt(r),n=[];i.forEach(e=>{n.push({id:e.id,...e.data()})}),s(n)}catch(uu){console.error("Error loading products:",uu),c.error("Failed to load products")}finally{a(!1)}},N=(e,t)=>{y(r=>({...r,[e]:t}))},k=()=>{y({name:"",description:"",category:"",unitPrice:"",bulkPrice:"",unit:"",bulkUnit:"",minBulkQuantity:"",stockQuantity:"",image:"",imageFile:null,imageType:"url",imagePreview:null,tags:"",gst:""}),u(null),l(!1)};return n?Dt.jsx("div",{className:"flex justify-center items-center h-64",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center",children:[Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Products"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your product catalog"})]}),Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[Dt.jsx(A,{className:"w-4 h-4 "+(h?"text-green-500":"text-red-500")}),Dt.jsx("span",{className:h?"text-green-600":"text-red-600",children:f?"Getting location...":h?"Location detected":"Location required"}),!h&&Dt.jsx("button",{onClick:v,className:"text-primary-600 hover:text-primary-700 underline",disabled:f,children:"Enable"})]}),Dt.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center space-x-2",children:[Dt.jsx(ne,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Add Product"})]})]})]}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>Dt.jsxs("div",{className:"card",children:[Dt.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:e.image?"application/pdf"===e.fileType?Dt.jsxs("div",{className:"w-full h-48 bg-gray-100 dark:bg-gray-700 rounded-lg flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600",children:[Dt.jsx("div",{className:"text-red-500 mb-2",children:Dt.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 20 20",children:Dt.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"PDF Document"}),e.fileName&&Dt.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center truncate max-w-full px-2",children:e.fileName})]}):Dt.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover rounded-lg"}):Dt.jsx("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:Dt.jsx(_e,{className:"w-12 h-12 text-gray-400"})})}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),Dt.jsxs("div",{className:"flex items-center justify-between",children:[Dt.jsxs("div",{children:[Dt.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["₹",e.unitPrice]}),Dt.jsxs("span",{className:"text-sm text-gray-500",children:["/",e.unit]})]}),Dt.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(e.inStock?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:e.inStock?"In Stock":"Out of Stock"})]}),Dt.jsxs("div",{className:"flex items-center justify-between pt-2",children:[Dt.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",e.stockQuantity]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx("button",{onClick:()=>(e=>{var t;u(e),y({name:e.name,description:e.description,category:e.category,unitPrice:e.unitPrice.toString(),bulkPrice:e.bulkPrice.toString(),unit:e.unit,bulkUnit:e.bulkUnit,minBulkQuantity:e.minBulkQuantity.toString(),stockQuantity:e.stockQuantity.toString(),image:e.image||"",imageFile:null,imageType:e.imageType||"url",imagePreview:e.image||null,tags:(null==(t=e.tags)?void 0:t.join(", "))||"",gst:e.gst.toString()}),l(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",children:Dt.jsx(Ne,{className:"w-4 h-4"})}),Dt.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await Nt(ct(on,"supplier_products",e)),c.success("Product deleted successfully!"),w()}catch(uu){console.error("Error deleting product:",uu),c.error("Failed to delete product")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:Dt.jsx(_,{className:"w-4 h-4"})})]})]})]})]},e.id))}),0===i.length&&Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No products yet"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start by adding your first product to the catalog"}),Dt.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Add Your First Product"})]}),o&&Dt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:Dt.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:Dt.jsxs("div",{className:"p-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Dt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d?"Edit Product":"Add New Product"}),Dt.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(b,{className:"w-6 h-6"})})]}),Dt.jsxs("form",{onSubmit:async r=>{var i,s,n;if(r.preventDefault(),x.name&&x.category&&x.unitPrice)if(h)try{let r=x.image;if(x.imageFile)try{r=await(n=x.imageFile,new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=e=>t(e)}))}catch(uu){return console.error("Error converting file:",uu),void c.error("Failed to process image file")}const a={...x,unitPrice:parseFloat(x.unitPrice),bulkPrice:parseFloat(x.bulkPrice)||parseFloat(x.unitPrice),minBulkQuantity:parseInt(x.minBulkQuantity)||1,stockQuantity:parseInt(x.stockQuantity)||0,gst:parseFloat(x.gst)||0,tags:x.tags.split(",").map(e=>e.trim()).filter(e=>e),image:r,imageType:x.imageType,fileName:(null==(i=x.imageFile)?void 0:i.name)||null,fileType:(null==(s=x.imageFile)?void 0:s.type)||null,supplierId:e.uid,supplierName:(null==t?void 0:t.businessName)||(null==t?void 0:t.name),supplierLocation:h,createdAt:new Date,updatedAt:new Date,isActive:!0,inStock:parseInt(x.stockQuantity)>0};delete a.imageFile,delete a.imagePreview,d?(await kt(ct(on,"supplier_products",d.id),{...a,updatedAt:new Date}),c.success("Product updated successfully!")):(await wt(xt(on,"supplier_products"),a),c.success("Product added successfully!")),k(),w()}catch(uu){console.error("Error saving product:",uu),c.error("Failed to save product")}else c.error("Location is required. Please enable location services.");else c.error("Please fill in all required fields")},className:"space-y-4",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name *"}),Dt.jsx("input",{type:"text",value:x.name,onChange:e=>N("name",e.target.value),className:"input-field",placeholder:"Enter product name",required:!0})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category *"}),Dt.jsxs("select",{value:x.category,onChange:e=>N("category",e.target.value),className:"input-field",required:!0,children:[Dt.jsx("option",{value:"",children:"Select category"}),["fruits","vegetables","grains","spices","beverages","panipuri_supplies","waffle_supplies","packaging","cleaning"].map(e=>Dt.jsx("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))]})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),Dt.jsx("textarea",{value:x.description,onChange:e=>N("description",e.target.value),className:"input-field",rows:"3",placeholder:"Describe your product"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unit Price (₹) *"}),Dt.jsx("input",{type:"number",step:"0.01",value:x.unitPrice,onChange:e=>N("unitPrice",e.target.value),className:"input-field",placeholder:"0.00",required:!0})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unit"}),Dt.jsx("input",{type:"text",value:x.unit,onChange:e=>N("unit",e.target.value),className:"input-field",placeholder:"kg, piece, liter"})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stock Quantity"}),Dt.jsx("input",{type:"number",value:x.stockQuantity,onChange:e=>N("stockQuantity",e.target.value),className:"input-field",placeholder:"0"})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GST (%)"}),Dt.jsx("input",{type:"number",step:"0.01",value:x.gst,onChange:e=>N("gst",e.target.value),className:"input-field",placeholder:"0.00"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Image/Document"}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex space-x-4",children:[Dt.jsxs("label",{className:"flex items-center",children:[Dt.jsx("input",{type:"radio",name:"imageType",value:"url",checked:"url"===x.imageType,onChange:e=>N("imageType",e.target.value),className:"mr-2"}),"Image URL"]}),Dt.jsxs("label",{className:"flex items-center",children:[Dt.jsx("input",{type:"radio",name:"imageType",value:"file",checked:"file"===x.imageType,onChange:e=>N("imageType",e.target.value),className:"mr-2"}),"Upload File"]})]}),"url"===x.imageType?Dt.jsx("input",{type:"url",value:x.image,onChange:e=>N("image",e.target.value),className:"input-field",placeholder:"https://example.com/image.jpg"}):Dt.jsxs("div",{children:[Dt.jsx("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/gif","application/pdf"].includes(t.type))return void c.error("Please select an image file (JPG, PNG, GIF) or PDF");if(t.size>5242880)return void c.error("File size must be less than 5MB");if(y(e=>({...e,imageFile:t,imageType:"file",image:""})),t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{y(t=>({...t,imagePreview:e.target.result}))},e.readAsDataURL(t)}}},accept:"image/*,.pdf",className:"input-field"}),Dt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports: JPG, PNG, GIF, PDF (max 5MB)"}),x.imagePreview&&Dt.jsx("div",{className:"mt-2",children:Dt.jsx("img",{src:x.imagePreview,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]})]})]}),Dt.jsxs("div",{children:[Dt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tags (comma separated)"}),Dt.jsx("input",{type:"text",value:x.tags,onChange:e=>N("tags",e.target.value),className:"input-field",placeholder:"organic, fresh, local"})]}),Dt.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[Dt.jsx("button",{type:"button",onClick:k,className:"btn-secondary",children:"Cancel"}),Dt.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[Dt.jsx(xe,{className:"w-4 h-4"}),Dt.jsx("span",{children:d?"Update Product":"Add Product"})]})]})]})]})})})]})},Oc=e=>{if(!e)return new Date;if(e instanceof Date)return e;if(e&&"function"==typeof e.toDate)try{return e.toDate()}catch(uu){return console.warn("Error converting Firestore timestamp:",uu),new Date}if("string"==typeof e||"number"==typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}if(e&&"object"==typeof e&&e.seconds)try{return new Date(1e3*e.seconds)}catch(uu){return console.warn("Error converting timestamp object:",uu),new Date}return console.warn("Unable to parse date value:",e),new Date},Mc=(e,t="date",r="en-IN")=>{const i=Oc(e);try{switch(t){case"date":default:return i.toLocaleDateString(r);case"time":return i.toLocaleTimeString(r);case"datetime":return i.toLocaleString(r);case"relative":return Rc(i)}}catch(uu){return console.warn("Error formatting date:",uu),"Invalid Date"}},Rc=e=>{const t=(new Date).getTime()-e.getTime(),r=Math.floor(t/1e3),i=Math.floor(r/60),s=Math.floor(i/60),n=Math.floor(s/24);return r<60?"Just now":i<60?`${i} minute${1!==i?"s":""} ago`:s<24?`${s} hour${1!==s?"s":""} ago`:1===n?"Yesterday":n<7?`${n} days ago`:e.toLocaleDateString()},Dc=(e,t=["createdAt","updatedAt"])=>{const r={...e};return t.forEach(e=>{r[e]&&(r[e]=Oc(r[e]))}),r},Bc=(e,t="list")=>{const r=Oc(e);switch(t){case"list":default:return Mc(r,"date");case"detail":return Mc(r,"datetime");case"card":return Rc(r)}},zc=()=>{const{user:e,userProfile:t}=hn(),[i,s]=r.useState([]),[n,a]=r.useState(!0),[o,l]=r.useState("all"),[d,u]=r.useState(""),[h,p]=r.useState(null),[f,g]=r.useState(!1);r.useEffect(()=>{e&&"supplier"===(null==t?void 0:t.role)&&x()},[e,t]);const x=async()=>{try{a(!0);const r=xt(on,"orders"),i=yt(r,_t("createdAt","desc")),n=await bt(i),o=n.docs.map(e=>({id:e.id,...Dc(e.data(),["createdAt","updatedAt"])})).filter(r=>!(!r.items||!Array.isArray(r.items))&&r.items.some(r=>[r.supplierId===(null==e?void 0:e.uid),r.supplierId===(null==t?void 0:t.supplierId),r.supplierName===(null==t?void 0:t.businessName),r.supplierName===(null==t?void 0:t.name),"platform"===r.supplierId&&(null==t?void 0:t.businessName)].some(e=>e))).map(r=>{const i=r.items.filter(r=>[r.supplierId===(null==e?void 0:e.uid),r.supplierId===(null==t?void 0:t.supplierId),r.supplierName===(null==t?void 0:t.businessName),r.supplierName===(null==t?void 0:t.name),"platform"===r.supplierId&&(null==t?void 0:t.businessName)].some(e=>e));return{...r,items:i}});console.log("Supplier orders in OrderManagement:",o.length),s(o)}catch(uu){console.error("Error loading orders:",uu),c.error("Failed to load orders")}finally{a(!1)}},y=async(e,t)=>{try{await kt(ct(on,"orders",e),{status:t,updatedAt:new Date}),s(i.map(r=>r.id===e?{...r,status:t,updatedAt:new Date}:r)),c.success(`Order ${t} successfully!`)}catch(uu){console.error("Error updating order:",uu),c.error("Failed to update order status")}},v=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},b=e=>{switch(e){case"pending":return Dt.jsx(N,{className:"w-4 h-4"});case"confirmed":default:return Dt.jsx(m,{className:"w-4 h-4"});case"delivered":return Dt.jsx(w,{className:"w-4 h-4"});case"cancelled":return Dt.jsx(ue,{className:"w-4 h-4"})}},_=e=>e.items.reduce((e,t)=>e+t.price*t.quantity,0),j=i.filter(e=>{var t,r;const i="all"===o||e.status===o,s=""===d||e.id.toLowerCase().includes(d.toLowerCase())||(null==(r=null==(t=e.customerInfo)?void 0:t.name)?void 0:r.toLowerCase().includes(d.toLowerCase()))||e.items.some(e=>e.name.toLowerCase().includes(d.toLowerCase()));return i&&s}),S=(e,t)=>{if(!e||!t)return"Unknown";const r=Zn(t,e);return r?Gn(r):"Unknown"};return n?Dt.jsx("div",{className:"flex justify-center items-center h-64",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"flex justify-between items-center",children:[Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Management"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage orders for your products"})]}),Dt.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[Dt.jsx(le,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Export Orders"})]})]}),Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(K,{className:"w-5 h-5 text-gray-400"}),Dt.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Dt.jsx("option",{value:"all",children:"All Orders"}),Dt.jsx("option",{value:"pending",children:"Pending"}),Dt.jsx("option",{value:"confirmed",children:"Confirmed"}),Dt.jsx("option",{value:"delivered",children:"Delivered"}),Dt.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),Dt.jsxs("div",{className:"flex-1 relative",children:[Dt.jsx(k,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),Dt.jsx("input",{type:"text",placeholder:"Search orders, customers, or products...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),Dt.jsx("div",{className:"space-y-4",children:j.map(e=>{var r,i,s,n;return Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Dt.jsx("div",{className:"flex items-center space-x-4",children:Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Order #",e.id.slice(-8)]}),Dt.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[Dt.jsx(ce,{className:"w-4 h-4"}),Dt.jsx("span",{children:Bc(e.createdAt,"list")})]})]})}),Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ${v(e.status)}`,children:[b(e.status),Dt.jsx("span",{className:"capitalize",children:e.status})]}),Dt.jsx("button",{onClick:()=>{p(e),g(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",children:Dt.jsx(oe,{className:"w-4 h-4"})})]})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(I,{className:"w-4 h-4 text-gray-400"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null==(r=e.customerInfo)?void 0:r.name)||"Unknown Customer"}),Dt.jsx("p",{className:"text-xs text-gray-500",children:null==(i=e.customerInfo)?void 0:i.email})]})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(W,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null==(s=e.customerInfo)?void 0:s.phone)||"No phone"})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(A,{className:"w-4 h-4 text-gray-400"}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null==(n=e.customerInfo)?void 0:n.location)?S(e.customerInfo.location,null==t?void 0:t.location):"Unknown distance"})]})]}),Dt.jsx("div",{className:"space-y-2 mb-4",children:e.items.map((e,t)=>Dt.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[Dt.jsxs("div",{className:"flex items-center space-x-3",children:[e.image&&Dt.jsx("img",{src:e.image,alt:e.name,className:"w-10 h-10 object-cover rounded"}),Dt.jsxs("div",{children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),Dt.jsxs("p",{className:"text-xs text-gray-500",children:[e.quantity," × ₹",e.price]})]})]}),Dt.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["₹",(e.price*e.quantity).toFixed(2)]})]},t))}),Dt.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(ke,{className:"w-4 h-4 text-gray-400"}),Dt.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Total: ₹",_(e).toFixed(2)]})]}),Dt.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("button",{onClick:()=>y(e.id,"confirmed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Confirm Order"}),Dt.jsx("button",{onClick:()=>y(e.id,"cancelled"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Cancel"})]}),"confirmed"===e.status&&Dt.jsx("button",{onClick:()=>y(e.id,"delivered"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Mark Delivered"})]})]})]},e.id)})}),0===j.length&&Dt.jsxs("div",{className:"text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"all"===o?"No orders yet":`No ${o} orders`}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===o?"Orders for your products will appear here":`No orders with ${o} status found`})]})]})},qc=()=>{const{t:e}=yi(),{user:t,userProfile:i}=hn(),[s,n]=r.useState([]),[a,o]=r.useState(!0),[l,d]=r.useState("all"),[u,h]=r.useState(null),[p,f]=r.useState("overview"),[g,x]=r.useState({totalOrders:0,pendingOrders:0,totalRevenue:0,completedOrders:0}),[v,b]=r.useState(!1);r.useEffect(()=>{t&&"supplier"===(null==i?void 0:i.role)&&_()},[t,i]);const _=async()=>{try{o(!0);const e=xt(on,"orders"),r=yt(e,_t("createdAt","desc")),s=(await bt(r)).docs.map(e=>({id:e.id,...Dc(e.data(),["createdAt","updatedAt"])})),a=s.filter(e=>!(!e.items||!Array.isArray(e.items))&&e.items.some(e=>[e.supplierId===(null==t?void 0:t.uid),e.supplierId===(null==i?void 0:i.supplierId),e.supplierName===(null==i?void 0:i.businessName),e.supplierName===(null==i?void 0:i.name),"platform"===e.supplierId&&(null==i?void 0:i.businessName)].some(e=>e)));console.log("All orders:",s.length),console.log("Supplier orders:",a.length),console.log("User profile:",i),console.log("User UID:",null==t?void 0:t.uid),s.length>0&&console.log("Sample order items:",s[0].items),n(a),k(a)}catch(uu){console.error("Error loading orders:",uu),c.error(`Failed to load orders: ${uu.message}`)}finally{o(!1)}},k=e=>{const t={totalOrders:e.length,pendingOrders:e.filter(e=>"pending"===e.status).length,completedOrders:e.filter(e=>"delivered"===e.status).length,totalRevenue:e.filter(e=>"delivered"===e.status).reduce((e,t)=>{var r;return e+((null==(r=t.summary)?void 0:r.total)||0)},0)};x(t)},j=async(e,t)=>{try{const r=ct(on,"orders",e);await kt(r,{status:t,updatedAt:new Date}),n(s.map(r=>r.id===e?{...r,status:t,updatedAt:new Date}:r)),c.success(`Order ${t} successfully!`),k(s)}catch(uu){console.error("Error updating order:",uu),c.error("Failed to update order status")}},P=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},L=e=>{switch(e){case"pending":return Dt.jsx(N,{className:"w-4 h-4"});case"confirmed":default:return Dt.jsx(m,{className:"w-4 h-4"});case"delivered":return Dt.jsx(w,{className:"w-4 h-4"});case"cancelled":return Dt.jsx(ue,{className:"w-4 h-4"})}},A=s.filter(e=>"all"===l||e.status===l),I=e=>{switch(e){case"paid":return"text-green-600 dark:text-green-400";case"pending":return"text-yellow-600 dark:text-yellow-400";case"unpaid":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}};return"supplier"!==(null==i?void 0:i.role)?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"card text-center",children:[Dt.jsx(y,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Dt.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This page is only accessible to registered suppliers."})]})})}):a?Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Dt.jsx("div",{className:"flex justify-center items-center h-64",children:Dt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"mb-8",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Supplier Dashboard"}),Dt.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Welcome back, ",(null==i?void 0:i.businessName)||(null==i?void 0:i.name)]})]}),Dt.jsx("div",{className:"mb-8",children:Dt.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:Dt.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:ve},{id:"analytics",name:"Analytics",icon:S},{id:"orders",name:"Orders",icon:C},{id:"products",name:"Products",icon:m}].map(e=>{const t=e.icon;return Dt.jsxs("button",{onClick:()=>f(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm "+(p===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[Dt.jsx(t,{className:"w-4 h-4"}),Dt.jsx("span",{children:e.name})]},e.id)})})})}),"overview"===p&&Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[Dt.jsx("div",{className:"card",children:Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(C,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),Dt.jsxs("div",{className:"ml-4",children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),Dt.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.totalOrders})]})]})}),Dt.jsx("div",{className:"card",children:Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(N,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),Dt.jsxs("div",{className:"ml-4",children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Orders"}),Dt.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.pendingOrders})]})]})}),Dt.jsx("div",{className:"card",children:Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(w,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),Dt.jsxs("div",{className:"ml-4",children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),Dt.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.completedOrders})]})]})}),Dt.jsx("div",{className:"card",children:Dt.jsxs("div",{className:"flex items-center",children:[Dt.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(ke,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),Dt.jsxs("div",{className:"ml-4",children:[Dt.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),Dt.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹",g.totalRevenue.toFixed(2)]})]})]})})]}),Dt.jsxs("div",{className:"mb-6",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Dt.jsx(K,{className:"w-5 h-5 text-gray-400"}),Dt.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by status:"})]}),Dt.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","confirmed","delivered","cancelled"].map(e=>Dt.jsx("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(l===e?"bg-primary-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),0===A.length?Dt.jsxs("div",{className:"card text-center py-12",children:[Dt.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"all"===l?"No orders found":`No ${l} orders`}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Orders will appear here when vendors place them."})]}):Dt.jsx("div",{className:"space-y-4",children:A.map(e=>{var t;const r=(e=>"delivered"===e.status?"paid":"confirmed"===e.status?"pending":"unpaid")(e),s=e.items.filter(e=>e.supplierId===(null==i?void 0:i.supplierId)||e.supplierName===(null==i?void 0:i.businessName)),n=s.reduce((e,t)=>e+t.price*t.quantity,0);return Dt.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(m,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),Dt.jsxs("div",{children:[Dt.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Order #",e.id.slice(-6)]}),Dt.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[Dt.jsx("span",{children:Bc(e.createdAt,"list")}),Dt.jsxs("span",{children:["₹",n.toFixed(2)]}),Dt.jsxs("span",{children:[s.length," items"]})]})]})]}),Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${P(e.status)}`,children:[L(e.status),Dt.jsx("span",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),Dt.jsxs("span",{className:`text-sm font-medium ${I(r)}`,children:["Payment: ",r]})]})]}),Dt.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:Dt.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[Dt.jsx($,{className:"w-4 h-4 text-gray-500"}),Dt.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Customer: ",e.userEmail]})]})}),Dt.jsxs("div",{className:"mb-4",children:[Dt.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Your Items (",s.length,"):"]}),Dt.jsx("div",{className:"space-y-1",children:s.map((e,t)=>Dt.jsxs("div",{className:"flex justify-between items-center text-sm",children:[Dt.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[e.name," x ",e.quantity]}),Dt.jsxs("span",{className:"font-medium",children:["₹",(e.price*e.quantity).toFixed(2)]})]},t))})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-2",children:[Dt.jsxs("button",{onClick:()=>h(u===e.id?null:e.id),className:"flex items-center space-x-1 text-sm text-primary-600 hover:text-primary-700",children:[Dt.jsx(oe,{className:"w-4 h-4"}),Dt.jsx("span",{children:u===e.id?"Hide Details":"View Details"})]}),"pending"===e.status&&Dt.jsxs("button",{onClick:()=>j(e.id,"confirmed"),className:"flex items-center space-x-1 text-sm text-green-600 hover:text-green-700",children:[Dt.jsx(w,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Confirm Order"})]}),"confirmed"===e.status&&Dt.jsxs("button",{onClick:()=>j(e.id,"delivered"),className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700",children:[Dt.jsx(m,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Mark Delivered"})]})]}),u===e.id&&Dt.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Payment Details"}),Dt.jsxs("div",{className:"space-y-2 text-sm",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Subtotal:"}),Dt.jsxs("span",{children:["₹",n.toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"GST (18%):"}),Dt.jsxs("span",{children:["₹",(.18*n).toFixed(2)]})]}),Dt.jsxs("div",{className:"flex justify-between font-medium pt-2 border-t border-gray-200 dark:border-gray-700",children:[Dt.jsx("span",{children:"Total:"}),Dt.jsxs("span",{children:["₹",(1.18*n).toFixed(2)]})]}),Dt.jsxs("div",{className:`flex justify-between pt-2 ${I(r)}`,children:[Dt.jsx("span",{children:"Payment Status:"}),Dt.jsx("span",{className:"font-medium",children:r.toUpperCase()})]})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Order Timeline"}),Dt.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[Dt.jsxs("div",{children:["Order placed: ",Bc(e.createdAt,"detail")]}),Dt.jsxs("div",{children:["Last updated: ",Bc(e.updatedAt,"detail")]}),Dt.jsxs("div",{children:["Payment method: ",(null==(t=e.paymentMethod)?void 0:t.replace("_"," ").toUpperCase())||"Cash on Delivery"]})]})]})]})})]},e.id)})})]}),"analytics"===p&&Dt.jsx(Fc,{}),"orders"===p&&Dt.jsxs("div",{className:"space-y-6",children:[Dt.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-3",children:"🧪 Test Order Creation (Development)"}),Dt.jsxs("div",{className:"flex flex-wrap gap-3",children:[Dt.jsxs("button",{onClick:async()=>{b(!0);try{const e=await(async e=>{try{const t={userId:"test-user-123",userEmail:"testuser@example.com",status:"pending",items:[{productId:"panipuri-kit-complete",cartKey:"panipuri-kit-complete-bulk-100 pieces",name:"Complete Panipuri Kit (100 pieces)",price:150,pricePerUnit:1.5,quantity:2,actualQuantity:200,bulkMultiplier:100,orderType:"bulk",unit:"100 pieces",originalUnit:"piece",selectedQuantity:"100 pieces",supplierId:(null==e?void 0:e.supplierId)||(null==e?void 0:e.uid)||"platform",supplierName:(null==e?void 0:e.businessName)||(null==e?void 0:e.name)||"Test Supplier",category:"panipuri_supplies",description:"Everything needed for panipuri: puris, masala, chutneys, and sev",image:"/images/panipuri kit.jpg"},{productId:"wheat-flour-10kg",cartKey:"wheat-flour-10kg-unit",name:"Whole Wheat Flour",price:450,pricePerUnit:45,quantity:1,actualQuantity:10,bulkMultiplier:10,orderType:"unit",unit:"10kg bag",originalUnit:"kg",supplierId:(null==e?void 0:e.supplierId)||(null==e?void 0:e.uid)||"platform",supplierName:(null==e?void 0:e.businessName)||(null==e?void 0:e.name)||"Test Supplier",category:"grains",description:"Premium quality whole wheat flour",image:"/images/wheat flour 1.jpg"},{productId:"red-onions-fresh",cartKey:"red-onions-fresh-bulk-5kg",name:"Fresh Red Onions (5kg)",price:120,pricePerUnit:24,quantity:3,actualQuantity:15,bulkMultiplier:5,orderType:"bulk",unit:"5kg",originalUnit:"kg",selectedQuantity:"5kg",supplierId:(null==e?void 0:e.supplierId)||(null==e?void 0:e.uid)||"platform",supplierName:(null==e?void 0:e.businessName)||(null==e?void 0:e.name)||"Test Supplier",category:"vegetables",description:"Fresh red onions, perfect for cooking",image:"/images/onion.webp"}],summary:{subtotal:870,tax:156.6,total:1026.6,itemCount:6},customerInfo:{name:"Test Customer",phone:"+91 9876543210",email:"testuser@example.com",address:"123 Test Street, Test City, Test State - 123456",vendorType:"panipuri_vendor"},deliveryInfo:{address:"123 Test Street, Test City, Test State - 123456",landmark:"Near Test Market",deliveryTime:"morning",specialInstructions:"Please call before delivery"},createdAt:ot(),updatedAt:ot(),orderNumber:`ORD-${Date.now()}`,paymentMethod:"cash_on_delivery",paymentStatus:"pending"},r=await wt(xt(on,"orders"),t);return console.log("Test order created with ID:",r.id),{success:!0,orderId:r.id}}catch(uu){return console.error("Error creating test order:",uu),{success:!1,error:uu.message}}})(i);e.success?(c.success("Test order created successfully!"),_()):c.error(`Failed to create test order: ${e.error}`)}catch(uu){c.error("Error creating test order")}finally{b(!1)}},disabled:v,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Dt.jsx(m,{size:16}),Dt.jsx("span",{children:v?"Creating...":"Create Single Test Order"})]}),Dt.jsxs("button",{onClick:async()=>{b(!0);try{const e=await(async e=>{const t=["pending","confirmed","delivered","cancelled"],r=[];for(let i=0;i<4;i++)try{const s={userId:`test-user-${i+1}`,userEmail:`testuser${i+1}@example.com`,status:t[i],items:[{productId:"panipuri-kit-complete",cartKey:`panipuri-kit-complete-bulk-${i+1}`,name:"Complete Panipuri Kit (50 pieces)",price:80,pricePerUnit:1.6,quantity:i+1,actualQuantity:50*(i+1),bulkMultiplier:50,orderType:"bulk",unit:"50 pieces",originalUnit:"piece",selectedQuantity:"50 pieces",supplierId:(null==e?void 0:e.supplierId)||(null==e?void 0:e.uid)||"platform",supplierName:(null==e?void 0:e.businessName)||(null==e?void 0:e.name)||"Test Supplier",category:"panipuri_supplies",description:"Everything needed for panipuri",image:"/images/panipuri kit.jpg"}],summary:{subtotal:80*(i+1),tax:80*(i+1)*.18,total:80*(i+1)*1.18,itemCount:i+1},customerInfo:{name:`Test Customer ${i+1}`,phone:`+91 987654321${i}`,email:`testuser${i+1}@example.com`,address:`${i+1}23 Test Street, Test City, Test State - 12345${i}`,vendorType:"panipuri_vendor"},deliveryInfo:{address:`${i+1}23 Test Street, Test City, Test State - 12345${i}`,landmark:`Near Test Market ${i+1}`,deliveryTime:i%2==0?"morning":"evening",specialInstructions:`Test order ${i+1} instructions`},createdAt:ot(),updatedAt:ot(),orderNumber:`ORD-${Date.now()}-${i+1}`,paymentMethod:"cash_on_delivery",paymentStatus:"delivered"===t[i]?"completed":"pending"},n=await wt(xt(on,"orders"),s);r.push({success:!0,orderId:n.id,status:t[i]}),console.log(`Test order ${i+1} created with ID:`,n.id,"Status:",t[i])}catch(uu){console.error(`Error creating test order ${i+1}:`,uu),r.push({success:!1,error:uu.message,status:t[i]})}return r})(i),t=e.filter(e=>e.success).length;c.success(`Created ${t} test orders successfully!`),_()}catch(uu){c.error("Error creating test orders")}finally{b(!1)}},disabled:v,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[Dt.jsx(m,{size:16}),Dt.jsx("span",{children:v?"Creating...":"Create Multiple Test Orders"})]})]}),Dt.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-2",children:"These buttons create test orders to help you test the supplier dashboard functionality."})]}),Dt.jsx(zc,{})]}),"products"===p&&Dt.jsx(Ec,{})]})})},Uc=()=>{const{t:e}=yi(),[t,i]=r.useState(""),[s,n]=r.useState(null),a=[{icon:W,title:"Call Us",description:"Speak with our support team",contact:"+91 98765 43210",hours:"9 AM - 8 PM (Mon-Sat)",action:"tel:+919876543210"},{icon:p,title:"WhatsApp",description:"Quick support via WhatsApp",contact:"+91 98765 43210",hours:"24/7 Available",action:"https://wa.me/919876543210"},{icon:V,title:"Email Support",description:"Send us your queries",contact:"support@baazardost.com",hours:"Response within 4 hours",action:"mailto:support@baazardost.com"}],o=[{icon:je,title:"Video Tutorials",description:"Learn how to use Baazar Dost",items:["How to place your first order","Using the store locator","Managing your profile","Understanding bulk pricing"]},{icon:Se,title:"User Guide",description:"Complete guide for vendors",items:["Getting started guide","Product catalog overview","Payment and delivery","Troubleshooting tips"]},{icon:le,title:"Downloads",description:"Useful documents and forms",items:["Vendor registration form","Product price list","Terms and conditions","Privacy policy"]}],l=[{id:1,question:"How do I place an order?",answer:"To place an order, browse our products, add items to your cart, and proceed to checkout. You can pay online or choose cash on delivery."},{id:2,question:"What are the delivery charges?",answer:"Delivery charges vary based on location and order value. Orders above ₹500 get free delivery within 5km radius."},{id:3,question:"How can I track my order?",answer:"You can track your order in the Orders section of your account. You'll also receive SMS updates on your registered mobile number."},{id:4,question:"What payment methods do you accept?",answer:"We accept UPI, credit/debit cards, net banking, and cash on delivery. All online payments are secure and encrypted."},{id:5,question:"Can I cancel or modify my order?",answer:"You can cancel or modify your order within 30 minutes of placing it. After that, please contact our support team."},{id:6,question:"Do you offer bulk discounts?",answer:"Yes! We offer special pricing for bulk orders. Contact our sales team for custom quotes on large quantities."},{id:7,question:"How do I become a verified vendor?",answer:"To become verified, submit your business documents through your profile. Our team will review and verify within 2-3 business days."},{id:8,question:"What if I receive damaged products?",answer:"If you receive damaged products, contact us immediately with photos. We'll arrange for replacement or refund within 24 hours."}].filter(e=>e.question.toLowerCase().includes(t.toLowerCase())||e.answer.toLowerCase().includes(t.toLowerCase()));return Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Dt.jsxs("div",{className:"text-center mb-12",children:[Dt.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Help & Support"}),Dt.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"We're here to help you succeed. Find answers, get support, and learn how to make the most of Baazar Dost."})]}),Dt.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:Dt.jsxs("div",{className:"relative",children:[Dt.jsx(k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),Dt.jsx("input",{type:"text",placeholder:"Search for help articles, FAQs...",value:t,onChange:e=>i(e.target.value),className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),Dt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:a.map((e,t)=>{const r=e.icon;return Dt.jsxs("div",{className:"card text-center hover:shadow-lg transition-shadow",children:[Dt.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:Dt.jsx(r,{className:"w-8 h-8 text-primary-600"})}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:e.description}),Dt.jsxs("div",{className:"space-y-1 mb-4",children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.contact}),Dt.jsxs("div",{className:"text-sm text-gray-500 flex items-center justify-center",children:[Dt.jsx(N,{className:"w-4 h-4 mr-1"}),e.hours]})]}),Dt.jsx("a",{href:e.action,className:"btn-primary w-full",target:e.action.startsWith("http")?"_blank":void 0,rel:e.action.startsWith("http")?"noopener noreferrer":void 0,children:"Contact Now"})]},t)})}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Dt.jsxs("div",{className:"lg:col-span-2",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Frequently Asked Questions"}),Dt.jsx("div",{className:"space-y-4",children:l.map(e=>Dt.jsxs("div",{className:"card",children:[Dt.jsxs("button",{onClick:()=>n(s===e.id?null:e.id),className:"w-full flex items-center justify-between text-left",children:[Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.question}),s===e.id?Dt.jsx(z,{className:"w-5 h-5 text-gray-500"}):Dt.jsx(te,{className:"w-5 h-5 text-gray-500"})]}),s===e.id&&Dt.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:e.answer})})]},e.id))}),0===l.length&&Dt.jsxs("div",{className:"text-center py-8",children:[Dt.jsx(k,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Dt.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No results found"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try different keywords or contact our support team"})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Resources"}),Dt.jsx("div",{className:"space-y-6",children:o.map((e,t)=>{const r=e.icon;return Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[Dt.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:Dt.jsx(r,{className:"w-5 h-5 text-primary-600"})}),Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]}),Dt.jsx("ul",{className:"space-y-2",children:e.items.map((e,t)=>Dt.jsx("li",{children:Dt.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[Dt.jsx("span",{children:e}),Dt.jsx(pe,{className:"w-3 h-3"})]})},t))})]},t)})}),Dt.jsxs("div",{className:"card bg-gradient-to-r from-primary-500 to-primary-600 text-white mt-6",children:[Dt.jsx("h3",{className:"font-semibold mb-3",children:"Support Hours"}),Dt.jsxs("div",{className:"space-y-2 text-sm",children:[Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Monday - Saturday"}),Dt.jsx("span",{children:"9:00 AM - 8:00 PM"})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"Sunday"}),Dt.jsx("span",{children:"10:00 AM - 6:00 PM"})]}),Dt.jsxs("div",{className:"flex justify-between",children:[Dt.jsx("span",{children:"WhatsApp Support"}),Dt.jsx("span",{children:"24/7"})]})]})]})]})]}),Dt.jsx("div",{className:"mt-12 text-center",children:Dt.jsxs("div",{className:"card bg-gray-100 dark:bg-gray-800",children:[Dt.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Still need help?"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Our support team is ready to assist you with any questions or issues."}),Dt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Dt.jsxs("a",{href:"tel:+919876543210",className:"btn-primary",children:[Dt.jsx(W,{className:"w-4 h-4 mr-2"}),"Call Support"]}),Dt.jsxs("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",children:[Dt.jsx(p,{className:"w-4 h-4 mr-2"}),"WhatsApp Us"]})]})]})})]})})},Hc=()=>{var e;const[t,i]=r.useState("testing"),[s,n]=r.useState("not-tested"),[a,o]=r.useState("not-tested"),[l,d]=r.useState([]),u=(e,t,r)=>{d(i=>[...i,{test:e,status:t,message:r,timestamp:(new Date).toLocaleTimeString()}])},h=async()=>{i("testing"),d([]);try{u("Config","success","Firebase configuration loaded successfully"),n("testing");try{await new Promise((e,t)=>{const r=st(an,t=>{r(),e(t)},e=>{r(),t(e)});setTimeout(()=>{r(),t(new Error("Auth connection timeout"))},1e4)}),n("success"),u("Auth","success","Firebase Auth connection successful")}catch(e){throw n("error"),u("Auth","error",`Auth error: ${e.message}`),e}o("testing");try{const e=xt(on,"connection_test");await bt(e),o("success"),u("Firestore","success","Firestore connection successful")}catch(t){throw o("error"),u("Firestore","error",`Firestore error: ${t.message}`),t}i("success"),u("Overall","success","All Firebase services connected successfully"),c.success("Firebase connection test passed!")}catch(uu){i("error"),u("Overall","error",`Connection failed: ${uu.message}`),c.error(`Firebase connection failed: ${uu.message}`),console.error("Firebase connection test failed:",uu)}};r.useEffect(()=>{h()},[]);const p=e=>{switch(e){case"success":return"text-green-600";case"error":return"text-red-600";case"testing":return"text-yellow-600";default:return"text-gray-600"}},m=e=>{switch(e){case"success":return"✅";case"error":return"❌";case"testing":return"⏳";default:return"⚪"}};return Dt.jsxs("div",{className:"card max-w-4xl mx-auto",children:[Dt.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"🔥 Firebase Connection Test"}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Dt.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl mb-2",children:m(t)}),Dt.jsx("div",{className:"text-sm font-medium",children:"Overall"}),Dt.jsx("div",{className:`text-xs ${p(t)}`,children:t})]}),Dt.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl mb-2",children:m(s)}),Dt.jsx("div",{className:"text-sm font-medium",children:"Auth"}),Dt.jsx("div",{className:`text-xs ${p(s)}`,children:s})]}),Dt.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl mb-2",children:m(a)}),Dt.jsx("div",{className:"text-sm font-medium",children:"Firestore"}),Dt.jsx("div",{className:`text-xs ${p(a)}`,children:a})]}),Dt.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsx("div",{className:"text-2xl mb-2",children:"🌐"}),Dt.jsx("div",{className:"text-sm font-medium",children:"Network"}),Dt.jsx("div",{className:"text-xs text-blue-600",children:navigator.onLine?"online":"offline"})]})]}),Dt.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[Dt.jsx("button",{onClick:h,className:"btn-primary",disabled:"testing"===t,children:"testing"===t?"Testing...":"Test Connection"}),Dt.jsx("button",{onClick:async()=>{try{u("Anonymous Auth","testing","Testing anonymous authentication...");const e=await jt(an);u("Anonymous Auth","success",`Anonymous user created: ${e.user.uid}`),c.success("Anonymous authentication successful!")}catch(uu){u("Anonymous Auth","error",`Anonymous auth failed: ${uu.message}`),c.error(`Anonymous auth failed: ${uu.message}`),console.error("Anonymous auth error:",uu)}},className:"btn-secondary",children:"Test Anonymous Auth"}),Dt.jsx("button",{onClick:async()=>{try{u("Firestore Write","testing","Testing Firestore write operation...");const e=await wt(xt(on,"connection_test"),{test:!0,timestamp:new Date,message:"Connection test document"});u("Firestore Write","success",`Document written with ID: ${e.id}`),c.success("Firestore write test successful!")}catch(uu){u("Firestore Write","error",`Firestore write failed: ${uu.message}`),c.error(`Firestore write failed: ${uu.message}`),console.error("Firestore write error:",uu)}},className:"btn-secondary",children:"Test Firestore Write"})]}),Dt.jsxs("div",{className:"space-y-2",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results:"}),Dt.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:l.map((e,t)=>Dt.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Dt.jsxs("div",{className:"flex items-center space-x-3",children:[Dt.jsx("span",{className:"text-lg",children:m(e.status)}),Dt.jsxs("div",{children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.test}),Dt.jsx("div",{className:`text-sm ${p(e.status)}`,children:e.message})]})]}),Dt.jsx("div",{className:"text-xs text-gray-500",children:e.timestamp})]},t))})]}),Dt.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[Dt.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Network Information:"}),Dt.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-400 space-y-1",children:[Dt.jsxs("div",{children:["Online Status: ",navigator.onLine?"✅ Online":"❌ Offline"]}),Dt.jsxs("div",{children:["Connection Type: ",(null==(e=navigator.connection)?void 0:e.effectiveType)||"Unknown"]}),Dt.jsxs("div",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]}),Dt.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[Dt.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-300 mb-2",children:"Troubleshooting Tips:"}),Dt.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-400 space-y-1",children:[Dt.jsx("li",{children:"• Check your internet connection"}),Dt.jsx("li",{children:"• Verify Firebase project settings"}),Dt.jsx("li",{children:"• Check browser console for detailed errors"}),Dt.jsx("li",{children:"• Try disabling browser extensions"}),Dt.jsx("li",{children:"• Check if your network blocks Firebase domains"}),Dt.jsx("li",{children:"• Verify API keys are correct"})]})]})]})},Wc=()=>{var e,t;const[i,s]=r.useState(!1),[a,o]=r.useState(null),[l,d]=r.useState("popup");n.useEffect(()=>{const e=st(an,e=>{o(e),e?(console.log("✅ User signed in successfully!"),console.log("👤 Display Name:",e.displayName),console.log("📧 Email:",e.email),console.log("🖼️ Photo URL:",e.photoURL),console.log("🆔 UID:",e.uid),console.log("🔍 Full User Object:",e)):console.log("❌ User signed out")});return u(),()=>e()},[]);const u=async()=>{try{const e=await dt(an);if(e){const t=e.user;console.log("🔄 Redirect Sign-In Successful!"),console.log("👤 Display Name:",t.displayName),c.success(`Welcome ${t.displayName}! Signed in via redirect.`)}}catch(uu){console.error("❌ Redirect sign-in error:",uu),c.error(`Redirect sign-in failed: ${uu.message}`)}};return Dt.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[Dt.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-6",children:"🔥 Firebase Google Sign-In"}),a?Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("div",{className:"w-20 h-20 mx-auto mb-4",children:a.photoURL?Dt.jsx("img",{src:a.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover border-2 border-primary-500"}):Dt.jsx("div",{className:"w-full h-full rounded-full bg-primary-500 flex items-center justify-center text-white text-2xl font-bold",children:(null==(e=a.displayName)?void 0:e.charAt(0))||(null==(t=a.email)?void 0:t.charAt(0))||"?"})}),Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.displayName||"Anonymous User"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.email}),Dt.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:["UID: ",a.uid]})]}),Dt.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[Dt.jsx("h4",{className:"font-medium text-green-800 dark:text-green-300 mb-2",children:"✅ Sign-In Successful!"}),Dt.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Check the browser console for detailed user information."})]}),Dt.jsx("button",{onClick:async()=>{try{await an.signOut(),console.log("👋 User signed out successfully"),c.success("Signed out successfully!")}catch(uu){console.error("❌ Sign-out error:",uu),c.error("Failed to sign out")}},className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Sign Out"})]}):Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Dt.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sign-In Method:"}),Dt.jsxs("select",{value:l,onChange:e=>d(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[Dt.jsx("option",{value:"popup",children:"Popup"}),Dt.jsx("option",{value:"redirect",children:"Redirect"})]})]}),"popup"===l?Dt.jsx("button",{onClick:async()=>{var e;s(!0);try{console.log("🚀 Starting Google Sign-In with Popup...");const t=await pt(an,ln),r=t.user;console.log("✅ Google Sign-In Successful!"),console.log("👤 Display Name:",r.displayName),console.log("📧 Email:",r.email),console.log("🖼️ Photo URL:",r.photoURL),console.log("🆔 UID:",r.uid),console.log("🔑 Access Token:",null==(e=t._tokenResponse)?void 0:e.oauthAccessToken),console.log("🔍 Full User Object:",r),console.log("📋 Full Result Object:",t),c.success(`Welcome ${r.displayName}! Successfully signed in with Google.`)}catch(uu){console.error("❌ Google Sign-In Error:",uu),console.error("Error Code:",uu.code),console.error("Error Message:",uu.message);let t="Failed to sign in with Google";switch(uu.code){case"auth/popup-closed-by-user":t="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":t="Popup was blocked by browser. Please allow popups and try again.";break;case"auth/cancelled-popup-request":t="Sign-in was cancelled. Please try again.";break;case"auth/network-request-failed":t="Network error. Please check your internet connection.";break;case"auth/too-many-requests":t="Too many failed attempts. Please try again later.";break;default:t=uu.message}c.error(t)}finally{s(!1)}},disabled:i,className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:i?Dt.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Dt.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Dt.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Dt.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Dt.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Dt.jsx("span",{children:"Sign in with Google (Popup)"})]})}):Dt.jsx("button",{onClick:async()=>{s(!0);try{console.log("🔄 Starting Google Sign-In with Redirect..."),await mt(an,ln)}catch(uu){console.error("❌ Google Sign-In Redirect Error:",uu),c.error(`Redirect sign-in failed: ${uu.message}`),s(!1)}},disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:i?Dt.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[Dt.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Dt.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Dt.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Dt.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Dt.jsx("span",{children:"Sign in with Google (Redirect)"})]})})]}),Dt.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[Dt.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"📋 Instructions:"}),Dt.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-400 space-y-1",children:[Dt.jsx("li",{children:"• Click the button to trigger Google authentication"}),Dt.jsx("li",{children:"• User display name will be logged to console"}),Dt.jsx("li",{children:"• Choose between popup or redirect method"}),Dt.jsx("li",{children:"• Check browser console for detailed logs"})]})]}),Dt.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[Dt.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"⚠️ Requirements:"}),Dt.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-400 space-y-1",children:[Dt.jsx("li",{children:"• Firebase project must have Google Sign-In enabled"}),Dt.jsx("li",{children:"• Domain must be authorized in Firebase Console"}),Dt.jsx("li",{children:"• Popup blockers should be disabled"})]})]})]})]})},$c=()=>Dt.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:Dt.jsxs("div",{className:"max-w-4xl mx-auto",children:[Dt.jsxs("div",{className:"text-center mb-12",children:[Dt.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"🔥 Firebase Google Sign-In Demo"}),Dt.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Firebase v9 Modular SDK Integration with Google Authentication"}),Dt.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 text-left",children:[Dt.jsx("h2",{className:"text-xl font-semibold text-blue-900 dark:text-blue-300 mb-4",children:"📋 Implementation Features:"}),Dt.jsxs("ul",{className:"space-y-2 text-blue-800 dark:text-blue-400",children:[Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"Firebase v9 Modular SDK integration"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"Google Sign-In with popup and redirect methods"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"User display name logged to console after successful sign-in"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"Comprehensive error handling and user feedback"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"Real-time auth state monitoring"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"User profile display with photo and information"})]}),Dt.jsxs("li",{className:"flex items-start space-x-2",children:[Dt.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),Dt.jsx("span",{children:"Sign-out functionality"})]})]})]})]}),Dt.jsx("div",{className:"mb-12",children:Dt.jsx(Wc,{})}),Dt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"🔧 Firebase Configuration"}),Dt.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-sm overflow-x-auto",children:Dt.jsx("code",{className:"text-gray-800 dark:text-gray-200",children:"// firebase.js\nimport { initializeApp } from 'firebase/app'\nimport { \n  getAuth, \n  GoogleAuthProvider \n} from 'firebase/auth'\n\nconst firebaseConfig = {\n  // Your Firebase config\n}\n\nconst app = initializeApp(firebaseConfig)\nexport const auth = getAuth(app)\n\nexport const googleProvider = new GoogleAuthProvider()\ngoogleProvider.addScope('email')\ngoogleProvider.addScope('profile')\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account'\n})"})})]}),Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"🚀 Sign-In Implementation"}),Dt.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-sm overflow-x-auto",children:Dt.jsx("code",{className:"text-gray-800 dark:text-gray-200",children:"// Google Sign-In with Popup\nimport { signInWithPopup } from 'firebase/auth'\nimport { auth, googleProvider } from './firebase'\n\nconst handleGoogleSignIn = async () => {\n  try {\n    const result = await signInWithPopup(\n      auth, \n      googleProvider\n    )\n    const user = result.user\n    \n    // Log user display name\n    console.log('Display Name:', user.displayName)\n    console.log('Email:', user.email)\n    console.log('Photo URL:', user.photoURL)\n    \n  } catch (error) {\n    console.error('Sign-in error:', error)\n  }\n}"})})]}),Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"👁️ Auth State Monitoring"}),Dt.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-sm overflow-x-auto",children:Dt.jsx("code",{className:"text-gray-800 dark:text-gray-200",children:"// Monitor authentication state\nimport { onAuthStateChanged } from 'firebase/auth'\n\nuseEffect(() => {\n  const unsubscribe = onAuthStateChanged(\n    auth, \n    (user) => {\n      if (user) {\n        console.log('User signed in:', user.displayName)\n        setUser(user)\n      } else {\n        console.log('User signed out')\n        setUser(null)\n      }\n    }\n  )\n  \n  return () => unsubscribe()\n}, [])"})})]}),Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"🛡️ Error Handling"}),Dt.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-sm overflow-x-auto",children:Dt.jsx("code",{className:"text-gray-800 dark:text-gray-200",children:"// Handle specific error cases\nswitch (error.code) {\n  case 'auth/popup-closed-by-user':\n    message = 'Popup was closed'\n    break\n  case 'auth/popup-blocked':\n    message = 'Popup was blocked'\n    break\n  case 'auth/network-request-failed':\n    message = 'Network error'\n    break\n  default:\n    message = error.message\n}"})})]})]}),Dt.jsxs("div",{className:"mt-12 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-300 mb-4",children:"📝 Setup Instructions:"}),Dt.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-yellow-800 dark:text-yellow-400",children:[Dt.jsx("li",{children:"Enable Google Sign-In in Firebase Console → Authentication → Sign-in method"}),Dt.jsx("li",{children:"Add your domain (localhost:5173) to authorized domains"}),Dt.jsx("li",{children:"Configure OAuth consent screen in Google Cloud Console"}),Dt.jsx("li",{children:"Ensure popup blockers are disabled in your browser"}),Dt.jsx("li",{children:"Open browser console to see detailed logs"})]})]}),Dt.jsx("div",{className:"mt-8 text-center",children:Dt.jsxs("div",{className:"space-x-4",children:[Dt.jsx("a",{href:"/firebase-test",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"🔥 Firebase Test"}),Dt.jsx("a",{href:"/",className:"inline-block bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"🏠 Home"})]})})]})}),Vc=()=>{const{user:e,userProfile:t,loading:i,sendLoginLink:s,signOut:n}=hn(),[a,o]=r.useState({}),[l,c]=r.useState(""),[u,h]=r.useState(!1),p=async()=>{h(!0);const t={};try{t.firebaseConfig={status:"success",message:`Connected to project: ${an.app.options.projectId}`,details:{projectId:an.app.options.projectId,authDomain:an.app.options.authDomain,apiKey:an.app.options.apiKey?"Configured":"Missing"}}}catch(uu){t.firebaseConfig={status:"error",message:"Firebase configuration error",error:uu.message}}try{const e=an.currentUser;t.authService={status:"success",message:e?`Authenticated as: ${e.email}`:"Authentication service ready",details:{isSignedIn:!!e,email:null==e?void 0:e.email,uid:null==e?void 0:e.uid,emailVerified:null==e?void 0:e.emailVerified}}}catch(uu){t.authService={status:"error",message:"Authentication service error",error:uu.message}}try{const e=yt(xt(on,"test"),St(1));await bt(e),t.firestoreConnection={status:"success",message:"Firestore connection successful"}}catch(uu){t.firestoreConnection={status:"error",message:"Firestore connection failed",error:uu.message,suggestion:"Check Firestore rules and ensure database is created"}}if(e)try{const r={test:!0,timestamp:new Date,userId:e.uid};await wt(xt(on,"test"),r),t.writePermission={status:"success",message:"Write permissions working"}}catch(uu){t.writePermission={status:"error",message:"Write permission failed",error:uu.message,suggestion:"Check Firestore security rules"}}else t.writePermission={status:"warning",message:"Not authenticated - cannot test write permissions"};o(t),h(!1)},m=e=>{switch(e){case"success":return Dt.jsx(w,{className:"w-5 h-5 text-green-500"});case"error":return Dt.jsx(ue,{className:"w-5 h-5 text-red-500"});case"warning":return Dt.jsx(d,{className:"w-5 h-5 text-yellow-500"});default:return Dt.jsx(Pe,{className:"w-5 h-5 text-gray-500"})}},f=e=>{switch(e){case"success":return"border-green-200 bg-green-50 dark:bg-green-900/20";case"error":return"border-red-200 bg-red-50 dark:bg-red-900/20";case"warning":return"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20";default:return"border-gray-200 bg-gray-50 dark:bg-gray-900/20"}};return r.useEffect(()=>{p()},[e]),Dt.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[Dt.jsxs("div",{className:"text-center",children:[Dt.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🔐 Authentication & Authorization Test"}),Dt.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Testing Firebase connection and authentication system"})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(I,{className:"w-6 h-6 mr-2"}),"Current Authentication Status"]}),i?Dt.jsxs("div",{className:"flex items-center space-x-2",children:[Dt.jsx(Pe,{className:"w-5 h-5 animate-spin"}),Dt.jsx("span",{children:"Loading authentication state..."})]}):e?Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[Dt.jsx(w,{className:"w-5 h-5"}),Dt.jsx("span",{className:"font-medium",children:"Authenticated"})]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[Dt.jsxs("div",{children:[Dt.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"font-medium",children:"UID:"})," ",e.uid]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"font-medium",children:"Email Verified:"})," ",e.emailVerified?"Yes":"No"]}),Dt.jsxs("div",{children:[Dt.jsx("span",{className:"font-medium",children:"Profile Loaded:"})," ",t?"Yes":"No"]})]}),Dt.jsx("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm",children:"Sign Out"})]}):Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[Dt.jsx(ue,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Not authenticated"})]}),Dt.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l.trim()&&await s(l.trim())},className:"flex space-x-2",children:[Dt.jsx("input",{type:"email",value:l,onChange:e=>c(e.target.value),placeholder:"Enter email to test login",className:"flex-1 input-field",required:!0}),Dt.jsxs("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm flex items-center space-x-1",children:[Dt.jsx(V,{className:"w-4 h-4"}),Dt.jsx("span",{children:"Send Login Link"})]})]})]})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Dt.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[Dt.jsx(ye,{className:"w-6 h-6 mr-2"}),"System Tests"]}),Dt.jsxs("button",{onClick:p,disabled:u,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm flex items-center space-x-1",children:[u?Dt.jsx(Pe,{className:"w-4 h-4 animate-spin"}):Dt.jsx(w,{className:"w-4 h-4"}),Dt.jsx("span",{children:u?"Running Tests...":"Run Tests"})]})]}),Dt.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([e,t])=>Dt.jsx("div",{className:`p-4 border rounded-lg ${f(t.status)}`,children:Dt.jsxs("div",{className:"flex items-start space-x-3",children:[m(t.status),Dt.jsxs("div",{className:"flex-1",children:[Dt.jsx("h3",{className:"font-medium text-gray-900 dark:text-white capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),Dt.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.message}),t.error&&Dt.jsxs("div",{className:"mt-2 p-2 bg-red-100 dark:bg-red-900/20 rounded text-sm text-red-700 dark:text-red-400",children:[Dt.jsx("strong",{children:"Error:"})," ",t.error]}),t.suggestion&&Dt.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900/20 rounded text-sm text-blue-700 dark:text-blue-400",children:[Dt.jsx("strong",{children:"Suggestion:"})," ",t.suggestion]}),t.details&&Dt.jsx("div",{className:"mt-2",children:Dt.jsxs("details",{className:"text-sm",children:[Dt.jsx("summary",{className:"cursor-pointer text-gray-600 dark:text-gray-400",children:"View Details"}),Dt.jsx("pre",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-800 rounded text-xs overflow-x-auto",children:JSON.stringify(t.details,null,2)})]})})]})]})},e))})]}),Dt.jsxs("div",{className:"card",children:[Dt.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[Dt.jsx(Le,{className:"w-6 h-6 mr-2"}),"Firebase Console Links"]}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Dt.jsxs("a",{href:"https://console.firebase.google.com/project/baazar-dost/authentication",target:"_blank",rel:"noopener noreferrer",className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Authentication"}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage users and sign-in methods"})]}),Dt.jsxs("a",{href:"https://console.firebase.google.com/project/baazar-dost/firestore",target:"_blank",rel:"noopener noreferrer",className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[Dt.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Firestore Database"}),Dt.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View data and security rules"})]})]})]})]})},Zc=()=>{const{t:e}=yi(),t=[{title:e("footer.aboutUs"),links:[{name:e("footer.aboutUs"),href:"/about"},{name:e("footer.contactUs"),href:"/contact"},{name:e("footer.helpSupport"),href:"/help"}]},{title:e("footer.termsOfService"),links:[{name:e("footer.privacyPolicy"),href:"/privacy"},{name:e("footer.termsOfService"),href:"/terms"}]}],r=[{icon:Ae,href:"#",label:"Facebook"},{icon:Ce,href:"#",label:"Twitter"},{icon:Ie,href:"#",label:"Instagram"}];return Dt.jsx("footer",{className:"bg-gray-900 text-white",children:Dt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[Dt.jsxs("div",{className:"lg:col-span-2",children:[Dt.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[Dt.jsx("img",{src:"/logo.png",alt:"Baazar Dost Logo",className:"h-12 w-auto object-contain",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),Dt.jsx("div",{className:"hidden w-10 h-10 bg-primary-600 rounded-lg items-center justify-center",children:Dt.jsx("span",{className:"text-white font-bold text-xl",children:"B"})})]}),Dt.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:e("footer.description")}),Dt.jsxs("div",{className:"space-y-3",children:[Dt.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[Dt.jsx(V,{className:"w-5 h-5"}),Dt.jsx("span",{children:"support@baazardost.com"})]}),Dt.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[Dt.jsx(W,{className:"w-5 h-5"}),Dt.jsx("span",{children:"+91 98765 43210"})]}),Dt.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[Dt.jsx(A,{className:"w-5 h-5"}),Dt.jsx("span",{children:"Tirupathi, Andhra Pradesh, India"})]})]})]}),t.map((e,t)=>Dt.jsxs("div",{children:[Dt.jsx("h3",{className:"text-lg font-semibold mb-4",children:e.title}),Dt.jsx("ul",{className:"space-y-2",children:e.links.map((e,t)=>Dt.jsx("li",{children:Dt.jsx("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors",children:e.name})},t))})]},t))]}),Dt.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8",children:[Dt.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[Dt.jsx("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:e("footer.copyright")}),Dt.jsxs("div",{className:"flex items-center space-x-4",children:[Dt.jsxs("span",{className:"text-gray-400 text-sm mr-2",children:[e("footer.followUs"),":"]}),r.map((e,t)=>{const r=e.icon;return Dt.jsx("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors","aria-label":e.label,children:Dt.jsx(r,{className:"w-5 h-5"})},t)})]})]}),Dt.jsx("div",{className:"text-center mt-6 pt-6 border-t border-gray-800",children:Dt.jsxs("p",{className:"text-gray-400 text-sm flex items-center justify-center",children:["Made with ",Dt.jsx(Te,{className:"w-4 h-4 mx-1 text-red-500"})," for Indian Street Vendors"]})})]})]})})},Gc=()=>{const{t:e,i18n:t}=yi(),i=Tr();Cr();const[s,n]=r.useState(!1),[a,o]=r.useState(!0),{isListening:l,isSupported:d,isProcessing:u,lastCommand:h,confidence:p,startListening:m,stopListening:f,speakResponse:g}=(()=>{const{t:e,i18n:t}=yi(),i=Tr(),{addToCart:s,updateQuantity:n,removeFromCart:a}=fn(),[o,l]=r.useState(!1),[d,u]=r.useState(!1),[h,p]=r.useState(null),[m,f]=r.useState(""),[g,x]=r.useState(0),[y,v]=r.useState(!1),b=r.useRef(null),w={en:"en-US",hi:"hi-IN",te:"te-IN",ta:"ta-IN",kn:"kn-IN"},_={en:{panipuri:["panipuri","pani puri","gol gappa","puchka"],"panipuri kit":["panipuri kit","pani puri kit","complete panipuri kit"],"panipuri puris":["panipuri puris","pani puri puris","puris","gol gappa puris"],"panipuri masala":["panipuri masala","pani puri masala","masala powder"],"waffle mix":["waffle mix","waffle batter","ready waffle mix"],"chocolate syrup":["chocolate syrup","chocolate sauce","waffle syrup"],rice:["rice","basmati rice","premium rice"],"wheat flour":["wheat flour","atta","flour"],maida:["maida","refined flour","all purpose flour"],onions:["onions","red onions","pyaz"],tomatoes:["tomatoes","tomato","tamatar"],potatoes:["potatoes","potato","aloo"],"green chillies":["green chillies","green chili","hari mirch"],turmeric:["turmeric","turmeric powder","haldi"],"chili powder":["chili powder","red chili powder","lal mirch"],"garam masala":["garam masala","masala powder"],milk:["milk","fresh milk","milk packets"],tea:["tea","tea powder","chai"],"paper plates":["paper plates","disposable plates","plates"],"plastic cups":["plastic cups","disposable cups","cups"]},hi:{panipuri:["पानीपूरी","पानी पूरी","गोल गप्पा","पुचका"],"panipuri kit":["पानीपूरी किट","पानी पूरी किट","कम्प्लीट पानीपूरी किट"],"panipuri puris":["पानीपूरी पूरी","पूरी","गोल गप्पा पूरी"],"panipuri masala":["पानीपूरी मसाला","मसाला पाउडर"],"waffle mix":["वैफल मिक्स","वैफल बैटर"],"chocolate syrup":["चॉकलेट सिरप","चॉकलेट सॉस"],rice:["चावल","बासमती चावल"],"wheat flour":["गेहूं का आटा","आटा"],maida:["मैदा","रिफाइंड आटा"],onions:["प्याज","लाल प्याज"],tomatoes:["टमाटर"],potatoes:["आलू"],"green chillies":["हरी मिर्च"],turmeric:["हल्दी","हल्दी पाउडर"],"chili powder":["लाल मिर्च पाउडर","मिर्च पाउडर"],"garam masala":["गरम मसाला"],milk:["दूध","ताजा दूध"],tea:["चाय","चाय पाउडर"],"paper plates":["पेपर प्लेट","डिस्पोजेबल प्लेट"],"plastic cups":["प्लास्टिक कप","डिस्पोजेबल कप"]},te:{panipuri:["పానీపూరీ","పానీ పూరీ","గోల్ గప్పా"],"panipuri kit":["పానీపూరీ కిట్","కంప్లీట్ పానీపూరీ కిట్"],"panipuri puris":["పానీపూరీ పూరీలు","పూరీలు"],"panipuri masala":["పానీపూరీ మసాలా","మసాలా పౌడర్"],"waffle mix":["వాఫిల్ మిక్స్","రెడీ వాఫిల్ మిక్స్"],"chocolate syrup":["చాక్లెట్ సిరప్","చాక్లెట్ సాస్"],rice:["బియ్యం","బాస్మతి బియ్యం"],"wheat flour":["గోధుమ పిండి","పిండి"],maida:["మైదా","రిఫైన్డ్ పిండి"],onions:["ఉల్లిపాయలు","ఎర్ర ఉల్లిపాయలు"],tomatoes:["టమాటాలు"],potatoes:["బంగాళాదుంపలు","ఆలూ"],"green chillies":["పచ్చి మిర్చి"],turmeric:["పసుపు","పసుపు పౌడర్"],"chili powder":["ఎర్ర మిర్చి పౌడర్","మిర్చి పౌడర్"],"garam masala":["గరం మసాలా"],milk:["పాలు","తాజా పాలు"],tea:["టీ","టీ పౌడర్","చాయ్"],"paper plates":["పేపర్ ప్లేట్లు","డిస్పోజబుల్ ప్లేట్లు"],"plastic cups":["ప్లాస్టిక్ కప్పులు","డిస్పోజబుల్ కప్పులు"]},ta:{panipuri:["பானிபூரி","பானி பூரி","கோல் கப்பா"],"panipuri kit":["பானிபூரி கிட்","கம்ப்ளீட் பானிபூரி கிட்"],"panipuri puris":["பானிபூரி பூரிகள்","பூரிகள்"],"panipuri masala":["பானிபூரி மசாலா","மசாலா பவுடர்"],"waffle mix":["வாஃபிள் மிக்ஸ்","ரெடி வாஃபிள் மிக்ஸ்"],"chocolate syrup":["சாக்லேட் சிரப்","சாக்லேட் சாஸ்"],rice:["அரிசி","பாஸ்மதி அரிசி"],"wheat flour":["கோதுமை மாவு","மாவு"],maida:["மைதா","ரிஃபைன்ட் மாவு"],onions:["வெங்காயம்","சிவப்பு வெங்காயம்"],tomatoes:["தக்காளி"],potatoes:["உருளைக்கிழங்கு","ஆலு"],"green chillies":["பச்சை மிளகாய்"],turmeric:["மஞ்சள்","மஞ்சள் பவுடர்"],"chili powder":["சிவப்பு மிளகாய் பவுடர்","மிளகாய் பவுடர்"],"garam masala":["கரம் மசாலா"],milk:["பால்","புதிய பால்"],tea:["தேநீர்","தேநீர் பவுடர்","சாய்"],"paper plates":["பேப்பர் பிளேட்கள்","டிஸ்போசபிள் பிளேட்கள்"],"plastic cups":["பிளாஸ்டிக் கப்கள்","டிஸ்போசபிள் கப்கள்"]},kn:{panipuri:["ಪಾನಿಪೂರಿ","ಪಾನಿ ಪೂರಿ","ಗೋಲ್ ಗಪ್ಪಾ"],"panipuri kit":["ಪಾನಿಪೂರಿ ಕಿಟ್","ಕಂಪ್ಲೀಟ್ ಪಾನಿಪೂರಿ ಕಿಟ್"],"panipuri puris":["ಪಾನಿಪೂರಿ ಪೂರಿಗಳು","ಪೂರಿಗಳು"],"panipuri masala":["ಪಾನಿಪೂರಿ ಮಸಾಲಾ","ಮಸಾಲಾ ಪೌಡರ್"],"waffle mix":["ವಾಫಲ್ ಮಿಕ್ಸ್","ರೆಡಿ ವಾಫಲ್ ಮಿಕ್ಸ್"],"chocolate syrup":["ಚಾಕ್ಲೆಟ್ ಸಿರಪ್","ಚಾಕ್ಲೆಟ್ ಸಾಸ್"],rice:["ಅಕ್ಕಿ","ಬಾಸ್ಮತಿ ಅಕ್ಕಿ"],"wheat flour":["ಗೋಧಿ ಹಿಟ್ಟು","ಹಿಟ್ಟು"],maida:["ಮೈದಾ","ರಿಫೈನ್ಡ್ ಹಿಟ್ಟು"],onions:["ಈರುಳ್ಳಿ","ಕೆಂಪು ಈರುಳ್ಳಿ"],tomatoes:["ಟೊಮೇಟೊ"],potatoes:["ಆಲೂಗಡ್ಡೆ","ಆಲೂ"],"green chillies":["ಹಸಿ ಮೆಣಸಿನಕಾಯಿ"],turmeric:["ಅರಿಶಿನ","ಅರಿಶಿನ ಪೌಡರ್"],"chili powder":["ಕೆಂಪು ಮೆಣಸಿನ ಪೌಡರ್","ಮೆಣಸಿನ ಪೌಡರ್"],"garam masala":["ಗರಂ ಮಸಾಲಾ"],milk:["ಹಾಲು","ತಾಜಾ ಹಾಲು"],tea:["ಚಹಾ","ಚಹಾ ಪೌಡರ್"],"paper plates":["ಪೇಪರ್ ಪ್ಲೇಟ್‌ಗಳು","ಡಿಸ್ಪೋಸಬಲ್ ಪ್ಲೇಟ್‌ಗಳು"],"plastic cups":["ಪ್ಲಾಸ್ಟಿಕ್ ಕಪ್‌ಗಳು","ಡಿಸ್ಪೋಸಬಲ್ ಕಪ್‌ಗಳು"]}},N={en:{addToCart:["add","buy","purchase","order","get me","i want","i need"],removeFromCart:["remove","delete","cancel","take out"],updateQuantity:["change quantity","update quantity","make it","change to"],search:["search","find","look for","show me"],checkout:["checkout","pay","complete order","finish order"],viewCart:["show cart","view cart","cart","my cart"],help:["help","what can you do","commands"]},hi:{addToCart:["जोड़ें","खरीदें","ऑर्डर करें","मुझे चाहिए","लेना है"],removeFromCart:["हटाएं","निकालें","रद्द करें"],updateQuantity:["मात्रा बदलें","संख्या बदलें","बनाएं"],search:["खोजें","ढूंढें","दिखाएं"],checkout:["चेकआउट","भुगतान","ऑर्डर पूरा करें"],viewCart:["कार्ट दिखाएं","कार्ट देखें","मेरा कार्ट"],help:["सहायता","मदद","आप क्या कर सकते हैं"]},te:{addToCart:["జోడించండి","కొనండి","ఆర్డర్ చేయండి","నాకు కావాలి","తీసుకోవాలి"],removeFromCart:["తొలగించండి","తీసివేయండి","రద్దు చేయండి"],updateQuantity:["పరిమాణం మార్చండి","సంఖ్య మార్చండి","చేయండి"],search:["వెతకండి","కనుగొనండి","చూపించండి"],checkout:["చెక్అవుట్","చెల్లింపు","ఆర్డర్ పూర్తి చేయండి"],viewCart:["కార్ట్ చూపించండి","కార్ట్ చూడండి","నా కార్ట్"],help:["సహాయం","మద్దతు","మీరు ఏమి చేయగలరు"]},ta:{addToCart:["சேர்க்கவும்","வாங்கவும்","ஆர்டர் செய்யவும்","எனக்கு வேண்டும்","எடுக்க வேண்டும்"],removeFromCart:["அகற்றவும்","எடுத்துவிடவும்","ரத்து செய்யவும்"],updateQuantity:["அளவு மாற்றவும்","எண்ணிக்கை மாற்றவும்","செய்யவும்"],search:["தேடவும்","கண்டுபிடிக்கவும்","காட்டவும்"],checkout:["செக்அவுட்","பணம் செலுத்தவும்","ஆர்டர் முடிக்கவும்"],viewCart:["கார்ட் காட்டவும்","கார்ட் பார்க்கவும்","என் கார்ட்"],help:["உதவி","ஆதரவு","நீங்கள் என்ன செய்ய முடியும்"]},kn:{addToCart:["ಸೇರಿಸಿ","ಖರೀದಿಸಿ","ಆರ್ಡರ್ ಮಾಡಿ","ನನಗೆ ಬೇಕು","ತೆಗೆದುಕೊಳ್ಳಬೇಕು"],removeFromCart:["ತೆಗೆದುಹಾಕಿ","ತೆಗೆಯಿರಿ","ರದ್ದುಗೊಳಿಸಿ"],updateQuantity:["ಪ್ರಮಾಣ ಬದಲಾಯಿಸಿ","ಸಂಖ್ಯೆ ಬದಲಾಯಿಸಿ","ಮಾಡಿ"],search:["ಹುಡುಕಿ","ಕಂಡುಹಿಡಿ","ತೋರಿಸಿ"],checkout:["ಚೆಕ್‌ಔಟ್","ಪಾವತಿ","ಆರ್ಡರ್ ಪೂರ್ಣಗೊಳಿಸಿ"],viewCart:["ಕಾರ್ಟ್ ತೋರಿಸಿ","ಕಾರ್ಟ್ ನೋಡಿ","ನನ್ನ ಕಾರ್ಟ್"],help:["ಸಹಾಯ","ಬೆಂಬಲ","ನೀವು ಏನು ಮಾಡಬಹುದು"]}};r.useEffect(()=>{const r=window.SpeechRecognition||window.webkitSpeechRecognition;if(r){u(!0);const i=new r;i.continuous=!1,i.interimResults=!1,i.maxAlternatives=5;const s=t.language||"en";i.lang=w[s]||"en-US",i.onstart=()=>{l(!0),v(!1),console.log("Voice ordering started")},i.onresult=t=>{const r=t.results[0],i=r[0].transcript.toLowerCase().trim(),s=r[0].confidence;f(i),x(s),console.log("Voice command:",i,"Confidence:",s),s>.5?(v(!0),k(i)):(c.error(e("voice.responses.commandNotRecognized")),P(e("voice.responses.commandNotRecognized")))},i.onerror=t=>{console.error("Speech recognition error:",t.error),l(!1),v(!1),"no-speech"===t.error?c.info("No speech detected. Please try again."):"not-allowed"===t.error?c.error("Microphone access denied. Please enable microphone permissions."):c.error(e("voice.responses.commandNotRecognized"))},i.onend=()=>{l(!1),v(!1),console.log("Voice ordering ended")},p(i)}else u(!1),console.warn("Speech recognition not supported")},[t.language,e]);const k=r.useCallback(e=>{const r=t.language||"en",i=N[r]||N.en,s=_[r]||_.en;let n=null,a=null,o=1;for(const[t,c]of Object.entries(i)){for(const r of c)if(e.includes(r)){n=t;break}if(n)break}for(const[t,c]of Object.entries(s)){for(const r of c)if(e.includes(r)){a=j(t);break}if(a)break}const l=e.match(/(\d+|one|two|three|four|five|six|seven|eight|nine|ten)/i);if(l){const e=l[1].toLowerCase();o={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10}[e]||parseInt(e)||1}console.log("Detected:",{action:n,product:a,quantity:o}),S(n,a,o,e)},[t.language,s,n,a,i]),j=(e,t)=>{const r=Sn(e);if(r.length>0)return r[0];const i={panipuri:"panipuri-kit-complete","panipuri kit":"panipuri-kit-complete","panipuri puris":"panipuri-puris-fresh","panipuri masala":"panipuri-masala-powder","waffle mix":"waffle-mix-ready","chocolate syrup":"chocolate-syrup-waffle",rice:"rice-basmati-25kg","wheat flour":"wheat-flour-10kg",onions:"red-onions-fresh",tomatoes:"tomatoes-fresh",potatoes:"potatoes-fresh","green chillies":"green-chillies-fresh",turmeric:"turmeric-powder","chili powder":"chili-powder","garam masala":"garam-masala-powder",milk:"milk-packets",tea:"tea-powder","paper plates":"paper-plates","plastic cups":"plastic-cups-disposable"}[e];return jn.find(e=>e.id===i)},S=r.useCallback((t,r,o,l)=>{switch(console.log("Executing voice order:",{action:t,product:r,quantity:o}),t){case"addToCart":if(r){s(r,o);const t=`${e("voice.responses.addedToCart")}: ${o} ${r.name}`;c.success(t),P(t)}else{const t=e("voice.responses.productNotFound");c.error(t),P(t)}break;case"removeFromCart":if(r){a(r.id);const e=`Removed ${r.name} from cart`;c.success(e),P(e)}else{const e="Product not found to remove";c.error(e),P(e)}break;case"updateQuantity":if(r&&o){n(r.id,o);const e=`Updated ${r.name} quantity to ${o}`;c.success(e),P(e)}else{const e="Could not update quantity";c.error(e),P(e)}break;case"search":const t=l.replace(/search|find|look for|show me/gi,"").trim();if(t){i(`/products?search=${encodeURIComponent(t)}`);const r=`${e("voice.responses.searchingFor")} ${t}`;c.success(r),P(r)}break;case"viewCart":i("/cart");const d=`${e("voice.responses.navigatingTo")} ${e("navigation.cart")}`;c.success(d),P(d);break;case"checkout":i("/cart");const u=`${e("voice.responses.navigatingTo")} ${e("cart.checkout")}`;c.success(u),P(u);break;case"help":const h=e("voice.responses.helpText");c.info(h),P(h);break;default:if(l.trim()){i(`/products?search=${encodeURIComponent(l)}`);const t=`${e("voice.responses.searchingFor")} ${l}`;c.success(t),P(t)}else{const t=e("voice.responses.commandNotRecognized");c.error(t),P(t)}}v(!1)},[s,n,a,i,e]),P=r.useCallback(e=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=new SpeechSynthesisUtterance(e),i=t.language||"en",s={en:"en-US",hi:"hi-IN",te:"te-IN",ta:"ta-IN",kn:"kn-IN"};r.lang=s[i]||"en-US",r.rate=.9,r.pitch=1,r.volume=.8,window.speechSynthesis.speak(r)}},[t.language]),L=r.useCallback(()=>{if(h&&d){if(!o)try{const e=t.language||"en";h.lang=w[e]||"en-US",h.start(),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{o&&h.stop()},1e4)}catch(uu){console.error("Error starting voice recognition:",uu),c.error("Failed to start voice recognition")}}else c.error("Speech recognition not supported")},[h,d,o,t.language]),A=r.useCallback(()=>{h&&o&&h.stop(),b.current&&(clearTimeout(b.current),b.current=null)},[h,o]);return r.useEffect(()=>()=>{b.current&&clearTimeout(b.current),h&&h.stop()},[h]),{isListening:o,isSupported:d,isProcessing:y,lastCommand:m,confidence:g,startListening:L,stopListening:A,processVoiceOrder:k,speakResponse:P}})(),x={en:{home:["go home","home page","main page","dashboard"],products:["show products","go to products","product page","browse products"],cart:["show cart","go to cart","view cart","my cart"],orders:["show orders","my orders","order history","view orders"],profile:["show profile","my profile","account settings","user profile"],suppliers:["find suppliers","supplier map","store locator","nearby suppliers"],help:["help","voice commands","what can you do","show help"],search:["search for","find","look for","show me"]},hi:{home:["होम जाएं","मुख्य पृष्ठ","डैशबोर्ड","घर"],products:["उत्पाद दिखाएं","प्रोडक्ट्स","सामान दिखाएं"],cart:["कार्ट दिखाएं","टोकरी","मेरा कार्ट"],orders:["ऑर्डर दिखाएं","मेरे ऑर्डर","आर्डर हिस्ट्री"],profile:["प्रोफाइल दिखाएं","मेरी प्रोफाइल","खाता"],suppliers:["सप्लायर खोजें","दुकान खोजें","नजदीकी दुकान"],help:["सहायता","मदद","आप क्या कर सकते हैं"],search:["खोजें","ढूंढें","दिखाएं"]},te:{home:["హోమ్ కి వెళ్ళండి","ముఖ్య పేజీ","డాష్‌బోర్డ్"],products:["ప్రొడక్ట్స్ చూపించండి","వస్తువులు","సామాను చూపించండి"],cart:["కార్ట్ చూపించండి","బుట్ట","నా కార్ట్"],orders:["ఆర్డర్లు చూపించండి","నా ఆర్డర్లు","ఆర్డర్ చరిత్ర"],profile:["ప్రొఫైల్ చూపించండి","నా ప్రొఫైల్","ఖాతా"],suppliers:["సప్లయర్లను కనుగొనండి","దుకాణం కనుగొనండి","సమీప దుకాణాలు"],help:["సహాయం","మద్దతు","మీరు ఏమి చేయగలరు"],search:["వెతకండి","కనుగొనండి","చూపించండి"]},ta:{home:["வீட்டிற்கு செல்லுங்கள்","முதன்மை பக்கம்","டாஷ்போர்டு"],products:["தயாரிப்புகளைக் காட்டுங்கள்","பொருட்கள்","சாமான்களைக் காட்டுங்கள்"],cart:["கார்ட்டைக் காட்டுங்கள்","கூடை","என் கார்ட்"],orders:["ஆர்டர்களைக் காட்டுங்கள்","என் ஆர்டர்கள்","ஆர்டர் வரலாறு"],profile:["சுயவிவரத்தைக் காட்டுங்கள்","என் சுயவிவரம்","கணக்கு"],suppliers:["சப்ளையர்களைக் கண்டறியுங்கள்","கடையைக் கண்டறியுங்கள்","அருகிலுள்ள கடைகள்"],help:["உதவி","ஆதரவு","நீங்கள் என்ன செய்ய முடியும்"],search:["தேடுங்கள்","கண்டறியுங்கள்","காட்டுங்கள்"]},kn:{home:["ಮನೆಗೆ ಹೋಗಿ","ಮುಖ್ಯ ಪುಟ","ಡ್ಯಾಶ್‌ಬೋರ್ಡ್"],products:["ಉತ್ಪಾದನೆಗಳನ್ನು ತೋರಿಸಿ","ವಸ್ತುಗಳು","ಸಾಮಾನುಗಳನ್ನು ತೋರಿಸಿ"],cart:["ಕಾರ್ಟ್ ತೋರಿಸಿ","ಬುಟ್ಟಿ","ನನ್ನ ಕಾರ್ಟ್"],orders:["ಆರ್ಡರ್‌ಗಳನ್ನು ತೋರಿಸಿ","ನನ್ನ ಆರ್ಡರ್‌ಗಳು","ಆರ್ಡರ್ ಇತಿಹಾಸ"],profile:["ಪ್ರೊಫೈಲ್ ತೋರಿಸಿ","ನನ್ನ ಪ್ರೊಫೈಲ್","ಖಾತೆ"],suppliers:["ಸಪ್ಲೈಯರ್‌ಗಳನ್ನು ಹುಡುಕಿ","ಅಂಗಡಿಯನ್ನು ಹುಡುಕಿ","ಹತ್ತಿರದ ಅಂಗಡಿಗಳು"],help:["ಸಹಾಯ","ಬೆಂಬಲ","ನೀವು ಏನು ಮಾಡಬಹುದು"],search:["ಹುಡುಕಿ","ಕಂಡುಹಿಡಿ","ತೋರಿಸಿ"]}},y=(t,r)=>{let s="";switch(t){case"home":i("/"),s=e("voice.responses.navigatingTo")+" "+e("navigation.home");break;case"products":i("/products"),s=e("voice.responses.navigatingTo")+" "+e("navigation.products");break;case"cart":i("/cart"),s=e("voice.responses.navigatingTo")+" "+e("navigation.cart");break;case"orders":i("/orders"),s=e("voice.responses.navigatingTo")+" "+e("navigation.orders");break;case"profile":i("/profile"),s=e("voice.responses.navigatingTo")+" "+e("navigation.profile");break;case"suppliers":i("/suppliers"),s=e("voice.responses.navigatingTo")+" "+e("navigation.suppliers");break;case"help":n(!0),s=e("voice.responses.showingHelp");break;case"search":const t=r.replace(/search for|find|look for|show me|खोजें|ढूंढें|వెతకండి|தேடுங்கள்|ಹುಡುಕಿ/gi,"").trim();t?(i(`/products?search=${encodeURIComponent(t)}`),s=`${e("voice.responses.searchingFor")} ${t}`):s=e("voice.responses.searchTermRequired");break;default:s=e("voice.responses.commandNotRecognized")}c.success(s),a&&g(s)};r.useEffect(()=>{if(h&&p>.6){(e=>{const r=t.language||"en",i=x[r]||x.en,s=e.toLowerCase();for(const[t,n]of Object.entries(i))for(const e of n)if(s.includes(e))return y(t,s),!0;return!1})(h)||console.log("Command not handled by navigation, passing to voice ordering")}},[h,p]);return d?Dt.jsxs(Dt.Fragment,{children:[Dt.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2",children:[Dt.jsx("button",{onClick:()=>{o(!a);const e=a?"Voice responses disabled":"Voice responses enabled";c.info(e)},className:"p-2 rounded-full shadow-lg transition-colors "+(a?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 hover:bg-gray-500 text-white"),title:a?"Disable voice responses":"Enable voice responses",children:a?Dt.jsx(M,{size:20}):Dt.jsx(Fe,{size:20})}),Dt.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-gray-600 hover:bg-gray-700 text-white rounded-full shadow-lg transition-colors",title:"Voice commands help",children:Dt.jsx(F,{size:20})}),Dt.jsx("button",{onClick:()=>{l?f():m()},disabled:u,className:"p-4 rounded-full shadow-lg transition-all duration-300 "+(l?"bg-red-600 hover:bg-red-700 text-white animate-pulse":u?"bg-yellow-600 text-white cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white"),title:l?"Stop listening":"Start voice command",children:l?Dt.jsx(R,{size:24}):Dt.jsx(D,{size:24})}),(l||u)&&Dt.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2 text-sm",children:[l&&Dt.jsx("div",{className:"text-red-600 font-medium",children:"🎤 Listening..."}),u&&Dt.jsx("div",{className:"text-yellow-600 font-medium",children:"⚡ Processing..."}),h&&Dt.jsxs("div",{className:"text-gray-600 dark:text-gray-400 text-xs mt-1",children:['"',h,'" (',Math.round(100*p),"%)"]})]})]}),s&&Dt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:Dt.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:Dt.jsxs("div",{className:"p-6",children:[Dt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Dt.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Voice Commands Help"}),Dt.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Dt.jsx(b,{size:24})})]}),Dt.jsxs("div",{className:"space-y-4",children:[Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Navigation Commands:"}),Dt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[Dt.jsx("div",{children:'• "Go home" / "होम जाएं"'}),Dt.jsx("div",{children:'• "Show products" / "उत्पाद दिखाएं"'}),Dt.jsx("div",{children:'• "View cart" / "कार्ट दिखाएं"'}),Dt.jsx("div",{children:'• "My orders" / "मेरे ऑर्डर"'}),Dt.jsx("div",{children:'• "Show profile" / "प्रोफाइल दिखाएं"'}),Dt.jsx("div",{children:'• "Find suppliers" / "सप्लायर खोजें"'})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Ordering Commands:"}),Dt.jsxs("div",{className:"text-sm space-y-1",children:[Dt.jsx("div",{children:'• "Add 5 panipuri kit to cart"'}),Dt.jsx("div",{children:'• "Order 2 kg rice"'}),Dt.jsx("div",{children:'• "Buy 10 pieces of onions"'}),Dt.jsx("div",{children:'• "Search for tomatoes"'})]})]}),Dt.jsxs("div",{children:[Dt.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Supported Languages:"}),Dt.jsx("div",{className:"text-sm",children:"English, हिंदी, తెలుగు, தமிழ், ಕನ್ನಡ"})]}),Dt.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:Dt.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["💡 ",Dt.jsx("strong",{children:"Tip:"})," Speak clearly and wait for the beep before giving your command. The system will automatically detect your language."]})})]})]})})})]}):null};function Qc(){const{user:e,userProfile:t,loading:i}=hn(),{i18n:s}=yi(),[n,a]=r.useState(!1),[o,l]=r.useState(!1),[c,d]=r.useState(!1);r.useEffect(()=>{console.log("🔍 App Auth State:",{user:e?{uid:e.uid,email:e.email}:null,userProfile:t?{role:t.role,name:t.name}:null,loading:i,isInitialized:n,showAccountSetup:o,allowGuestAccess:c})},[e,t,i,n,o,c]),r.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("baazar-dost-language");e&&await s.changeLanguage(e),a(!0)}catch(uu){console.error("App initialization error:",uu),a(!0)}})()},[s]),r.useEffect(()=>{!i&&n&&(e&&null===t&&!c?(console.log("👤 User authenticated but no profile - showing account setup"),l(!0)):l(!1))},[i,n,e,t,c]);const u=()=>{l(!1),console.log("✅ Account setup completed")},h=()=>{l(!1),d(!0),console.log("⏭️ Account setup skipped - allowing guest access")};return i||!n?Dt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:Dt.jsx(xn,{size:"large"})}):o?Dt.jsx(zn,{onComplete:u,onSkip:h}):Dt.jsx(Yr,{children:Dt.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[e&&Dt.jsx(Tn,{}),Dt.jsx("main",{className:e?"pt-16":"",children:Dt.jsxs(Vr,{children:[Dt.jsx(Wr,{path:"/login",element:e?Dt.jsx(Hr,{to:"/",replace:!0}):Dt.jsx($n,{})}),Dt.jsx(Wr,{path:"/register",element:e?Dt.jsx(Hr,{to:"/",replace:!0}):Dt.jsx(Qn,{})}),Dt.jsx(Wr,{path:"/",element:e?("supplier"===(null==t?void 0:t.role)||null===t&&c)&&"supplier"===(null==t?void 0:t.role)?Dt.jsx(qc,{}):Dt.jsx(Wn,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/products",element:e||c?"supplier"===(null==t?void 0:t.role)&&null!==t?Dt.jsx(Hr,{to:"/",replace:!0}):Dt.jsx(Jn,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/product/:productId",element:Dt.jsx(ea,{})}),Dt.jsx(Wr,{path:"/cart",element:e||c?"supplier"===(null==t?void 0:t.role)&&null!==t?Dt.jsx(Hr,{to:"/",replace:!0}):Dt.jsx(ra,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/orders",element:e?Dt.jsx(Nc,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/suppliers",element:e?Dt.jsx(kc,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/stores",element:e?"supplier"===(null==t?void 0:t.role)?Dt.jsx(Hr,{to:"/",replace:!0}):Dt.jsx(Ic,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/supplier-dashboard",element:e?Dt.jsx(qc,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/profile",element:e?Dt.jsx(Tc,{}):Dt.jsx(Hr,{to:"/login",replace:!0})}),Dt.jsx(Wr,{path:"/help",element:Dt.jsx(Uc,{})}),Dt.jsx(Wr,{path:"/auth-test",element:Dt.jsx(Vc,{})}),Dt.jsx(Wr,{path:"/firebase-test",element:Dt.jsx(Hc,{})}),Dt.jsx(Wr,{path:"/google-signin",element:Dt.jsx(Wc,{})}),Dt.jsx(Wr,{path:"/google-signin-demo",element:Dt.jsx($c,{})}),Dt.jsx(Wr,{path:"*",element:Dt.jsx(Hr,{to:"/",replace:!0})})]})}),Dt.jsx(Zc,{}),e&&Dt.jsx(Gc,{}),Dt.jsx(Ee,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",className:"text-sm"})]})})}function Kc(){return Dt.jsx(yn,{children:Dt.jsx(wi,{children:Dt.jsx(pn,{children:Dt.jsxs(gn,{children:[Dt.jsx(Qc,{}),Dt.jsx(En,{}),Dt.jsx(On,{}),Dt.jsx(Fn,{})]})})})})}const Yc=e=>"string"==typeof e,Jc=()=>{let e,t;const r=new Promise((r,i)=>{e=r,t=i});return r.resolve=e,r.reject=t,r},Xc=e=>null==e?"":""+e,ed=/###/g,td=e=>e&&e.indexOf("###")>-1?e.replace(ed,"."):e,rd=e=>!e||Yc(e),id=(e,t,r)=>{const i=Yc(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(rd(e))return{};const t=td(i[s]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return rd(e)?{}:{obj:e,k:td(i[s])}},sd=(e,t,r)=>{const{obj:i,k:s}=id(e,t,Object);if(void 0!==i||1===t.length)return void(i[s]=r);let n=t[t.length-1],a=t.slice(0,t.length-1),o=id(e,a,Object);for(;void 0===o.obj&&a.length;)n=`${a[a.length-1]}.${n}`,a=a.slice(0,a.length-1),o=id(e,a,Object),o&&o.obj&&void 0!==o.obj[`${o.k}.${n}`]&&(o.obj=void 0);o.obj[`${o.k}.${n}`]=r},nd=(e,t)=>{const{obj:r,k:i}=id(e,t);if(r)return r[i]},ad=(e,t,r)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?Yc(e[i])||e[i]instanceof String||Yc(t[i])||t[i]instanceof String?r&&(e[i]=t[i]):ad(e[i],t[i],r):e[i]=t[i]);return e},od=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ld={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cd=e=>Yc(e)?e.replace(/[&<>"'\/]/g,e=>ld[e]):e;const dd=[" ",",","?","!",";"],ud=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),hd=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(r);let s=e;for(let n=0;n<i.length;){if(!s||"object"!=typeof s)return;let e,t="";for(let a=n;a<i.length;++a)if(a!==n&&(t+=r),t+=i[a],e=s[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<i.length-1)continue;n+=a-n+1;break}s=e}return s},pd=e=>e&&e.replace("_","-"),md={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class fd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||md,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Yc(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new fd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new fd(this.logger,e)}}var gd=new fd;class xd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let s=0;s<i;s++)t(...r)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[i,s]=t;for(let n=0;n<s;n++)i.apply(i,[e,...r])})}}}class yd extends xd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,n=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):Yc(r)&&s?a.push(...r.split(s)):a.push(r)));const o=nd(this.data,a);return!o&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),!o&&n&&Yc(r)?hd(this.data&&this.data[e]&&this.data[e][t],r,s):o}addResource(e,t,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const n=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(n?r.split(n):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),sd(this.data,a,i),s.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const s in r)(Yc(r[s])||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let o=nd(this.data,a)||{};n.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ad(o,r,s):o={...o,...r},sd(this.data,a,o),n.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var vd={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,i,s){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,r,i,s))}),t}};const bd={};class wd extends xd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=gd.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const n=r&&e.indexOf(r)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const i=dd.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===i.length)return!0;const s=ud.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let n=!s.test(e);if(!n){const t=e.indexOf(r);t>0&&!s.test(e.substring(0,t))&&(n=!0)}return n})(e,r,i));if(n&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Yc(s)?[s]:s};const n=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(n[0])>-1)&&(s=n.shift()),e=n.join(i)}return{key:e,namespaces:Yc(s)?[s]:s}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:n,namespaces:a}=this.extractFromKey(e[e.length-1],t),o=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${o}${e}${n}`,usedKey:n,exactUsedKey:n,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${n}`}return i?{res:n,usedKey:n,exactUsedKey:n,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:n}const d=this.resolve(e,t);let u=d&&d.res;const h=d&&d.usedKey||n,p=d&&d.exactUsedKey||n,m=Object.prototype.toString.apply(u),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,x=!Yc(u)&&"boolean"!=typeof u&&"number"!=typeof u;if(!(g&&u&&x&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0)||Yc(f)&&Array.isArray(u))if(g&&Yc(f)&&Array.isArray(u))u=u.join(f),u&&(u=this.extendTranslation(u,e,t,r));else{let i=!1,a=!1;const c=void 0!==t.count&&!Yc(t.count),h=wd.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",m=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${m}`]||t.defaultValue;!this.isValidLookup(u)&&h&&(i=!0,u=g),this.isValidLookup(u)||(a=!0,u=n);const x=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:u,y=h&&g!==u&&this.options.updateMissing;if(a||i||y){if(this.logger.log(y?"updateKey":"missingKey",l,o,n,y?g:u),s){const e=this.resolve(n,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,r,i)=>{const s=h&&i!==u?i:x;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,r,s,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,r,s,y,t),this.emit("missingKey",e,o,r,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{const r=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&r.indexOf(`${this.options.pluralSeparator}zero`)<0&&r.push(`${this.options.pluralSeparator}zero`),r.forEach(r=>{i([e],n+r,t[`defaultValue${r}`]||g)})}):i(e,n,g))}u=this.extendTranslation(u,e,t,d,r),a&&u===n&&this.options.appendNamespaceToMissingKey&&(u=`${o}:${n}`),(a||i)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${n}`:n,i?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...t,ns:a}):`key '${n} (${this.language})' returned an object instead of string.`;return i?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(s){const e=Array.isArray(u),r=e?[]:{},i=e?p:h;for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n)){const e=`${i}${s}${n}`;r[n]=this.translate(e,{...t,joinArrays:!1,ns:a}),r[n]===e&&(r[n]=u[n])}u=r}}return i?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,r,i,s){var n=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const a=Yc(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(a){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=r.replace&&!Yc(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,r.lng||this.language||i.usedLng,r),a){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(r.lng=this.language||i.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return s&&s[0]===i[0]&&!r.context?(n.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):n.translate(...i,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Yc(a)?[a]:a;return null!=e&&o&&o.length&&!1!==r.applyPostProcessor&&(e=vd.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,i,s,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yc(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,a),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==a.count&&!Yc(a.count),u=d&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&(Yc(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(n=e,!bd[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(n)&&(bd[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(r=>{if(this.isValidLookup(t))return;s=r;const n=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(n,l,r,e,a);else{let e;d&&(e=this.pluralResolver.getSuffix(r,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.push(l+e),a.ordinal&&0===e.indexOf(i)&&n.push(l+e.replace(i,this.options.pluralSeparator)),u&&n.push(l+t)),h){const r=`${l}${this.options.contextSeparator}${a.context}`;n.push(r),d&&(n.push(r+e),a.ordinal&&0===e.indexOf(i)&&n.push(r+e.replace(i,this.options.pluralSeparator)),u&&n.push(r+t))}}let o;for(;o=n.pop();)this.isValidLookup(t)||(i=o,t=this.getResource(r,e,o,a))}))})}),{res:t,usedKey:r,exactUsedKey:i,usedLng:s,usedNS:n}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Yc(e.replace);let i=r?e.replace:e;if(r&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}const _d=e=>e.charAt(0).toUpperCase()+e.slice(1);class Nd{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gd.create("languageUtils")}getScriptPartFromCode(e){if(!(e=pd(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=pd(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Yc(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(wl){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(e=>e.toLowerCase()):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=_d(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=_d(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=_d(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Yc(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Yc(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):Yc(e)&&s(this.formatLanguageCode(e)),r.forEach(e=>{i.indexOf(e)<0&&s(this.formatLanguageCode(e))}),i}}let kd=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jd={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Sd=["v1","v2","v3"],Pd=["v4"],Ld={zero:0,one:1,two:2,few:3,many:4,other:5};class Ad{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=gd.create("pluralResolver"),this.options.compatibilityJSON&&!Pd.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return kd.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:jd[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const i=pd("dev"===e?"en":e),s=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:i,type:s});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let a;try{a=new Intl.PluralRules(i,{type:s})}catch(r){if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(i,t)}return this.pluralRulesCache[n]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((e,t)=>Ld[e]-Ld[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):r.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Sd.includes(this.options.compatibilityJSON)}}const Cd=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=((e,t,r)=>{const i=nd(e,r);return void 0!==i?i:nd(t,r)})(e,t,r);return!n&&s&&Yc(r)&&(n=hd(e,r,i),void 0===n&&(n=hd(t,r,i))),n},Id=e=>e.replace(/\$/g,"$$$$");class Td{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=gd.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:n,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:x}=e.interpolation;this.escape=void 0!==t?t:cd,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==i&&i,this.prefix=s?od(s):n||"{{",this.suffix=a?od(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?od(u):h||od("$t("),this.nestingSuffix=p?od(p):m||od(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==x&&x,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let s,n,a;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const s=Cd(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,r,{...i,...t,interpolationkey:e}):s}const s=e.split(this.formatSeparator),n=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(Cd(t,o,n,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...i,...t,interpolationkey:n})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Id(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Id(this.escape(e)):Id(e)}].forEach(t=>{for(a=0;s=t.regex.exec(e);){const r=s[1].trim();if(n=l(r),void 0===n)if("function"==typeof c){const t=c(e,s,i);n=Yc(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,r))n="";else{if(d){n=s[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),n=""}else Yc(n)||this.useRawValueToEscape||(n=Xc(n));const o=t.safeValue(n);if(e=e.replace(s[0],o),d?(t.regex.lastIndex+=n.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r,i,s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const i=e.split(new RegExp(`${r}[ ]*{`));let n=`{${i[1]}`;e=i[0],n=this.interpolate(n,s);const a=n.match(/'/g),o=n.match(/"/g);(a&&a.length%2==0&&!o||o.length%2!=0)&&(n=n.replace(/'/g,'"'));try{s=JSON.parse(n),t&&(s={...t,...s})}catch(wl){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,wl),`${e}${r}${n}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];s={...n},s=s.replace&&!Yc(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),o=e,l=!0}if(i=t(a.call(this,r[1].trim(),s),s),i&&r[0]===e&&!Yc(i))return i;Yc(i)||(i=Xc(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),l&&(i=o.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const Fd=e=>{const t={};return(r,i,s)=>{let n=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(n={...n,[s.interpolationkey]:void 0});const a=i+JSON.stringify(n);let o=t[a];return o||(o=e(pd(i),s),t[a]=o),o(r)}};class Ed{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=gd.create("formatter"),this.options=e,this.formats={number:Fd((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:Fd((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:Fd((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:Fd((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:Fd((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Fd(t)}format(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(e=>e.indexOf(")")>-1)){const e=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,e)].join(this.formatSeparator)}return s.reduce((e,t)=>{const{formatName:s,formatOptions:n}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);"currency"===t&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):"relativetime"===t&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),s=i.join(":").trim().replace(/^'+|'+$/g,""),n=t.trim();r[n]||(r[n]=s),"false"===s&&(r[n]=!1),"true"===s&&(r[n]=!0),isNaN(s)||(r[n]=parseInt(s,10))}})}return{formatName:t,formatOptions:r}})(t);if(this.formats[s]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},o=a.locale||a.lng||i.locale||i.lng||r;t=this.formats[s](e,o,{...n,...i,...a})}catch(uu){this.logger.warn(uu)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}class Od extends xd{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=gd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,t,r,i){const s={},n={},a={},o={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===n[a]&&(n[a]=!0):(this.state[a]=1,i=!1,void 0===n[a]&&(n[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===o[t]&&(o[t]=!0)))}),i||(a[e]=!0)}),(Object.keys(s).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(n),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,r){const i=e.split("|"),s=i[0],n=i[1];t&&this.emit("failedLoading",s,n,t),!t&&r&&this.store.addResourceBundle(s,n,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach(r=>{((e,t,r)=>{const{obj:i,k:s}=id(e,t,Object);i[s]=i[s]||[],i[s].push(r)})(r.loaded,[s],n),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});const t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!e.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:s,callback:n});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,i+1,2*s,n)},s):n(a,o)},o=this.backend[r].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const r=o(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(l){a(l)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Yc(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yc(t)&&(t=[t]);const s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(r,n)=>{r&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,r),!r&&n&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,n),this.loaded(e,r,n)})}saveMissing(e,t,r,i,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){const l={...n,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let s;s=5===c.length?c(e,t,r,i,l):c(e,t,r,i),s&&"function"==typeof s.then?s.then(e=>a(null,e)).catch(a):a(null,s)}catch(o){a(o)}else c(e,t,r,i,a,l)}e&&e[0]&&this.store.addResource(e[0],t,r,i)}}}const Md=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Yc(e[1])&&(t.defaultValue=e[1]),Yc(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Rd=e=>(Yc(e.ns)&&(e.ns=[e.ns]),Yc(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Yc(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Dd=()=>{};class Bd extends xd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=Rd(e),this.services={},this.logger=gd,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Yc(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Md();this.options={...i,...this.options,...Rd(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?gd.init(s(this.modules.logger),this.options):gd.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Ed);const r=new Nd(this.options);this.store=new yd(this.options.resources,this.options);const n=this.services;n.logger=gd,n.resourceStore=this.store,n.languageUtils=r,n.pluralResolver=new Ad(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(n.formatter=s(t),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new Td(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new Od(s(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];e.emit(t,...i)}),this.modules.languageDetector&&(n.languageDetector=s(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=s(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new wd(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const n=Jc(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),n}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dd;const r=Yc(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(r)i(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}this.options.preload&&this.options.preload.forEach(e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,r){const i=Jc();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Dd),this.services.backendConnector.reload(e,t,e=>{i.resolve(),r(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&vd.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const i=Jc();this.emit("languageChanging",e);const s=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(e,n)=>{n?(s(n),this.translator.changeLanguage(n),this.isLanguageChangingTo=void 0,this.emit("languageChanged",n),this.logger.log("languageChanged",n)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(e,function(){return r.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);const r=Yc(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||s(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,e=>{n(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,r){var i=this;const s=function(e,t){let n;if("object"!=typeof t){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];n=i.options.overloadTranslationOptionHandler([e,t].concat(o))}else n={...t};n.lng=n.lng||s.lng,n.lngs=n.lngs||s.lngs,n.ns=n.ns||s.ns,""!==n.keyPrefix&&(n.keyPrefix=n.keyPrefix||r||s.keyPrefix);const c=i.options.keySeparator||".";let d;return d=n.keyPrefix&&Array.isArray(e)?e.map(e=>`${n.keyPrefix}${c}${e}`):n.keyPrefix?`${n.keyPrefix}${c}${e}`:e,i.t(d,n)};return Yc(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const n=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,n);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!n(r,e)||i&&!n(s,e)))}loadNamespaces(e,t){const r=Jc();return this.options.ns?(Yc(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Jc();Yc(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return s.length?(this.options.preload=i.concat(s),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Nd(Md());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Bd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dd;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Bd(i);void 0===e.debug&&void 0===e.prefix||(s.logger=s.logger.clone(e));return["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new yd(this.store.data,i),s.services.resourceStore=s.store),s.translator=new wd(s.services,i),s.translator.on("*",function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s.emit(e,...r)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zd=Bd.createInstance();function qd(e){var t=function(e,t){if("object"!=na(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t);if("object"!=na(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==na(t)?t:t+""}function Ud(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qd(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}zd.createInstance=Bd.createInstance,zd.createInstance,zd.dir,zd.init,zd.loadResources,zd.reloadResources,zd.use,zd.changeLanguage,zd.getFixedT,zd.t,zd.exists,zd.setDefaultNamespace,zd.hasLoadedNamespace,zd.loadNamespaces,zd.loadLanguages;var Hd=[],Wd=Hd.forEach,$d=Hd.slice;var Vd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Zd=function(e,t,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*r*1e3)),i&&(s.domain=i),document.cookie=function(e,t,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(t),n="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");n+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!Vd.test(i.domain))throw new TypeError("option domain is invalid");n+="; Domain=".concat(i.domain)}if(i.path){if(!Vd.test(i.path))throw new TypeError("option path is invalid");n+="; Path=".concat(i.path)}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");n+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(n+="; HttpOnly"),i.secure&&(n+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}(e,encodeURIComponent(t),s)},Gd=function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null},Qd={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var r=Gd(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&Zd(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Kd={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1).split("&"),s=0;s<i.length;s++){var n=i[s].indexOf("=");if(n>0)i[s].substring(0,n)===e.lookupQuerystring&&(t=i[s].substring(n+1))}}return t}},Yd=null,Jd=function(){if(null!==Yd)return Yd;try{Yd="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(wl){Yd=!1}return Yd},Xd={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Jd()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Jd()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},eu=null,tu=function(){if(null!==eu)return eu;try{eu="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(wl){eu=!1}return eu},ru={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&tu()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&tu()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},iu={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},su={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},nu={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof r[e.lookupFromPathIndex])return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},au={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,r="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},ou=!1;try{document.cookie,ou=!0}catch(wl){}var lu=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ou||lu.splice(1,1);var cu=function(){return Ud(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)},[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return Wd.call($d.call(arguments,1),function(t){if(t)for(var r in t)void 0===e[r]&&(e[r]=t[r])}),e}(t,this.options||{},{order:lu,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Qd),this.addDetector(Kd),this.addDetector(Xd),this.addDetector(ru),this.addDetector(iu),this.addDetector(su),this.addDetector(nu),this.addDetector(au)}},{key:"addDetector",value:function(e){return this.detectors[e.name]=e,this}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var r=[];return e.forEach(function(e){if(t.detectors[e]){var i=t.detectors[e].lookup(t.options);i&&"string"==typeof i&&(i=[i]),i&&(r=r.concat(i))}}),r=r.map(function(e){return t.options.convertDetectedLanguage(e)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var r=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(function(t){r.detectors[t]&&r.detectors[t].cacheUserLanguage(e,r.options)}))}}])}();cu.type="languageDetector";const du={en:{translation:{app:{name:"Baazar Dost",tagline:"Your Street Vendor Marketplace"},navigation:{home:"Home",products:"Products",cart:"Cart",orders:"Orders",suppliers:"🗺️ Store Locator",profile:"Profile"},auth:{login:"Login",register:"Register",logout:"Logout",email:"Email Address",enterEmail:"Enter your email address",password:"Password",forgotPassword:"Forgot Password?",signInWithEmail:"Sign in with Email",sendLoginLink:"Send Login Link",checkEmail:"Check your email for login link"},home:{welcome:"Welcome to Baazar Dost",subtitle:"Your trusted marketplace for street vendors",quickActions:"Quick Actions",recentDeals:"Recent Deals",popularProducts:"Popular Products"},products:{title:"Products",search:"Search products...",categories:"Categories",allProducts:"All Products",filters:"Filters",sortBy:"Sort By",addToCart:"Add to Cart",outOfStock:"Out of Stock",inStock:"In Stock",bulkOrder:"Bulk Order",unitOrder:"Unit Order"},cart:{title:"Shopping Cart",empty:"Your cart is empty",total:"Total",checkout:"Checkout",quantity:"Quantity",remove:"Remove",continueShopping:"Continue Shopping"},orders:{title:"Order History",orderNumber:"Order #",date:"Date",status:"Status",total:"Total",viewDetails:"View Details",reorder:"Reorder",pending:"Pending",confirmed:"Confirmed",delivered:"Delivered",cancelled:"Cancelled"},suppliers:{title:"Suppliers",contact:"Contact",location:"Location",rating:"Rating",verified:"Verified",specialties:"Specialties"},stores:{title:"Nearby Stores",findStores:"Find Stores",getDirections:"Get Directions",callStore:"Call Store",openHours:"Open Hours",distance:"Distance",storeTypes:"Store Types",searchStores:"Search stores, locations, or specialties...",noStoresFound:"No stores found",locationPermission:"Enable location to find nearby stores",gettingLocation:"Getting your location...",locationFound:"Location found - showing nearest stores",yourLocation:"Your Location"},profile:{title:"Profile",personalInfo:"Personal Information",businessInfo:"Business Information",settings:"Settings",language:"Language",theme:"Theme",notifications:"Notifications"},search:{placeholder:"Search products, suppliers...",voiceSearch:"Voice Search",listening:"Listening...",results:"Search Results",noResults:"No results found",stopListening:"Stop Listening",searchResults:"Search Results"},deals:{title:"Today's Deals",viewAll:"View All Deals",save:"Save",limitedTime:"Limited Time",endsIn:"Ends in"},common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",confirm:"Confirm",yes:"Yes",no:"No",close:"Close",next:"Next",previous:"Previous",submit:"Submit",price:"Price",quantity:"Quantity",unit:"Unit",bulk:"Bulk",rating:"Rating",reviews:"Reviews",available:"Available",pieces:"pieces",kg:"kg",bottle:"bottle",pack:"pack",kit:"kit",piece:"piece"},categories:{grains:"Grains & Cereals",vegetables:"Fresh Vegetables",fruits:"Fresh Fruits",spices:"Spices & Masalas",oils:"Cooking Oils",dairy:"Dairy Products",snacks:"Street Snacks",beverages:"Beverages",waffle_supplies:"Waffle Supplies",panipuri_supplies:"Panipuri Supplies",packaging:"Packaging Materials",cleaning:"Cleaning Supplies"},vendorTypes:{panipuri_vendor:"Panipuri Vendor",street_vendor:"Street Food Vendor",waffle_counter:"Waffle Counter",juice_shop:"Juice Shop",street_shop:"Street Shop",restaurant:"Small Restaurant"},productNames:{"panipuri-kit-complete":"Complete Panipuri Kit","panipuri-puris-fresh":"Fresh Panipuri Puris","panipuri-masala-powder":"Panipuri Masala Powder","waffle-mix-ready":"Ready Waffle Mix","chocolate-syrup-waffle":"Chocolate Syrup for Waffles","oranges-fresh-juice":"Fresh Oranges for Juice","sugarcane-fresh":"Fresh Sugarcane","ice-cubes-bulk":"Ice Cubes","rice-basmati-25kg":"Premium Basmati Rice","wheat-flour-10kg":"Whole Wheat Flour","red-onions-fresh":"Fresh Red Onions","tomatoes-fresh":"Fresh Tomatoes","potatoes-fresh":"Fresh Potatoes","turmeric-powder":"Pure Turmeric Powder","chili-powder":"Red Chili Powder","sunflower-oil":"Refined Sunflower Oil","milk-packets":"Fresh Milk Packets","tea-powder":"Premium Tea Powder","paper-plates":"Disposable Paper Plates","plastic-cups-disposable":"Disposable Plastic Cups","lemons-fresh":"Fresh Lemons","garam-masala-powder":"Garam Masala Powder","honey-natural":"Pure Natural Honey"},footer:{aboutUs:"About Us",contactUs:"Contact Us",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",helpSupport:"Help & Support",followUs:"Follow Us",copyright:"© 2024 Baazar Dost. All rights reserved.",description:"Empowering street vendors with digital marketplace solutions"},voice:{commands:{search:"search",addToCart:"add to cart",goToCart:"go to cart",goHome:"go home",showProducts:"show products",showOrders:"show orders",checkout:"checkout",help:"help"},responses:{commandNotRecognized:"Sorry, I didn't understand that command. Try saying 'help' for available commands.",searchingFor:"Searching for",addedToCart:"Added to cart",removedFromCart:"Removed from cart",updatedQuantity:"Updated quantity",navigatingTo:"Navigating to",showingHelp:"Showing voice commands help",productNotFound:"Product not found. Please try a different name.",searchTermRequired:"Please specify what you want to search for",helpText:"You can say commands like 'go home', 'show products', 'add 5 rice to cart', 'search for onions', or 'view cart'. I support English, Hindi, Telugu, Tamil, and Kannada."}}}},hi:{translation:{app:{name:"बाज़ार दोस्त",tagline:"आपका स्ट्रीट वेंडर मार्केटप्लेस"},navigation:{home:"होम",products:"उत्पाद",cart:"कार्ट",orders:"ऑर्डर",suppliers:"🗺️ स्टोर लोकेटर",profile:"प्रोफ़ाइल"},auth:{login:"लॉगिन",register:"रजिस्टर",logout:"लॉगआउट",email:"ईमेल पता",password:"पासवर्ड",forgotPassword:"पासवर्ड भूल गए?",signInWithEmail:"ईमेल से साइन इन करें",sendLoginLink:"लॉगिन लिंक भेजें",checkEmail:"लॉगिन लिंक के लिए अपना ईमेल चेक करें"},home:{welcome:"बाज़ार दोस्त में आपका स्वागत है",subtitle:"स्ट्रीट वेंडर्स के लिए आपका भरोसेमंद मार्केटप्लेस",quickActions:"त्वरित कार्य",recentDeals:"हाल के सौदे",popularProducts:"लोकप्रिय उत्पाद"},products:{title:"उत्पाद",search:"उत्पाद खोजें...",categories:"श्रेणियां",allProducts:"सभी उत्पाद",filters:"फिल्टर",sortBy:"इसके अनुसार क्रमबद्ध करें",addToCart:"कार्ट में जोड़ें",outOfStock:"स्टॉक में नहीं",inStock:"स्टॉक में",bulkOrder:"थोक ऑर्डर",unitOrder:"यूनिट ऑर्डर"},cart:{title:"शॉपिंग कार्ट",empty:"आपका कार्ट खाली है",total:"कुल",checkout:"चेकआउट",quantity:"मात्रा",remove:"हटाएं",continueShopping:"खरीदारी जारी रखें"},orders:{title:"ऑर्डर इतिहास",orderNumber:"ऑर्डर #",date:"तारीख",status:"स्थिति",total:"कुल",viewDetails:"विवरण देखें",reorder:"फिर से ऑर्डर करें",pending:"लंबित",confirmed:"पुष्ट",delivered:"डिलीवर",cancelled:"रद्द"},suppliers:{title:"आपूर्तिकर्ता",contact:"संपर्क",location:"स्थान",rating:"रेटिंग",verified:"सत्यापित",specialties:"विशेषताएं"},profile:{title:"प्रोफ़ाइल",personalInfo:"व्यक्तिगत जानकारी",businessInfo:"व्यापारिक जानकारी",settings:"सेटिंग्स",language:"भाषा",theme:"थीम",notifications:"सूचनाएं"},search:{placeholder:"उत्पाद, आपूर्तिकर्ता खोजें...",voiceSearch:"वॉयस सर्च",listening:"सुन रहा है...",results:"खोज परिणाम",noResults:"कोई परिणाम नहीं मिला",stopListening:"सुनना बंद करें",searchResults:"खोज परिणाम"},deals:{title:"आज के सौदे",viewAll:"सभी सौदे देखें",save:"बचाएं",limitedTime:"सीमित समय",endsIn:"समाप्त होता है"},common:{loading:"लोड हो रहा है...",error:"त्रुटि",success:"सफलता",cancel:"रद्द करें",save:"सेव करें",edit:"संपादित करें",delete:"हटाएं",confirm:"पुष्टि करें",yes:"हां",no:"नहीं",close:"बंद करें",next:"अगला",previous:"पिछला",submit:"जमा करें",price:"कीमत",quantity:"मात्रा",unit:"यूनिट",bulk:"थोक",rating:"रेटिंग",reviews:"समीक्षा",available:"उपलब्ध",pieces:"टुकड़े",kg:"किलो",bottle:"बोतल",pack:"पैक",kit:"किट",piece:"टुकड़ा"},categories:{grains:"अनाज और दाल",vegetables:"ताजी सब्जियां",fruits:"ताजे फल",spices:"मसाले",oils:"खाना पकाने का तेल",dairy:"डेयरी उत्पाद",snacks:"स्ट्रीट स्नैक्स",beverages:"पेय पदार्थ",waffle_supplies:"वैफल सामग्री",panipuri_supplies:"पानी पूरी सामग्री",packaging:"पैकेजिंग सामग्री",cleaning:"सफाई की सामग्री"},vendorTypes:{panipuri_vendor:"पानी पूरी वेंडर",street_vendor:"स्ट्रीट फूड वेंडर",waffle_counter:"वैफल काउंटर",juice_shop:"जूस शॉप",street_shop:"स्ट्रीट शॉप",restaurant:"छोटा रेस्टोरेंट"},productNames:{"panipuri-kit-complete":"कम्प्लीट पानी पूरी किट","panipuri-puris-fresh":"ताजी पानी पूरी","panipuri-masala-powder":"पानी पूरी मसाला पाउडर","waffle-mix-ready":"तैयार वैफल मिक्स","chocolate-syrup-waffle":"वैफल के लिए चॉकलेट सिरप","oranges-fresh-juice":"जूस के लिए ताजे संतरे","sugarcane-fresh":"ताजा गन्ना","ice-cubes-bulk":"बर्फ के टुकड़े","rice-basmati-25kg":"प्रीमियम बासमती चावल","wheat-flour-10kg":"पूरे गेहूं का आटा","red-onions-fresh":"ताजे लाल प्याज","tomatoes-fresh":"ताजे टमाटर","potatoes-fresh":"ताजे आलू","turmeric-powder":"शुद्ध हल्दी पाउडर","chili-powder":"लाल मिर्च पाउडर","sunflower-oil":"रिफाइंड सूरजमुखी तेल","milk-packets":"ताजे दूध के पैकेट","tea-powder":"प्रीमियम चाय पाउडर","paper-plates":"डिस्पोजेबल पेपर प्लेट्स","plastic-cups-disposable":"डिस्पोजेबल प्लास्टिक कप","lemons-fresh":"ताजे नींबू","garam-masala-powder":"गरम मसाला पाउडर","honey-natural":"शुद्ध प्राकृतिक शहद"},footer:{aboutUs:"हमारे बारे में",contactUs:"संपर्क करें",privacyPolicy:"गोपनीयता नीति",termsOfService:"सेवा की शर्तें",helpSupport:"सहायता और समर्थन",followUs:"हमें फॉलो करें",copyright:"© 2024 बाज़ार दोस्त। सभी अधिकार सुरक्षित।",description:"डिजिटल मार्केटप्लेस समाधानों के साथ स्ट्रीट वेंडर्स को सशक्त बनाना"},voice:{commands:{search:"खोजें",addToCart:"कार्ट में जोड़ें",goToCart:"कार्ट में जाएं",goHome:"होम पर जाएं",showProducts:"उत्पाद दिखाएं",showOrders:"ऑर्डर दिखाएं",checkout:"चेकआउट",help:"सहायता"},responses:{commandNotRecognized:"कमांड समझ नहीं आया। कृपया फिर से कोशिश करें।",searchingFor:"खोज रहे हैं:",addedToCart:"कार्ट में जोड़ा गया",navigatingTo:"जा रहे हैं:",helpText:"आप कह सकते हैं: खोजें, कार्ट में जोड़ें, होम पर जाएं, उत्पाद दिखाएं"}}}},te:{translation:{app:{name:"బాజార్ దోస్త్",tagline:"మీ స్ట్రీట్ వెండర్ మార్కెట్‌ప్లేస్"},navigation:{home:"హోమ్",products:"ఉత్పత్తులు",cart:"కార్ట్",orders:"ఆర్డర్లు",suppliers:"🗺️ స్టోర్ లొకేటర్",profile:"ప్రొఫైల్"},auth:{login:"లాగిన్",register:"రిజిస్టర్",logout:"లాగ్అవుట్",email:"ఇమెయిల్ చిరునామా",password:"పాస్‌వర్డ్",forgotPassword:"పాస్‌వర్డ్ మర్చిపోయారా?",signInWithEmail:"ఇమెయిల్‌తో సైన్ ఇన్ చేయండి",sendLoginLink:"లాగిన్ లింక్ పంపండి",checkEmail:"లాగిన్ లింక్ కోసం మీ ఇమెయిల్ చెక్ చేయండి"},home:{welcome:"బాజార్ దోస్త్‌కు స్వాగతం",subtitle:"స్ట్రీట్ వెండర్లకు మీ నమ్మకమైన మార్కెట్‌ప్లేస్",quickActions:"త్వరిత చర్యలు",recentDeals:"ఇటీవలి డీల్స్",popularProducts:"ప్రసిద్ధ ఉత్పత్తులు"},products:{title:"ఉత్పత్తులు",search:"ఉత్పత్తులను వెతకండి...",categories:"వర్గాలు",allProducts:"అన్ని ఉత్పత్తులు",filters:"ఫిల్టర్లు",sortBy:"దీని ద్వారా క్రమబద్ధీకరించండి",addToCart:"కార్ట్‌కు జోడించండి",outOfStock:"స్టాక్‌లో లేదు",inStock:"స్టాక్‌లో ఉంది",bulkOrder:"బల్క్ ఆర్డర్",unitOrder:"యూనిట్ ఆర్డర్"},cart:{title:"షాపింగ్ కార్ట్",empty:"మీ కార్ట్ ఖాళీగా ఉంది",total:"మొత్తం",checkout:"చెక్అవుట్",quantity:"పరిమాణం",remove:"తొలగించండి",continueShopping:"షాపింగ్ కొనసాగించండి"},orders:{title:"ఆర్డర్ చరిత్ర",orderNumber:"ఆర్డర్ #",date:"తేదీ",status:"స్థితి",total:"మొత్తం",viewDetails:"వివరాలు చూడండి",reorder:"మళ్లీ ఆర్డర్ చేయండి",pending:"పెండింగ్",confirmed:"ధృవీకరించబడింది",delivered:"డెలివరీ చేయబడింది",cancelled:"రద్దు చేయబడింది"},suppliers:{title:"సరఫరాదారులు",contact:"సంప్రదింపు",location:"స్థానం",rating:"రేటింగ్",verified:"ధృవీకరించబడింది",specialties:"ప్రత్యేకతలు"},profile:{title:"ప్రొఫైల్",personalInfo:"వ్యక్తిగత సమాచారం",businessInfo:"వ్యాపార సమాచారం",settings:"సెట్టింగ్‌లు",language:"భాష",theme:"థీమ్",notifications:"నోటిఫికేషన్‌లు"},search:{placeholder:"ఉత్పత్తులు, సరఫరాదారులను వెతకండి...",voiceSearch:"వాయిస్ సెర్చ్",listening:"వింటోంది...",results:"వెతుకులాట ఫలితాలు",noResults:"ఫలితాలు కనుగొనబడలేదు",stopListening:"వినడం ఆపండి",searchResults:"వెతుకులాట ఫలితాలు"},deals:{title:"నేటి డీల్స్",viewAll:"అన్ని డీల్స్ చూడండి",save:"సేవ్ చేయండి",limitedTime:"పరిమిత సమయం",endsIn:"ముగుస్తుంది"},common:{loading:"లోడ్ అవుతోంది...",error:"లోపం",success:"విజయం",cancel:"రద్దు చేయండి",save:"సేవ్ చేయండి",edit:"సవరించండి",delete:"తొలగించండి",confirm:"ధృవీకరించండి",yes:"అవును",no:"లేదు",close:"మూసివేయండి",next:"తదుపరి",previous:"మునుపటి",submit:"సమర్పించండి",price:"ధర",quantity:"పరిమాణం",unit:"యూనిట్",bulk:"బల్క్",rating:"రేటింగ్",reviews:"సమీక్షలు",available:"అందుబాటులో",pieces:"ముక్కలు",kg:"కిలో",bottle:"బాటిల్",pack:"ప్యాక్",kit:"కిట్",piece:"ముక్క"},categories:{grains:"ధాన్యాలు మరియు పప్పులు",vegetables:"తాజా కూరగాయలు",fruits:"తాజా పండ్లు",spices:"మసాలా దినుసులు",oils:"వంట నూనెలు",dairy:"పాల ఉత్పత్తులు",snacks:"స్ట్రీట్ స్నాక్స్",beverages:"పానీయాలు",waffle_supplies:"వాఫిల్ సామాగ్రి",panipuri_supplies:"పానీపూరీ సామాగ్రి",packaging:"ప్యాకేజింగ్ సామాగ్రి",cleaning:"శుభ్రపరిచే సామాగ్రి"},vendorTypes:{panipuri_vendor:"పానీపూరీ వెండర్",street_vendor:"స్ట్రీట్ ఫుడ్ వెండర్",waffle_counter:"వాఫిల్ కౌంటర్",juice_shop:"జ్యూస్ షాప్",street_shop:"స్ట్రీట్ షాప్",restaurant:"చిన్న రెస్టారెంట్"},productNames:{"panipuri-kit-complete":"కంప్లీట్ పానీపూరీ కిట్","panipuri-puris-fresh":"తాజా పానీపూరీ పూరీలు","panipuri-masala-powder":"పానీపూరీ మసాలా పౌడర్","waffle-mix-ready":"రెడీ వాఫిల్ మిక్స్","chocolate-syrup-waffle":"వాఫిల్స్ కోసం చాక్లెట్ సిరప్","oranges-fresh-juice":"జ్యూస్ కోసం తాజా నారింజలు","sugarcane-fresh":"తాజా చెరకు","ice-cubes-bulk":"మంచు ముక్కలు","rice-basmati-25kg":"ప్రీమియం బాస్మతి బియ్యం","wheat-flour-10kg":"పూర్తి గోధుమ పిండి","red-onions-fresh":"తాజా ఎర్ర ఉల్లిపాయలు","tomatoes-fresh":"తాజా టమాటాలు","potatoes-fresh":"తాజా బంగాళాదుంపలు","turmeric-powder":"స్వచ్ఛమైన పసుపు పౌడర్","chili-powder":"ఎర్ర మిర్చి పౌడర్","sunflower-oil":"రిఫైన్డ్ సూర్యకాంతి నూనె","milk-packets":"తాజా పాల ప్యాకెట్లు","tea-powder":"ప్రీమియం టీ పౌడర్","paper-plates":"డిస్పోజబుల్ పేపర్ ప్లేట్లు","plastic-cups-disposable":"డిస్పోజబుల్ ప్లాస్టిక్ కప్పులు","lemons-fresh":"తాజా నిమ్మకాయలు","garam-masala-powder":"గరం మసాలా పౌడర్","honey-natural":"స్వచ్ఛమైన సహజ తేనె"},footer:{aboutUs:"మా గురించి",contactUs:"మమ్మల్ని సంప్రదించండి",privacyPolicy:"గోప్యతా విధానం",termsOfService:"సేవా నిబంధనలు",helpSupport:"సహాయం మరియు మద్దతు",followUs:"మమ్మల్ని అనుసరించండి",copyright:"© 2024 బాజార్ దోస్త్. అన్ని హక్కులు రక్షించబడ్డాయి.",description:"డిజిటల్ మార్కెట్‌ప్లేస్ పరిష్కారాలతో స్ట్రీట్ వెండర్లను శక్తివంతం చేయడం"},voice:{commands:{search:"వెతకండి",addToCart:"కార్ట్‌కు జోడించండి",goToCart:"కార్ట్‌కు వెళ్ళండి",goHome:"హోమ్‌కు వెళ్ళండి",showProducts:"ఉత్పత్తులను చూపించండి",showOrders:"ఆర్డర్లను చూపించండి",checkout:"చెక్అవుట్",help:"సహాయం"},responses:{commandNotRecognized:"క్షమించండి, నేను ఆ కమాండ్ అర్థం చేసుకోలేకపోయాను. అందుబాటులో ఉన్న కమాండ్‌ల కోసం 'సహాయం' అని చెప్పండి.",searchingFor:"వెతుకుతున్నాం",addedToCart:"కార్ట్‌లో జోడించబడింది",removedFromCart:"కార్ట్ నుండి తొలగించబడింది",updatedQuantity:"పరిమాణం అప్‌డేట్ చేయబడింది",navigatingTo:"వెళ్తున్నాం",showingHelp:"వాయిస్ కమాండ్ సహాయం చూపిస్తున్నాం",productNotFound:"ప్రొడక్ట్ కనుగొనబడలేదు. దయచేసి వేరే పేరు ప్రయత్నించండి.",searchTermRequired:"దయచేసి మీరు ఏమి వెతకాలనుకుంటున్నారో చెప్పండి",helpText:"మీరు 'హోమ్‌కు వెళ్ళండి', 'ప్రొడక్ట్స్ చూపించండి', '5 బియ్యం కార్ట్‌లో జోడించండి', 'ఉల్లిపాయలు వెతకండి', లేదా 'కార్ట్ చూడండి' అని చెప్పవచ్చు. నేను తెలుగు, ఇంగ్లీష్, హిందీ, తమిళ్ మరియు కన్నడ అర్థం చేసుకుంటాను."}}}},ta:{translation:{app:{name:"பாசார் தோஸ்த்",tagline:"உங்கள் தெரு வியாபாரி சந்தை"},navigation:{home:"முகப்பு",products:"பொருட்கள்",cart:"கார்ட்",orders:"ஆர்டர்கள்",suppliers:"🗺️ கடை கண்டுபிடிப்பான்",profile:"சுயவிவரம்"},auth:{login:"உள்நுழைவு",register:"பதிவு",logout:"வெளியேறு",email:"மின்னஞ்சல் முகவரி",password:"கடவுச்சொல்",forgotPassword:"கடவுச்சொல் மறந்துவிட்டதா?",signInWithEmail:"மின்னஞ்சல் மூலம் உள்நுழையவும்",sendLoginLink:"உள்நுழைவு இணைப்பை அனுப்பவும்",checkEmail:"உள்நுழைவு இணைப்பிற்கு உங்கள் மின்னஞ்சலைச் சரிபார்க்கவும்"},home:{welcome:"பாசார் தோஸ்த்திற்கு வரவேற்கிறோம்",subtitle:"தெரு வியாபாரிகளுக்கான உங்கள் நம்பகமான சந்தை",quickActions:"விரைவு செயல்கள்",recentDeals:"சமீபத்திய ஒப்பந்தங்கள்",popularProducts:"பிரபலமான பொருட்கள்"},products:{title:"பொருட்கள்",search:"பொருட்களைத் தேடுங்கள்...",categories:"வகைகள்",allProducts:"அனைத்து பொருட்கள்",filters:"வடிகட்டிகள்",sortBy:"இதன் மூலம் வரிசைப்படுத்து",addToCart:"கார்ட்டில் சேர்க்கவும்",outOfStock:"கையிருப்பில் இல்லை",inStock:"கையிருப்பில் உள்ளது",bulkOrder:"மொத்த ஆர்டர்",unitOrder:"யூனிட் ஆர்டர்"},cart:{title:"ஷாப்பிங் கார்ட்",empty:"உங்கள் கார்ட் காலியாக உள்ளது",total:"மொத்தம்",checkout:"செக்அவுட்",quantity:"அளவு",remove:"அகற்று",continueShopping:"ஷாப்பிங்கைத் தொடரவும்"},orders:{title:"ஆர்டர் வரலாறு",orderNumber:"ஆர்டர் #",date:"தேதி",status:"நிலை",total:"மொத்தம்",viewDetails:"விவரங்களைப் பார்க்கவும்",reorder:"மீண்டும் ஆர்டர் செய்யவும்",pending:"நிலுவையில்",confirmed:"உறுதிப்படுத்தப்பட்டது",delivered:"வழங்கப்பட்டது",cancelled:"ரத்து செய்யப்பட்டது"},suppliers:{title:"சப்ளையர்கள்",contact:"தொடர்பு",location:"இடம்",rating:"மதிப்பீடு",verified:"சரிபார்க்கப்பட்டது",specialties:"சிறப்புகள்"},stores:{title:"அருகிலுள்ள கடைகள்",findStores:"கடைகளைக் கண்டறியவும்",getDirections:"திசைகளைப் பெறுங்கள்",callStore:"கடையை அழைக்கவும்",openHours:"திறந்த நேரம்",distance:"தூரம்",storeTypes:"கடை வகைகள்",searchStores:"கடைகள், இடங்கள் அல்லது சிறப்புகளைத் தேடுங்கள்...",noStoresFound:"கடைகள் எதுவும் கிடைக்கவில்லை",locationPermission:"அருகிலுள்ள கடைகளைக் கண்டறிய இடத்தை இயக்கவும்",gettingLocation:"உங்கள் இடத்தைப் பெறுகிறது...",locationFound:"இடம் கண்டறியப்பட்டது - அருகிலுள்ள கடைகளைக் காட்டுகிறது",yourLocation:"உங்கள் இடம்"},profile:{title:"சுயவிவரம்",personalInfo:"தனிப்பட்ட தகவல்",businessInfo:"வணிக தகவல்",settings:"அமைப்புகள்",language:"மொழி",theme:"தீம்",notifications:"அறிவிப்புகள்"},search:{placeholder:"பொருட்கள், சப்ளையர்களைத் தேடுங்கள்...",voiceSearch:"குரல் தேடல்",listening:"கேட்கிறது...",results:"தேடல் முடிவுகள்",noResults:"முடிவுகள் எதுவும் கிடைக்கவில்லை",stopListening:"கேட்பதை நிறுத்து",searchResults:"தேடல் முடிவுகள்"},deals:{title:"இன்றைய ஒப்பந்தங்கள்",viewAll:"அனைத்து ஒப்பந்தங்களையும் பார்க்கவும்",save:"சேமிக்கவும்",limitedTime:"குறைந்த நேரம்",endsIn:"முடிவடைகிறது"},common:{loading:"ஏற்றுகிறது...",error:"பிழை",success:"வெற்றி",cancel:"ரத்து செய்",save:"சேமிக்கவும்",edit:"திருத்து",delete:"நீக்கு",confirm:"உறுதிப்படுத்து",yes:"ஆம்",no:"இல்லை",close:"மூடு",next:"அடுத்தது",previous:"முந்தைய",submit:"சமர்ப்பிக்கவும்",price:"விலை",quantity:"அளவு",unit:"யூனிட்",bulk:"மொத்தம்",rating:"மதிப்பீடு",reviews:"மதிப்புரைகள்",available:"கிடைக்கிறது",pieces:"துண்டுகள்",kg:"கிலோ",bottle:"பாட்டில்",pack:"பேக்",kit:"கிட்",piece:"துண்டு"},categories:{grains:"தானியங்கள் மற்றும் பருப்புகள்",vegetables:"புதிய காய்கறிகள்",fruits:"புதிய பழங்கள்",spices:"மசாலாப் பொருட்கள்",oils:"சமையல் எண்ணெய்கள்",dairy:"பால் பொருட்கள்",snacks:"தெரு சிற்றுண்டிகள்",beverages:"பானங்கள்",waffle_supplies:"வாஃபிள் பொருட்கள்",panipuri_supplies:"பானிபூரி பொருட்கள்",packaging:"பேக்கேஜிங் பொருட்கள்",cleaning:"சுத்தம் செய்யும் பொருட்கள்"},vendorTypes:{panipuri_vendor:"பானிபூரி வியாபாரி",street_vendor:"தெரு உணவு வியாபாரி",waffle_counter:"வாஃபிள் கவுண்டர்",juice_shop:"ஜூஸ் கடை",street_shop:"தெரு கடை",restaurant:"சிறிய உணவகம்"},voice:{commands:{search:"தேடு",addToCart:"கார்ட்டில் சேர்",goToCart:"கார்ட்டிற்கு செல்",goHome:"முகப்பிற்கு செல்",showProducts:"பொருட்களைக் காட்டு",showOrders:"ஆர்டர்களைக் காட்டு",checkout:"செக்அவுட்",help:"உதவி"},responses:{commandNotRecognized:"கட்டளை புரியவில்லை. மீண்டும் முயற்சிக்கவும்.",searchingFor:"தேடுகிறது:",addedToCart:"கார்ட்டில் சேர்க்கப்பட்டது",removedFromCart:"கார்ட்டிலிருந்து அகற்றப்பட்டது",updatedQuantity:"அளவு புதுப்பிக்கப்பட்டது",navigatingTo:"செல்கிறோம்",showingHelp:"குரல் கட்டளை உதவியைக் காட்டுகிறோம்",productNotFound:"தயாரிப்பு கிடைக்கவில்லை. தயவுசெய்து வேறு பெயரை முயற்சிக்கவும்.",searchTermRequired:"தயவுசெய்து நீங்கள் எதைத் தேட விரும்புகிறீர்கள் என்று சொல்லுங்கள்",helpText:"நீங்கள் 'வீட்டிற்கு செல்லுங்கள்', 'தயாரிப்புகளைக் காட்டுங்கள்', '5 அரிசி கார்ட்டில் சேர்க்கவும்', 'வெங்காயம் தேடுங்கள்', அல்லது 'கார்ட்டைப் பார்க்கவும்' என்று சொல்லலாம். நான் தமிழ், ஆங்கிலம், இந்தி, தெலுங்கு மற்றும் கன்னடம் புரிந்துகொள்கிறேன்."}}}},kn:{translation:{app:{name:"ಬಾಜಾರ್ ದೋಸ್ತ್",tagline:"ನಿಮ್ಮ ಬೀದಿ ವ್ಯಾಪಾರಿ ಮಾರುಕಟ್ಟೆ"},navigation:{home:"ಮುಖ್ಯಪುಟ",products:"ಉತ್ಪನ್ನಗಳು",cart:"ಕಾರ್ಟ್",orders:"ಆರ್ಡರ್‌ಗಳು",suppliers:"🗺️ ಅಂಗಡಿ ಲೊಕೇಟರ್",profile:"ಪ್ರೊಫೈಲ್"},auth:{login:"ಲಾಗಿನ್",register:"ನೋಂದಣಿ",logout:"ಲಾಗ್‌ಔಟ್",email:"ಇಮೇಲ್ ವಿಳಾಸ",enterEmail:"ನಿಮ್ಮ ಇಮೇಲ್ ವಿಳಾಸವನ್ನು ನಮೂದಿಸಿ",password:"ಪಾಸ್‌ವರ್ಡ್",forgotPassword:"ಪಾಸ್‌ವರ್ಡ್ ಮರೆತಿದ್ದೀರಾ?",signInWithEmail:"ಇಮೇಲ್‌ನೊಂದಿಗೆ ಸೈನ್ ಇನ್ ಮಾಡಿ",sendLoginLink:"ಲಾಗಿನ್ ಲಿಂಕ್ ಕಳುಹಿಸಿ",checkEmail:"ಲಾಗಿನ್ ಲಿಂಕ್‌ಗಾಗಿ ನಿಮ್ಮ ಇಮೇಲ್ ಪರಿಶೀಲಿಸಿ"},home:{welcome:"ಬಾಜಾರ್ ದೋಸ್ತ್‌ಗೆ ಸ್ವಾಗತ",subtitle:"ಬೀದಿ ವ್ಯಾಪಾರಿಗಳಿಗೆ ನಿಮ್ಮ ವಿಶ್ವಾಸಾರ್ಹ ಮಾರುಕಟ್ಟೆ",quickActions:"ತ್ವರಿತ ಕ್ರಿಯೆಗಳು",recentDeals:"ಇತ್ತೀಚಿನ ಡೀಲ್‌ಗಳು",popularProducts:"ಜನಪ್ರಿಯ ಉತ್ಪನ್ನಗಳು"},products:{title:"ಉತ್ಪನ್ನಗಳು",search:"ಉತ್ಪನ್ನಗಳನ್ನು ಹುಡುಕಿ...",categories:"ವರ್ಗಗಳು",allProducts:"ಎಲ್ಲಾ ಉತ್ಪನ್ನಗಳು",filters:"ಫಿಲ್ಟರ್‌ಗಳು",sortBy:"ಇದರ ಮೂಲಕ ವಿಂಗಡಿಸಿ",addToCart:"ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಿ",outOfStock:"ಸ್ಟಾಕ್‌ನಲ್ಲಿ ಇಲ್ಲ",inStock:"ಸ್ಟಾಕ್‌ನಲ್ಲಿ ಇದೆ",bulkOrder:"ಬಲ್ಕ್ ಆರ್ಡರ್",unitOrder:"ಯೂನಿಟ್ ಆರ್ಡರ್"},cart:{title:"ಶಾಪಿಂಗ್ ಕಾರ್ಟ್",empty:"ನಿಮ್ಮ ಕಾರ್ಟ್ ಖಾಲಿಯಾಗಿದೆ",total:"ಒಟ್ಟು",checkout:"ಚೆಕ್‌ಔಟ್",quantity:"ಪ್ರಮಾಣ",remove:"ತೆಗೆದುಹಾಕಿ",continueShopping:"ಶಾಪಿಂಗ್ ಮುಂದುವರಿಸಿ"},orders:{title:"ಆರ್ಡರ್ ಇತಿಹಾಸ",orderNumber:"ಆರ್ಡರ್ #",date:"ದಿನಾಂಕ",status:"ಸ್ಥಿತಿ",total:"ಒಟ್ಟು",viewDetails:"ವಿವರಗಳನ್ನು ನೋಡಿ",reorder:"ಮತ್ತೆ ಆರ್ಡರ್ ಮಾಡಿ",pending:"ಬಾಕಿ",confirmed:"ದೃಢೀಕರಿಸಲಾಗಿದೆ",delivered:"ವಿತರಿಸಲಾಗಿದೆ",cancelled:"ರದ್ದುಗೊಳಿಸಲಾಗಿದೆ"},suppliers:{title:"ಪೂರೈಕೆದಾರರು",contact:"ಸಂಪರ್ಕ",location:"ಸ್ಥಳ",rating:"ರೇಟಿಂಗ್",verified:"ಪರಿಶೀಲಿಸಲಾಗಿದೆ",specialties:"ವಿಶೇಷತೆಗಳು"},stores:{title:"ಹತ್ತಿರದ ಅಂಗಡಿಗಳು",findStores:"ಅಂಗಡಿಗಳನ್ನು ಹುಡುಕಿ",getDirections:"ದಿಕ್ಕುಗಳನ್ನು ಪಡೆಯಿರಿ",callStore:"ಅಂಗಡಿಗೆ ಕರೆ ಮಾಡಿ",openHours:"ತೆರೆದ ಸಮಯ",distance:"ದೂರ",storeTypes:"ಅಂಗಡಿ ಪ್ರಕಾರಗಳು",searchStores:"ಅಂಗಡಿಗಳು, ಸ್ಥಳಗಳು ಅಥವಾ ವಿಶೇಷತೆಗಳನ್ನು ಹುಡುಕಿ...",noStoresFound:"ಯಾವುದೇ ಅಂಗಡಿಗಳು ಕಂಡುಬಂದಿಲ್ಲ",locationPermission:"ಹತ್ತಿರದ ಅಂಗಡಿಗಳನ್ನು ಹುಡುಕಲು ಸ್ಥಳವನ್ನು ಸಕ್ರಿಯಗೊಳಿಸಿ",gettingLocation:"ನಿಮ್ಮ ಸ್ಥಳವನ್ನು ಪಡೆಯುತ್ತಿದೆ...",locationFound:"ಸ್ಥಳ ಕಂಡುಬಂದಿದೆ - ಹತ್ತಿರದ ಅಂಗಡಿಗಳನ್ನು ತೋರಿಸುತ್ತಿದೆ",yourLocation:"ನಿಮ್ಮ ಸ್ಥಳ"},profile:{title:"ಪ್ರೊಫೈಲ್",personalInfo:"ವೈಯಕ್ತಿಕ ಮಾಹಿತಿ",businessInfo:"ವ್ಯಾಪಾರ ಮಾಹಿತಿ",settings:"ಸೆಟ್ಟಿಂಗ್‌ಗಳು",language:"ಭಾಷೆ",theme:"ಥೀಮ್",notifications:"ಅಧಿಸೂಚನೆಗಳು"},search:{placeholder:"ಉತ್ಪನ್ನಗಳು, ಪೂರೈಕೆದಾರರನ್ನು ಹುಡುಕಿ...",voiceSearch:"ಧ್ವನಿ ಹುಡುಕಾಟ",listening:"ಕೇಳುತ್ತಿದೆ...",results:"ಹುಡುಕಾಟ ಫಲಿತಾಂಶಗಳು",noResults:"ಯಾವುದೇ ಫಲಿತಾಂಶಗಳು ಕಂಡುಬಂದಿಲ್ಲ",stopListening:"ಕೇಳುವುದನ್ನು ನಿಲ್ಲಿಸಿ",searchResults:"ಹುಡುಕಾಟ ಫಲಿತಾಂಶಗಳು"},deals:{title:"ಇಂದಿನ ಡೀಲ್‌ಗಳು",viewAll:"ಎಲ್ಲಾ ಡೀಲ್‌ಗಳನ್ನು ನೋಡಿ",save:"ಉಳಿಸಿ",limitedTime:"ಸೀಮಿತ ಸಮಯ",endsIn:"ಕೊನೆಗೊಳ್ಳುತ್ತದೆ"},common:{loading:"ಲೋಡ್ ಆಗುತ್ತಿದೆ...",error:"ದೋಷ",success:"ಯಶಸ್ಸು",cancel:"ರದ್ದುಗೊಳಿಸಿ",save:"ಉಳಿಸಿ",edit:"ಸಂಪಾದಿಸಿ",delete:"ಅಳಿಸಿ",confirm:"ದೃಢೀಕರಿಸಿ",yes:"ಹೌದು",no:"ಇಲ್ಲ",close:"ಮುಚ್ಚಿ",next:"ಮುಂದಿನ",previous:"ಹಿಂದಿನ",submit:"ಸಲ್ಲಿಸಿ",price:"ಬೆಲೆ",quantity:"ಪ್ರಮಾಣ",unit:"ಯೂನಿಟ್",bulk:"ಬಲ್ಕ್",rating:"ರೇಟಿಂಗ್",reviews:"ವಿಮರ್ಶೆಗಳು",available:"ಲಭ್ಯವಿದೆ",pieces:"ತುಂಡುಗಳು",kg:"ಕಿಲೋ",bottle:"ಬಾಟಲಿ",pack:"ಪ್ಯಾಕ್",kit:"ಕಿಟ್",piece:"ತುಂಡು"},categories:{grains:"ಧಾನ್ಯಗಳು ಮತ್ತು ದಾಲ್‌ಗಳು",vegetables:"ತಾಜಾ ತರಕಾರಿಗಳು",fruits:"ತಾಜಾ ಹಣ್ಣುಗಳು",spices:"ಮಸಾಲೆ ಪದಾರ್ಥಗಳು",oils:"ಅಡುಗೆ ಎಣ್ಣೆಗಳು",dairy:"ಹಾಲು ಉತ್ಪನ್ನಗಳು",snacks:"ಬೀದಿ ತಿಂಡಿಗಳು",beverages:"ಪಾನೀಯಗಳು",waffle_supplies:"ವಾಫಲ್ ಸಾಮಗ್ರಿಗಳು",panipuri_supplies:"ಪಾನಿಪೂರಿ ಸಾಮಗ್ರಿಗಳು",packaging:"ಪ್ಯಾಕೇಜಿಂಗ್ ಸಾಮಗ್ರಿಗಳು",cleaning:"ಸ್ವಚ್ಛಗೊಳಿಸುವ ಸಾಮಗ್ರಿಗಳು"},vendorTypes:{panipuri_vendor:"ಪಾನಿಪೂರಿ ವ್ಯಾಪಾರಿ",street_vendor:"ಬೀದಿ ಆಹಾರ ವ್ಯಾಪಾರಿ",waffle_counter:"ವಾಫಲ್ ಕೌಂಟರ್",juice_shop:"ಜ್ಯೂಸ್ ಅಂಗಡಿ",street_shop:"ಬೀದಿ ಅಂಗಡಿ",restaurant:"ಸಣ್ಣ ರೆಸ್ಟೋರೆಂಟ್"},voice:{commands:{search:"ಹುಡುಕಿ",addToCart:"ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಿ",goToCart:"ಕಾರ್ಟ್‌ಗೆ ಹೋಗಿ",goHome:"ಮುಖ್ಯಪುಟಕ್ಕೆ ಹೋಗಿ",showProducts:"ಉತ್ಪನ್ನಗಳನ್ನು ತೋರಿಸಿ",showOrders:"ಆರ್ಡರ್‌ಗಳನ್ನು ತೋರಿಸಿ",checkout:"ಚೆಕ್‌ಔಟ್",help:"ಸಹಾಯ"},responses:{commandNotRecognized:"ಆಜ್ಞೆ ಅರ್ಥವಾಗಲಿಲ್ಲ. ಮತ್ತೆ ಪ್ರಯತ್ನಿಸಿ.",searchingFor:"ಹುಡುಕುತ್ತಿದೆ:",addedToCart:"ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಲಾಗಿದೆ",removedFromCart:"ಕಾರ್ಟ್‌ನಿಂದ ತೆಗೆದುಹಾಕಲಾಗಿದೆ",updatedQuantity:"ಪ್ರಮಾಣ ನವೀಕರಿಸಲಾಗಿದೆ",navigatingTo:"ಹೋಗುತ್ತಿದ್ದೇವೆ",showingHelp:"ಧ್ವನಿ ಆಜ್ಞೆ ಸಹಾಯವನ್ನು ತೋರಿಸುತ್ತಿದ್ದೇವೆ",productNotFound:"ಉತ್ಪನ್ನ ಸಿಗಲಿಲ್ಲ. ದಯವಿಟ್ಟು ಬೇರೆ ಹೆಸರನ್ನು ಪ್ರಯತ್ನಿಸಿ.",searchTermRequired:"ದಯವಿಟ್ಟು ನೀವು ಏನನ್ನು ಹುಡುಕಲು ಬಯಸುತ್ತೀರಿ ಎಂದು ಹೇಳಿ",helpText:"ನೀವು 'ಮನೆಗೆ ಹೋಗಿ', 'ಉತ್ಪನ್ನಗಳನ್ನು ತೋರಿಸಿ', '5 ಅಕ್ಕಿ ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಿ', 'ಈರುಳ್ಳಿ ಹುಡುಕಿ', ಅಥವಾ 'ಕಾರ್ಟ್ ನೋಡಿ' ಎಂದು ಹೇಳಬಹುದು. ನಾನು ಕನ್ನಡ, ಇಂಗ್ಲಿಷ್, ಹಿಂದಿ, ತೆಲುಗು ಮತ್ತು ತಮಿಳು ಅರ್ಥಮಾಡಿಕೊಳ್ಳುತ್ತೇನೆ."}}}}};zd.use(cu).use(fi).init({resources:du,fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"baazar-dost-language"},interpolation:{escapeValue:!1},react:{useSuspense:!1}}),Bt.createRoot(document.getElementById("root")).render(Dt.jsx(n.StrictMode,{children:Dt.jsx(Kc,{})}));export{qd as t};
